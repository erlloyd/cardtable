(this.webpackJsonpcardtable=this.webpackJsonpcardtable||[]).push([[0],{104:function(e){e.exports=JSON.parse('[{"Title":"Passage Through Mirkwood","Slug":"Passage-Through-Mirkwood","Product":"Core Set","Number":1,"QuestCards":[],"ScenarioCards":[]},{"Title":"Journey Along the Anduin","Slug":"Journey-Along-the-Anduin","Product":"Core Set","Number":2,"QuestCards":[],"ScenarioCards":[]},{"Title":"Escape from Dol Guldur","Slug":"Escape-from-Dol-Guldur","Product":"Core Set","Number":3,"QuestCards":[],"ScenarioCards":[]},{"Title":"The Oath","Slug":"The-Oath","Product":"Two-Player Limited Edition Starter","Number":1,"QuestCards":[],"ScenarioCards":[]},{"Title":"The Caves of Nibin-D\xfbm","Slug":"The-Caves-of-Nibin-D\xfbm","Product":"Two-Player Limited Edition Starter","Number":2,"QuestCards":[],"ScenarioCards":[]},{"Title":"Passage Through Mirkwood (Rev)","Slug":"Passage-Through-Mirkwood-(Rev)","Product":"Revised Core Set","Number":1,"QuestCards":[],"ScenarioCards":[]},{"Title":"Journey Along the Anduin (Rev)","Slug":"Journey-Along-the-Anduin-(Rev)","Product":"Revised Core Set","Number":2,"QuestCards":[],"ScenarioCards":[]},{"Title":"Escape from Dol Guldur (Rev)","Slug":"Escape-from-Dol-Guldur-(Rev)","Product":"Revised Core Set","Number":3,"QuestCards":[],"ScenarioCards":[]},{"Title":"The Hunt for Gollum","Slug":"The-Hunt-for-Gollum","Product":"The Hunt for Gollum","Number":1,"QuestCards":[],"ScenarioCards":[]},{"Title":"Conflict at the Carrock","Slug":"Conflict-at-the-Carrock","Product":"Conflict at the Carrock","Number":2,"QuestCards":[],"ScenarioCards":[]},{"Title":"A Journey to Rhosgobel","Slug":"A-Journey-to-Rhosgobel","Product":"A Journey to Rhosgobel","Number":3,"QuestCards":[],"ScenarioCards":[]},{"Title":"The Hills of Emyn Muil","Slug":"The-Hills-of-Emyn-Muil","Product":"The Hills of Emyn Muil","Number":4,"QuestCards":[],"ScenarioCards":[]},{"Title":"The Dead Marshes","Slug":"The-Dead-Marshes","Product":"The Dead Marshes","Number":5,"QuestCards":[],"ScenarioCards":[]},{"Title":"Return to Mirkwood","Slug":"Return-to-Mirkwood","Product":"Return to Mirkwood","Number":6,"QuestCards":[],"ScenarioCards":[]},{"Title":"Into the Pit","Slug":"Into-the-Pit","Product":"Khazad-d\xfbm","Number":1,"QuestCards":[],"ScenarioCards":[]},{"Title":"The Seventh Level","Slug":"The-Seventh-Level","Product":"Khazad-d\xfbm","Number":2,"QuestCards":[],"ScenarioCards":[]},{"Title":"Flight from Moria","Slug":"Flight-from-Moria","Product":"Khazad-d\xfbm","Number":3,"QuestCards":[],"ScenarioCards":[]},{"Title":"The Redhorn Gate","Slug":"The-Redhorn-Gate","Product":"The Redhorn Gate","Number":1,"QuestCards":[],"ScenarioCards":[]},{"Title":"Road to Rivendell","Slug":"Road-to-Rivendell","Product":"Road to Rivendell","Number":2,"QuestCards":[],"ScenarioCards":[]},{"Title":"The Watcher in the Water","Slug":"The-Watcher-in-the-Water","Product":"The Watcher in the Water","Number":3,"QuestCards":[],"ScenarioCards":[]},{"Title":"The Long Dark","Slug":"The-Long-Dark","Product":"The Long Dark","Number":4,"QuestCards":[],"ScenarioCards":[]},{"Title":"Foundations of Stone","Slug":"Foundations-of-Stone","Product":"Foundations of Stone","Number":5,"QuestCards":[],"ScenarioCards":[]},{"Title":"Shadow and Flame","Slug":"Shadow-and-Flame","Product":"Shadow and Flame","Number":6,"QuestCards":[],"ScenarioCards":[]},{"Title":"Peril in Pelargir","Slug":"Peril-in-Pelargir","Product":"Heirs of N\xfamenor","Number":1,"QuestCards":[],"ScenarioCards":[]},{"Title":"Into Ithilien","Slug":"Into-Ithilien","Product":"Heirs of N\xfamenor","Number":2,"QuestCards":[],"ScenarioCards":[]},{"Title":"The Siege of Cair Andros","Slug":"The-Siege-of-Cair-Andros","Product":"Heirs of N\xfamenor","Number":3,"QuestCards":[],"ScenarioCards":[]},{"Title":"The Steward\'s Fear","Slug":"The-Steward\'s-Fear","Product":"The Steward\'s Fear","Number":1,"QuestCards":[],"ScenarioCards":[]},{"Title":"The Dr\xfaadan Forest","Slug":"The-Dr\xfaadan-Forest","Product":"The Dr\xfaadan Forest","Number":2,"QuestCards":[],"ScenarioCards":[]},{"Title":"Encounter at Amon D\xeen","Slug":"Encounter-at-Amon-D\xeen","Product":"Encounter at Amon D\xeen","Number":3,"QuestCards":[],"ScenarioCards":[]},{"Title":"Assault on Osgiliath","Slug":"Assault-on-Osgiliath","Product":"Assault on Osgiliath","Number":4,"QuestCards":[],"ScenarioCards":[]},{"Title":"The Blood of Gondor","Slug":"The-Blood-of-Gondor","Product":"The Blood of Gondor","Number":5,"QuestCards":[],"ScenarioCards":[]},{"Title":"The Morgul Vale","Slug":"The-Morgul-Vale","Product":"The Morgul Vale","Number":6,"QuestCards":[],"ScenarioCards":[]},{"Title":"The Fords of Isen","Slug":"The-Fords-of-Isen","Product":"The Voice of Isengard","Number":1,"QuestCards":[],"ScenarioCards":[]},{"Title":"To Catch an Orc","Slug":"To-Catch-an-Orc","Product":"The Voice of Isengard","Number":2,"QuestCards":[],"ScenarioCards":[]},{"Title":"Into Fangorn","Slug":"Into-Fangorn","Product":"The Voice of Isengard","Number":3,"QuestCards":[],"ScenarioCards":[]},{"Title":"The Dunland Trap","Slug":"The-Dunland-Trap","Product":"The Dunland Trap","Number":1,"QuestCards":[],"ScenarioCards":[]},{"Title":"The Three Trials","Slug":"The-Three-Trials","Product":"The Three Trials","Number":2,"QuestCards":[],"ScenarioCards":[]},{"Title":"Trouble in Tharbad","Slug":"Trouble-in-Tharbad","Product":"Trouble in Tharbad","Number":3,"QuestCards":[],"ScenarioCards":[]},{"Title":"The N\xeen-in-Eilph","Slug":"The-N\xeen-in-Eilph","Product":"The N\xeen-in-Eilph","Number":4,"QuestCards":[],"ScenarioCards":[]},{"Title":"Celebrimbor\'s Secret","Slug":"Celebrimbor\'s-Secret","Product":"Celebrimbor\'s Secret","Number":5,"QuestCards":[],"ScenarioCards":[]},{"Title":"The Antlered Crown","Slug":"The-Antlered-Crown","Product":"The Antlered Crown","Number":6,"QuestCards":[],"ScenarioCards":[]},{"Title":"Intruders in Chetwood","Slug":"Intruders-in-Chetwood","Product":"The Lost Realm","Number":1,"QuestCards":[],"ScenarioCards":[]},{"Title":"The Weather Hills","Slug":"The-Weather-Hills","Product":"The Lost Realm","Number":2,"QuestCards":[],"ScenarioCards":[]},{"Title":"Deadmen\'s Dike","Slug":"Deadmen\'s-Dike","Product":"The Lost Realm","Number":3,"QuestCards":[],"ScenarioCards":[]},{"Title":"The Wastes of Eriador","Slug":"The-Wastes-of-Eriador","Product":"The Wastes of Eriador","Number":1,"QuestCards":[],"ScenarioCards":[]},{"Title":"Escape from Mount Gram","Slug":"Escape-from-Mount-Gram","Product":"Escape from Mount Gram","Number":2,"QuestCards":[],"ScenarioCards":[]},{"Title":"Across the Ettenmoors","Slug":"Across-the-Ettenmoors","Product":"Across the Ettenmoors","Number":3,"QuestCards":[],"ScenarioCards":[]},{"Title":"The Treachery of Rhudaur","Slug":"The-Treachery-of-Rhudaur","Product":"Treachery of Rhudaur","Number":4,"QuestCards":[],"ScenarioCards":[]},{"Title":"The Battle of Carn D\xfbm","Slug":"The-Battle-of-Carn-D\xfbm","Product":"The Battle of Carn D\xfbm","Number":5,"QuestCards":[],"ScenarioCards":[]},{"Title":"The Dread Realm","Slug":"The-Dread-Realm","Product":"The Dread Realm","Number":6,"QuestCards":[],"ScenarioCards":[]},{"Title":"Voyage Across Belegaer","Slug":"Voyage-Across-Belegaer","Product":"The Grey Havens","Number":1,"QuestCards":[],"ScenarioCards":[]},{"Title":"The Fate of N\xfamenor","Slug":"The-Fate-of-N\xfamenor","Product":"The Grey Havens","Number":2,"QuestCards":[],"ScenarioCards":[]},{"Title":"Raid on the Grey Havens","Slug":"Raid-on-the-Grey-Havens","Product":"The Grey Havens","Number":3,"QuestCards":[],"ScenarioCards":[]},{"Title":"Flight of the Stormcaller","Slug":"Flight-of-the-Stormcaller","Product":"Flight of the Stormcaller","Number":1,"QuestCards":[],"ScenarioCards":[]},{"Title":"The Thing in the Depths","Slug":"The-Thing-in-the-Depths","Product":"The Thing in the Depths","Number":2,"QuestCards":[],"ScenarioCards":[]},{"Title":"Temple of the Deceived","Slug":"Temple-of-the-Deceived","Product":"Temple of the Deceived","Number":3,"QuestCards":[],"ScenarioCards":[]},{"Title":"The Drowned Ruins","Slug":"The-Drowned-Ruins","Product":"The Drowned Ruins","Number":4,"QuestCards":[],"ScenarioCards":[]},{"Title":"A Storm on Cobas Haven","Slug":"A-Storm-on-Cobas-Haven","Product":"A Storm on Cobas Haven","Number":5,"QuestCards":[],"ScenarioCards":[]},{"Title":"The City of Corsairs","Slug":"The-City-of-Corsairs","Product":"The City of Corsairs","Number":6,"QuestCards":[],"ScenarioCards":[]},{"Title":"Escape from Umbar","Slug":"Escape-from-Umbar","Product":"The Sands of Harad","Number":1,"QuestCards":[],"ScenarioCards":[]},{"Title":"Desert Crossing","Slug":"Desert-Crossing","Product":"The Sands of Harad","Number":2,"QuestCards":[],"ScenarioCards":[]},{"Title":"The Long Arm of Mordor","Slug":"The-Long-Arm-of-Mordor","Product":"The Sands of Harad","Number":3,"QuestCards":[],"ScenarioCards":[]},{"Title":"The M\xfbmakil","Slug":"The-M\xfbmakil","Product":"The M\xfbmakil","Number":1,"QuestCards":[],"ScenarioCards":[]},{"Title":"Race Across Harad","Slug":"Race-Across-Harad","Product":"Race Across Harad","Number":2,"QuestCards":[],"ScenarioCards":[]},{"Title":"Beneath the Sands","Slug":"Beneath-the-Sands","Product":"Beneath the Sands","Number":3,"QuestCards":[],"ScenarioCards":[]},{"Title":"The Black Serpent","Slug":"The-Black-Serpent","Product":"The Black Serpent","Number":4,"QuestCards":[],"ScenarioCards":[]},{"Title":"The Dungeons of Cirith Gurat","Slug":"The-Dungeons-of-Cirith-Gurat","Product":"The Dungeons of Cirith Gurat","Number":5,"QuestCards":[],"ScenarioCards":[]},{"Title":"The Crossings of Poros","Slug":"The-Crossings-of-Poros","Product":"The Crossings of Poros","Number":6,"QuestCards":[],"ScenarioCards":[]},{"Title":"Journey Up the Anduin","Slug":"Journey-Up-the-Anduin","Product":"The Wilds of Rhovanion","Number":1,"QuestCards":[],"ScenarioCards":[]},{"Title":"Lost in Mirkwood","Slug":"Lost-in-Mirkwood","Product":"The Wilds of Rhovanion","Number":2,"QuestCards":[],"ScenarioCards":[]},{"Title":"The King\'s Quest","Slug":"The-King\'s-Quest","Product":"The Wilds of Rhovanion","Number":3,"QuestCards":[],"ScenarioCards":[]},{"Title":"The Withered Heath","Slug":"The-Withered-Heath","Product":"The Withered Heath","Number":4,"QuestCards":[],"ScenarioCards":[]},{"Title":"Roam Across Rhovanion","Slug":"Roam-Across-Rhovanion","Product":"Roam Across Rhovanion","Number":5,"QuestCards":[],"ScenarioCards":[]},{"Title":"Fire in the Night","Slug":"Fire-in-the-Night","Product":"Fire in the Night","Number":6,"QuestCards":[],"ScenarioCards":[]},{"Title":"The Ghost of Framsburg","Slug":"The-Ghost-of-Framsburg","Product":"The Ghost of Framsburg","Number":7,"QuestCards":[],"ScenarioCards":[]},{"Title":"Mount Gundabad","Slug":"Mount-Gundabad","Product":"Mount Gundabad","Number":8,"QuestCards":[],"ScenarioCards":[]},{"Title":"The Fate of Wilderland","Slug":"The-Fate-of-Wilderland","Product":"The Fate of Wilderland","Number":9,"QuestCards":[],"ScenarioCards":[]},{"Title":"The River Running","Slug":"The-River-Running","Product":"A Shadow in the East","Number":1,"QuestCards":[],"ScenarioCards":[]},{"Title":"Danger in Dorwinion","Slug":"Danger-in-Dorwinion","Product":"A Shadow in the East","Number":2,"QuestCards":[],"ScenarioCards":[]},{"Title":"Temple of Doom","Slug":"Temple-of-Doom","Product":"A Shadow in the East","Number":3,"QuestCards":[],"ScenarioCards":[]},{"Title":"Wrath and Ruin","Slug":"Wrath-and-Ruin","Product":"Wrath and Ruin","Number":1,"QuestCards":[],"ScenarioCards":[]},{"Title":"The City of Ulfast","Slug":"The-City-of-Ulfast","Product":"The City of Ulfast","Number":2,"QuestCards":[],"ScenarioCards":[]},{"Title":"Challenge of the Wainriders","Slug":"Challenge-of-the-Wainriders","Product":"Challenge of the Wainriders","Number":3,"QuestCards":[],"ScenarioCards":[]},{"Title":"Under the Ash Mountains","Slug":"Under-the-Ash-Mountains","Product":"Under the Ash Mountains","Number":4,"QuestCards":[],"ScenarioCards":[]},{"Title":"The Land of Sorrow","Slug":"The-Land-of-Sorrow","Product":"The Land of Sorrow","Number":5,"QuestCards":[],"ScenarioCards":[]},{"Title":"The Fortress of Nurn","Slug":"The-Fortress-of-Nurn","Product":"The Fortress of Nurn","Number":6,"QuestCards":[],"ScenarioCards":[]},{"Title":"We Must Away, Ere Break of Day","Slug":"We-Must-Away,-Ere-Break-of-Day","Product":"The Hobbit: Over Hill and Under Hill","Number":1,"QuestCards":[],"ScenarioCards":[]},{"Title":"Over the Misty Mountains Grim","Slug":"Over-the-Misty-Mountains-Grim","Product":"The Hobbit: Over Hill and Under Hill","Number":2,"QuestCards":[],"ScenarioCards":[]},{"Title":"Dungeons Deep and Caverns Dim","Slug":"Dungeons-Deep-and-Caverns-Dim","Product":"The Hobbit: Over Hill and Under Hill","Number":3,"QuestCards":[],"ScenarioCards":[]},{"Title":"Flies and Spiders","Slug":"Flies-and-Spiders","Product":"The Hobbit: On the Doorstep","Number":4,"QuestCards":[],"ScenarioCards":[]},{"Title":"The Lonely Mountain","Slug":"The-Lonely-Mountain","Product":"The Hobbit: On the Doorstep","Number":5,"QuestCards":[],"ScenarioCards":[]},{"Title":"The Battle of Five Armies","Slug":"The-Battle-of-Five-Armies","Product":"The Hobbit: On the Doorstep","Number":6,"QuestCards":[],"ScenarioCards":[]},{"Title":"A Shadow of the Past","Slug":"A-Shadow-of-the-Past","Product":"The Black Riders","Number":1,"QuestCards":[],"ScenarioCards":[]},{"Title":"A Knife in the Dark","Slug":"A-Knife-in-the-Dark","Product":"The Black Riders","Number":2,"QuestCards":[],"ScenarioCards":[]},{"Title":"Flight to the Ford","Slug":"Flight-to-the-Ford","Product":"The Black Riders","Number":3,"QuestCards":[],"ScenarioCards":[]},{"Title":"The Ring Goes South","Slug":"The-Ring-Goes-South","Product":"The Road Darkens","Number":4,"QuestCards":[],"ScenarioCards":[]},{"Title":"Journey in the Dark","Slug":"Journey-in-the-Dark","Product":"The Road Darkens","Number":5,"QuestCards":[],"ScenarioCards":[]},{"Title":"Breaking of the Fellowship","Slug":"Breaking-of-the-Fellowship","Product":"The Road Darkens","Number":6,"QuestCards":[],"ScenarioCards":[]},{"Title":"The Uruk-hai","Slug":"The-Uruk-hai","Product":"The Treason of Saruman","Number":7,"QuestCards":[],"ScenarioCards":[]},{"Title":"Helm\'s Deep","Slug":"Helm\'s-Deep","Product":"The Treason of Saruman","Number":8,"QuestCards":[],"ScenarioCards":[]},{"Title":"The Road to Isengard","Slug":"The-Road-to-Isengard","Product":"The Treason of Saruman","Number":9,"QuestCards":[],"ScenarioCards":[]},{"Title":"The Passage of the Marshes","Slug":"The-Passage-of-the-Marshes","Product":"The Land of Shadow","Number":10,"QuestCards":[],"ScenarioCards":[]},{"Title":"Journey to the Cross-roads","Slug":"Journey-to-the-Cross-roads","Product":"The Land of Shadow","Number":11,"QuestCards":[],"ScenarioCards":[]},{"Title":"Shelob\'s Lair","Slug":"Shelob\'s-Lair","Product":"The Land of Shadow","Number":12,"QuestCards":[],"ScenarioCards":[]},{"Title":"The Passing of the Grey Company","Slug":"The-Passing-of-the-Grey-Company","Product":"The Flame of the West","Number":13,"QuestCards":[],"ScenarioCards":[]},{"Title":"The Siege of Gondor","Slug":"The-Siege-of-Gondor","Product":"The Flame of the West","Number":14,"QuestCards":[],"ScenarioCards":[]},{"Title":"The Battle of the Pelennor Fields","Slug":"The-Battle-of-the-Pelennor-Fields","Product":"The Flame of the West","Number":15,"QuestCards":[],"ScenarioCards":[]},{"Title":"The Tower of Cirith Ungol","Slug":"The-Tower-of-Cirith-Ungol","Product":"The Mountain of Fire","Number":16,"QuestCards":[],"ScenarioCards":[]},{"Title":"The Black Gate Opens","Slug":"The-Black-Gate-Opens","Product":"The Mountain of Fire","Number":17,"QuestCards":[],"ScenarioCards":[]},{"Title":"Mount Doom","Slug":"Mount-Doom","Product":"The Mountain of Fire","Number":18,"QuestCards":[],"ScenarioCards":[]},{"Title":"The Massing at Osgiliath","Slug":"The-Massing-at-Osgiliath","Product":"2011","Number":1,"QuestCards":[],"ScenarioCards":[]},{"Title":"The Battle of Lake-town","Slug":"The-Battle-of-Lake-town","Product":"2012","Number":2,"QuestCards":[],"ScenarioCards":[]},{"Title":"The Stone of Erech","Slug":"The-Stone-of-Erech","Product":"2013","Number":3,"QuestCards":[],"ScenarioCards":[]},{"Title":"The Old Forest","Slug":"The-Old-Forest","Product":"2014","Number":4,"QuestCards":[],"ScenarioCards":[]},{"Title":"The Ruins of Belegost","Slug":"The-Ruins-of-Belegost","Product":"2015","Number":6,"QuestCards":[],"ScenarioCards":[]},{"Title":"Fog on the Barrow-downs","Slug":"Fog-on-the-Barrow-downs","Product":"2014","Number":5,"QuestCards":[],"ScenarioCards":[]},{"Title":"Murder at the Prancing Pony","Slug":"Murder-at-the-Prancing-Pony","Product":"2015","Number":6,"QuestCards":[],"ScenarioCards":[]},{"Title":"The Siege of Ann\xfaminas","Slug":"The-Siege-of-Ann\xfaminas","Product":"2016","Number":7,"QuestCards":[],"ScenarioCards":[]},{"Title":"Attack on Dol Guldur","Slug":"Attack-on-Dol-Guldur","Product":"2017","Number":8,"QuestCards":[],"ScenarioCards":[]},{"Title":"The Hunt for the Dreadnaught","Slug":"The-Hunt-for-the-Dreadnaught","Product":"The Hunt for the Dreadnaught","Number":1,"QuestCards":[],"ScenarioCards":[]},{"Title":"Hunting of the Wolf","Slug":"Hunting-of-the-Wolf","Product":"First Age","Number":1,"QuestCards":[],"ScenarioCards":[]},{"Title":"The Isle of Werewolves","Slug":"The-Isle-of-Werewolves","Product":"First Age","Number":2,"QuestCards":[],"ScenarioCards":[]},{"Title":"The Seat of Morgoth","Slug":"The-Seat-of-Morgoth","Product":"First Age","Number":3,"QuestCards":[],"ScenarioCards":[]},{"Title":"Trial Upon the Marches","Slug":"Trial-Upon-the-Marches","Product":"Trial Upon the Marches","Number":1,"QuestCards":[],"ScenarioCards":[]},{"Title":"Among the Outlaws","Slug":"Among-the-Outlaws","Product":"Among the Outlaws","Number":2,"QuestCards":[],"ScenarioCards":[]},{"Title":"The Betrayal of M\xeem","Slug":"The-Betrayal-of-M\xeem","Product":"The Betrayal of M\xeem","Number":3,"QuestCards":[],"ScenarioCards":[]},{"Title":"The Fall of Nargothrond","Slug":"The-Fall-of-Nargothrond","Product":"The Fall of Nargothrond","Number":4,"QuestCards":[],"ScenarioCards":[]},{"Title":"Ambush at Erelas","Slug":"Ambush-at-Erelas","Product":"Children of Eorl","Number":1,"QuestCards":[],"ScenarioCards":[]},{"Title":"The Battle for the Beacon","Slug":"The-Battle-for-the-Beacon","Product":"Children of Eorl","Number":2,"QuestCards":[],"ScenarioCards":[]},{"Title":"The Horse Lord\'s Ire","Slug":"The-Horse-Lord\'s-Ire","Product":"Children of Eorl","Number":3,"QuestCards":[],"ScenarioCards":[]},{"Title":"The Aldburg Plot","Slug":"The-Aldburg-Plot","Product":"The Aldburg Plot","Number":1,"QuestCards":[],"ScenarioCards":[]},{"Title":"Fire on the Eastemnet","Slug":"Fire-on-the-Eastemnet","Product":"Fire on the Eastemnet","Number":2,"QuestCards":[],"ScenarioCards":[]},{"Title":"The Scouring of the Shire","Slug":"The-Scouring-of-the-Shire","Product":"The Scouring of the Shire","Number":1,"QuestCards":[],"ScenarioCards":[]}]')},162:function(e){e.exports=JSON.parse('[{"code":"rhino","name":"Rhino","card_set_type_code":"villain"},{"code":"klaw","name":"Klaw","card_set_type_code":"villain"},{"code":"ultron","name":"Ultron","card_set_type_code":"villain"},{"code":"she_hulk_nemesis","name":"She-Hulk Nemesis","card_set_type_code":"nemesis"},{"code":"iron_man_nemesis","name":"Iron Man Nemesis","card_set_type_code":"nemesis"},{"code":"spider_man_nemesis","name":"Spider-Man Nemesis","card_set_type_code":"nemesis"},{"code":"black_panther_nemesis","name":"Black Panther Nemesis","card_set_type_code":"nemesis"},{"code":"captain_marvel_nemesis","name":"Captain Marvel Nemesis","card_set_type_code":"nemesis"},{"code":"she_hulk","name":"She-Hulk","card_set_type_code":"hero"},{"code":"iron_man","name":"Iron Man","card_set_type_code":"hero"},{"code":"spider_man","name":"Spider-Man","card_set_type_code":"hero"},{"code":"black_panther","name":"Black Panther","card_set_type_code":"hero"},{"code":"captain_marvel","name":"Captain Marvel","card_set_type_code":"hero"},{"code":"bomb_scare","name":"Bomb Scare","card_set_type_code":"modular"},{"code":"standard","name":"Standard","card_set_type_code":"standard"},{"code":"expert","name":"Expert","card_set_type_code":"expert"},{"code":"masters_of_evil","name":"Masters of Evil","card_set_type_code":"modular"},{"code":"under_attack","name":"Under Attack","card_set_type_code":"modular"},{"code":"legions_of_hydra","name":"Legions of Hydra","card_set_type_code":"modular"},{"code":"the_doomsday_chair","name":"The Doomsday Chair","card_set_type_code":"modular"},{"code":"risky_business","name":"Risky Business","card_set_type_code":"villain"},{"code":"mutagen_formula","name":"Mutagen Formula","card_set_type_code":"villain"},{"code":"goblin_gimmicks","name":"Goblin Gimmicks","card_set_type_code":"modular"},{"code":"running_interference","name":"Running Interference","card_set_type_code":"modular"},{"code":"power_drain","name":"Power Drain","card_set_type_code":"modular"},{"code":"a_mess_of_things","name":"A Mess of Things","card_set_type_code":"modular"},{"code":"captain_america","name":"Captain America","card_set_type_code":"hero"},{"code":"captain_america_nemesis","name":"Captain America Nemesis","card_set_type_code":"nemesis"},{"code":"ms_marvel","name":"Ms. Marvel","card_set_type_code":"hero"},{"code":"ms_marvel_nemesis","name":"Ms. Marvel Nemesis","card_set_type_code":"nemesis"},{"code":"thor","name":"Thor","card_set_type_code":"hero"},{"code":"thor_nemesis","name":"Thor Nemesis","card_set_type_code":"nemesis"},{"code":"wrecking_crew","name":"Wrecking Crew","card_set_type_code":"villain"},{"code":"piledriver","name":"Piledriver","card_set_type_code":"villain"},{"code":"wrecker","name":"Wrecker","card_set_type_code":"villain"},{"code":"thunderball","name":"Thunderball","card_set_type_code":"villain"},{"code":"bulldozer","name":"Bulldozer","card_set_type_code":"villain"},{"code":"black_widow","name":"Black Widow","card_set_type_code":"hero"},{"code":"black_widow_nemesis","name":"Black Widow Nemesis","card_set_type_code":"nemesis"},{"code":"doctor_strange","name":"Doctor Strange","card_set_type_code":"hero"},{"code":"invocation","name":"Invocation","card_set_type_code":"hero"},{"code":"doctor_strange_nemesis","name":"Doctor Strange Nemesis","card_set_type_code":"nemesis"},{"code":"hulk","name":"Hulk","card_set_type_code":"hero"},{"code":"hulk_nemesis","name":"Hulk Nemesis","card_set_type_code":"nemesis"},{"code":"kree_fanatic","name":"Kree Fanatic","card_set_type_code":"modular"},{"code":"hawkeye","name":"Hawkeye","card_set_type_code":"hero"},{"code":"hawkeye_nemesis","name":"Hawkeye Nemesis","card_set_type_code":"nemesis"},{"code":"spider_woman","name":"Spider-Woman","card_set_type_code":"hero"},{"code":"spider_woman_nemesis","name":"Spider-Woman Nemesis","card_set_type_code":"nemesis"},{"code":"crossbones","name":"Crossbones","card_set_type_code":"villain"},{"code":"exper_weapon","name":"Experimental Weapons","card_set_type_code":"modular"},{"code":"absorbing_man","name":"Absorbing Man","card_set_type_code":"villain"},{"code":"taskmaster","name":"Taskmaster","card_set_type_code":"villain"},{"code":"zola","name":"Zola","card_set_type_code":"villain"},{"code":"red_skull","name":"Red Skull","card_set_type_code":"villain"},{"code":"hydra_assault","name":"Hydra Assault","card_set_type_code":"modular"},{"code":"weap_master","name":"Weapon Master","card_set_type_code":"modular"},{"code":"hydra_patrol","name":"Hydra Patrol","card_set_type_code":"modular"},{"code":"hydra_camp","name":"Hydra Campaign","card_set_type_code":"modular"},{"code":"expcamp","name":"Expert Campaign","card_set_type_code":"modular"},{"code":"kang","name":"Kang","card_set_type_code":"villain"},{"code":"temporal","name":"Temporal","card_set_type_code":"modular"},{"code":"exp_kang","name":"Expert Kang","card_set_type_code":"modular"},{"code":"anachronauts","name":"Anachronauts","card_set_type_code":"modular"},{"code":"mot","name":"Master of Time","card_set_type_code":"modular"},{"code":"ant","name":"Ant-Man","card_set_type_code":"hero"},{"code":"ant_nemesis","name":"Ant-Man Nemesis","card_set_type_code":"nemesis"},{"code":"wsp","name":"Wasp","card_set_type_code":"hero"},{"code":"wsp_nemesis","name":"Wasp Nemesis","card_set_type_code":"nemesis"},{"code":"qsv","name":"Quicksilver","card_set_type_code":"hero"},{"code":"qsv_nemesis","name":"Quicksilver Nemesis","card_set_type_code":"nemesis"},{"code":"scw","name":"Scarlet Witch","card_set_type_code":"hero"},{"code":"scw_nemesis","name":"Scarlet Witch Nemesis","card_set_type_code":"nemesis"},{"code":"groot","name":"Groot","card_set_type_code":"hero"},{"code":"groot_nemesis","name":"Groot Nemesis","card_set_type_code":"nemesis"},{"code":"rocket","name":"Rocket Raccoon","card_set_type_code":"hero"},{"code":"rocket_nemesis","name":"Rocket Raccoon Nemesis","card_set_type_code":"nemesis"},{"code":"stld","name":"Star-Lord","card_set_type_code":"hero"},{"code":"stld_nemesis","name":"Star-Lord Nemesis","card_set_type_code":"nemesis"},{"code":"gam","name":"Gamora","card_set_type_code":"hero"},{"code":"gam_nemesis","name":"Gamora Nemesis","card_set_type_code":"nemesis"},{"code":"drax","name":"Drax","card_set_type_code":"hero"},{"code":"drax_nemesis","name":"Drax Nemesis","card_set_type_code":"nemesis"},{"code":"vnm","name":"Venom","card_set_type_code":"hero"},{"code":"vnm_nemesis","name":"Venom Nemesis","card_set_type_code":"nemesis"},{"code":"the_market","name":"The Market","card_set_type_code":"modular"},{"code":"challenge","name":"Challenge","card_set_type_code":"modular"},{"code":"badoon_headhunter","name":"Badoon Headhunter","card_set_type_code":"modular"},{"code":"brotherhood_of_badoon","name":"Brotherhood Of Badoon","card_set_type_code":"modular"},{"code":"collector1","name":"Collector 1","card_set_type_code":"villain"},{"code":"collector2","name":"Collector 2","card_set_type_code":"villain"},{"code":"nebula","name":"Nebula","card_set_type_code":"villain"},{"code":"ronan","name":"Ronan","card_set_type_code":"villain"},{"code":"band_of_badoon","name":"Band Of Badoon","card_set_type_code":"modular"},{"code":"galactic_artifacts","name":"Galactic Artifacts","card_set_type_code":"modular"},{"code":"kree_militant","name":"Kree Militant","card_set_type_code":"modular"},{"code":"menagerie_medley","name":"Menagerie Medley","card_set_type_code":"modular"},{"code":"space_pirates","name":"Space Pirates","card_set_type_code":"modular"},{"code":"ship_command","name":"Ship Command","card_set_type_code":"modular"},{"code":"power_stone","name":"Power Stone","card_set_type_code":"modular"},{"code":"spectrum","name":"Spectrum","card_set_type_code":"hero"},{"code":"spectrum_nemesis","name":"Spectrum Nemesis","card_set_type_code":"nemesis"},{"code":"warlock","name":"Adam Warlock","card_set_type_code":"hero"},{"code":"warlock_nemesis","name":"Adam Warlock Nemesis","card_set_type_code":"nemesis"},{"code":"ebony_maw","name":"Ebony Maw","card_set_type_code":"villain"},{"code":"tower_defense","name":"The Tower Defense","card_set_type_code":"villain"},{"code":"thanos","name":"Thanos","card_set_type_code":"villain"},{"code":"hela","name":"Hela","card_set_type_code":"villain"},{"code":"loki","name":"Loki","card_set_type_code":"villain"},{"code":"black_order","name":"Black Order","card_set_type_code":"modular"},{"code":"armies_of_titan","name":"Armies of Titan","card_set_type_code":"modular"},{"code":"children_of_thanos","name":"Children of Thanos","card_set_type_code":"modular"},{"code":"infinity_gauntlet","name":"Infinity Gauntlet","card_set_type_code":"modular"},{"code":"legions_of_hel","name":"Legions of Hel","card_set_type_code":"modular"},{"code":"frost_giants","name":"Frost Giants","card_set_type_code":"modular"},{"code":"enchantress","name":"Enchantress","card_set_type_code":"modular"},{"code":"mts_campaign","name":"The Mad Titan\'s Shadow Campaign","card_set_type_code":"modular"},{"code":"nebula_hero","name":"Nebula","card_set_type_code":"hero"},{"code":"nebula_nemesis","name":"Nebula Nemesis","card_set_type_code":"nemesis"}]')},208:function(e,o,t){},235:function(e,o){function t(e){var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}t.keys=function(){return[]},t.resolve=t,e.exports=t,t.id=235},258:function(e,o,t){},260:function(e,o,t){},261:function(e,o,t){},262:function(e,o,t){},267:function(e,o,t){},268:function(e,o,t){},269:function(e,o,t){},270:function(e,o,t){"use strict";t.r(o);var r=t(1),a=t(0),n=t.n(a),s=t(24),i=t.n(s),d=(t(208),t(27)),c=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function l(e,o){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),o&&o.onUpdate&&o.onUpdate(e)):(console.log("Content is cached for offline use."),o&&o.onSuccess&&o.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var h,u=t(161),p=t.n(u),m=t(25),f=t(57),g=t(56),j=t.n(g),b=t(313),v=Object(b.a)();!function(e){e.MarvelChampions="marvelchampions",e.LordOfTheRingsLivingCardGame="lotrlcg"}(h||(h={}));var C,y=["red","cyan","green","blue","magenta","yellow"],T=t(21),w=function(e){try{var o,t=localStorage.getItem(e);if(null===t)return{};var r=JSON.parse(t||"{}");return null!==(o=r.present)&&void 0!==o?o:r}catch(a){return console.error("problem parsing"),{}}},S=new URLSearchParams(window.location.search).get("gameType"),k=w("game"),O={activeDataType:null!==(C=null!==S&&void 0!==S?S:k.activeGameType)&&void 0!==C?C:h.MarvelChampions,data:{}},x=t(162),_=t(104),P=Object(m.b)("resetAction"),I=Object(m.b)("receiveRemoteGameState"),M=Object(m.b)("verifyRemoteGameState"),D=Object(m.b)("startDraggingCardFromHand"),N=t(15),R=new URLSearchParams(window.location.search).get("gameType"),E=R?{activeGameType:R}:w("game");E.playerColors={},E.playerColors[v]="red",E.playerNumbers={},E.playerNumbers[v]=1,E.peerId="",E.previewCard=null,E.menuPreviewCardJsonId=null,E.radialMenuPosition=null,E.specificCardLoaderPosition=null,E.draggingCardFromHand=!1;var A,L,F=Object(N.a)(Object(N.a)({},{playerColors:{},playerNumbers:{},stageZoom:{x:.5,y:.5},stagePosition:{x:0,y:0},peerId:"",previewCard:null,menuPreviewCardJsonId:null,activeGameType:null,radialMenuPosition:null,specificCardLoaderPosition:null,draggingCardFromHand:!1,drawCardsIntoHand:!0}),E),B=Object(m.d)({name:"game",initialState:F,reducers:{updateZoom:function(e,o){return e.stageZoom=o.payload,e},updatePosition:function(e,o){return e.stagePosition=o.payload,e},connectToRemoteGame:function(){},setPlayerInfo:function(e,o){e.playerColors[o.payload.ref]=o.payload.color,e.playerNumbers[o.payload.ref]=o.payload.playerNumber},setPeerId:function(e,o){e.peerId=o.payload},requestResync:function(){},setPreviewCardId:function(e,o){e.previewCard?e.previewCard.id!==o.payload&&(e.previewCard.id=o.payload):e.previewCard={id:o.payload}},clearPreviewCard:function(e){e.previewCard=null},setMenuPreviewCardJsonId:function(e,o){e.menuPreviewCardJsonId=o.payload},clearMenuPreviewCardJsonId:function(e){e.menuPreviewCardJsonId=null},updateActiveGameType:function(e,o){e.activeGameType=o.payload},quitGame:function(e){e.activeGameType=null},showRadialMenuAtPosition:function(e,o){e.radialMenuPosition=o.payload},hideRadialMenu:function(e){e.radialMenuPosition=null},showSpecificCardLoader:function(e,o){e.specificCardLoaderPosition=o.payload},hideSpecificCardLoader:function(e){e.specificCardLoaderPosition=null},stopDraggingCardFromHand:function(e){e.draggingCardFromHand=!1},toggleDrawCardsIntoHand:function(e){e.drawCardsIntoHand=!e.drawCardsIntoHand}},extraReducers:function(e){e.addCase(I,(function(e,o){e.activeGameType=o.payload.game.activeGameType})),e.addCase(P,(function(e,o){e.stagePosition={x:0,y:0},e.stageZoom={x:.5,y:.5},e.previewCard=null})),e.addCase(D,(function(e,o){e.draggingCardFromHand=!0}))}}),H=B.actions,G=H.updateZoom,Q=H.updatePosition,W=H.connectToRemoteGame,U=H.setPlayerInfo,z=H.setPeerId,J=H.requestResync,V=H.setPreviewCardId,K=H.clearPreviewCard,q=H.setMenuPreviewCardJsonId,Z=H.clearMenuPreviewCardJsonId,Y=H.updateActiveGameType,X=H.quitGame,$=H.showRadialMenuAtPosition,ee=H.hideRadialMenu,oe=H.showSpecificCardLoader,te=H.hideSpecificCardLoader,re=H.stopDraggingCardFromHand,ae=H.toggleDrawCardsIntoHand,ne=B.reducer,se=function(e){var o,t,r;return{code:e.code,name:e.name,images:null,octgnId:null!==(o=e.octgn_id)&&void 0!==o?o:null,quantity:e.quantity,doubleSided:!!e.double_sided,backLink:null!==(t=e.back_link)&&void 0!==t?t:null,typeCode:e.type_code,subTypeCode:null,extraInfo:{setCode:null!==(r=e.set_code)&&void 0!==r?r:null,packCode:e.pack_code,factionCode:e.faction_code},duplicate_of:e.duplicate_of}},ie=function(e){return function(o){var t,r,a,n,s,i=null===(t=o.Back)||void 0===t?void 0:t.ImagePath;if(o.Back&&!o.Back.ImagePath){var d=o.Front.ImagePath,c=d.split(".").slice(0,-1).join(".");"A"!==c[c.length-1]?console.log("No Non-B Back Image Path for ".concat(o.Slug," from ").concat(o.CardSet)):i=d.replaceAll("A.","B.")}return{code:e?o.Slug:o.RingsDbCardId,name:o.Title,images:{front:o.Front.ImagePath,back:null!==(r=i)&&void 0!==r?r:null},octgnId:null!==(a=o.OctgnGuid)&&void 0!==a?a:null,quantity:null!==(n=o.Quantity)&&void 0!==n?n:1,doubleSided:!!o.Back,backLink:null,typeCode:o.CardType,subTypeCode:o.CardSubType,extraInfo:{setCode:null!==(s=o.CardSet)&&void 0!==s?s:null,packCode:"TODO - lotr",factionCode:e?"encounter":"player"}}}},de=function(e,o){return function(t){var r=e?t.location.entities:t.location.encounterEntities;"0"===t.card.code[0]&&"0"===t.card.code[1]||(r[t.card.code]&&o&&console.error("Found multiple cards with code "+t.card.code+" "+t.card.name+" "+t.card.extraInfo.setCode+" Existing card is "+r[t.card.code].name+" "+r[t.card.code].extraInfo.setCode),r[t.card.code]=t.card)}},ce=Object(m.d)({name:"cardsData",initialState:O,reducers:{loadCardsData:function(e){e.data={};var o=e.data[h.MarvelChampions];return o?o.setData={}:(e.data[h.MarvelChampions]={entities:{},encounterEntities:{},setData:{}},o=e.data[h.MarvelChampions]),x.forEach((function(e){o&&(o.setData[e.code]={name:e.name,setTypeCode:e.card_set_type_code,cardsInSet:[]})})),(o=e.data[h.LordOfTheRingsLivingCardGame])?o.setData={}:(e.data[h.LordOfTheRingsLivingCardGame]={entities:{},encounterEntities:{},setData:{}},o=e.data[h.LordOfTheRingsLivingCardGame]),_.forEach((function(e){o&&(o.setData[e.Slug]={name:e.Title,setTypeCode:e.Product,cardsInSet:[]})})),e},loadCardsDataForPack:function(e,o){if(e.data[o.payload.packType]||(e.data[o.payload.packType]={entities:{},encounterEntities:{},setData:{}}),o.payload.packType===h.MarvelChampions){var t=!o.payload.pack_code.includes("_encounter");o.payload.pack.map(se).map((function(t){return{location:e.data[o.payload.packType],card:t}})).forEach(de(t,!0))}else if(o.payload.packType===h.LordOfTheRingsLivingCardGame){var r=o.payload.pack;r.cards||console.log(r),r.cards.map(ie(!1)).map((function(t){return{location:e.data[o.payload.packType],card:t}})).forEach(de(!0,!0))}return e},loadCardsForEncounterSet:function(e,o){var t=e.data[h.LordOfTheRingsLivingCardGame],r=null===t||void 0===t?void 0:t.setData[o.payload.setCode];if(o.payload.cards.map)return o.payload.cards.map(ie(!0)).map((function(o){return{location:e.data[h.LordOfTheRingsLivingCardGame],card:o}})).forEach(de(!1,!1)),r&&(r.cardsInSet=r.cardsInSet.concat(o.payload.cards.filter((function(e){return-1===e.CardSet.toLocaleLowerCase().indexOf("nightmare")})).map((function(e){return{code:e.Slug,quantity:e.Quantity}})))),e;console.log("No cards found for scenario "+o.payload.setCode)}},extraReducers:function(e){e.addCase(I,(function(e,o){var t;e.activeDataType=null!==(t=o.payload.game.activeGameType)&&void 0!==t?t:h.MarvelChampions})),e.addCase(Y,(function(e,o){e.activeDataType=o.payload}))}}),le=ce.actions,he=le.loadCardsData,ue=le.loadCardsDataForPack,pe=le.loadCardsForEncounterSet,me=ce.reducer,fe=Object(m.b)("addCardStackWithId"),ge=Object(m.b)("pullCardOutOfCardStackWithId"),je=Object(m.b)("drawCardsOutOfCardStackWithIds"),be=Object(m.b)("startCardMoveWithSplitStackId"),ve=Object(m.b)("replaceCardStack"),Ce=Object(m.b)("setStackShuffling"),ye=Object(m.b)("createDeckFromTextFileWithIds"),Te=t(39),we=t(123),Se=t.n(we),ke=t(36),Oe=209,xe=150,_e=418,Pe=300,Ie=50,Me=100;!function(e){e.Stunned="stunned",e.Confused="confused",e.Tough="tough"}(A||(A={})),function(e){e.Damage="damage",e.Threat="threat",e.Generic="generic"}(L||(L={}));var De,Ne,Re=function(e,o){var t=e.x-o.x,r=e.y-o.y;return Math.sqrt(t*t+r*r)},Ee=function(e,o){return{x:(e.x+o.x)/2,y:(e.y+o.y)/2}},Ae=t(34),Le=t.n(Ae),Fe=t(51),Be=t(82),He=t.n(Be),Ge={bkw:"07",cap:"04",drs:"08",hlk:"09",trors:"10",twc:"03"},Qe={doctor_strange:[{jsonId:"09032"},{jsonId:"09033"},{jsonId:"09034"},{jsonId:"09035"},{jsonId:"09036"}],ant:[{jsonId:"12001c"}],wsp:[{jsonId:"13001c"}]},We=t(163),Ue=t.n(We),ze=t(167),Je=t.n(ze),Ve=t(168),Ke=t.n(Ve),qe={marvelchampions:{deckSite:"marvelcdb.com",decklistApi:"https://marvelcdb.com/api/public/decklist/",encounterUiName:"Encounter Set",backgroundImageLocation:"/images/table/background_marvelchampions.png",modifiers:[],tokens:{stunned:{tokenType:A.Stunned,touchMenuLetter:null,touchMenuIcon:Object(r.jsx)(Ue.a,{fontSize:"large"}),menuText:"Stun",menuRemoveText:"Remove Stun",imagePath:"/images/standard/stunned.png"},confused:{tokenType:A.Confused,touchMenuLetter:null,touchMenuIcon:Object(r.jsx)(Je.a,{fontSize:"large"}),menuText:"Confuse",menuRemoveText:"Remove Confuse",imagePath:"/images/standard/confused.png"},tough:{tokenType:A.Tough,touchMenuLetter:null,touchMenuIcon:Object(r.jsx)(Ke.a,{fontSize:"large"}),menuText:"Tough",menuRemoveText:"Remove Tough",imagePath:"/images/standard/tough.png"},damage:{counterTokenType:L.Damage,isNumeric:!0,touchMenuLetter:"Dmg",touchMenuIcon:null,menuText:"Set Damage",imagePath:"/images/standard/damage.png"},threat:{counterTokenType:L.Threat,isNumeric:!0,touchMenuLetter:"Thr",touchMenuIcon:null,menuText:"Set Threat",imagePath:"/images/standard/threat.png"},generic:{counterTokenType:L.Generic,isNumeric:!0,touchMenuLetter:"Gen",touchMenuIcon:null,menuText:"Set Generic Tokens",imagePath:"/images/standard/generic_counter.png"}}},lotrlcg:{deckSite:"ringsdb.com",decklistApi:"https://ringsdb.com/api/public/decklist/",encounterUiName:"Scenario",backgroundImageLocation:"/images/table/background_lotrlcg.jpg",modifiers:[{attributeId:"threat",attributeName:"Threat",icon:"/images/standard/lotr/threat.png",slot:1},{attributeId:"willpower",attributeName:"Willpower",icon:"/images/standard/lotr/willpower.png",slot:2},{attributeId:"attack",attributeName:"Attack",icon:"/images/standard/lotr/attack.png",slot:3},{attributeId:"defense",attributeName:"Defense",icon:"/images/standard/lotr/defense.png",slot:4},{attributeId:"hitpoints",attributeName:"Hit Points",icon:"/images/standard/lotr/hitpoints.png",slot:5}],tokens:{stunned:{tokenType:A.Stunned,touchMenuLetter:"Q",touchMenuIcon:null,menuText:"Quest",menuRemoveText:"Remove From Quest",imagePath:"/images/standard/quest.png"},confused:null,tough:null,damage:{counterTokenType:L.Damage,isNumeric:!0,touchMenuLetter:"Dmg",touchMenuIcon:null,menuText:"Set Damage",imagePath:"/images/standard/damage_lotr.png"},threat:{counterTokenType:L.Threat,isNumeric:!0,touchMenuLetter:"Prg",touchMenuIcon:null,menuText:"Set Progress",imagePath:"/images/standard/progress.png"},generic:{counterTokenType:L.Generic,isNumeric:!0,touchMenuLetter:"Res",touchMenuIcon:null,menuText:"Set Resource Tokens",imagePath:"/images/standard/resource.png"}}}},Ze=t(100),Ye=function(e){var o;return null!==(o=e.data[e.activeDataType])&&void 0!==o?o:{entities:{},encounterEntities:{},setData:{}}},Xe=function(e){return e.cardsData},$e=Object(Ze.a)(Xe,(function(e){var o=Ye(e);return Object(N.a)(Object(N.a)({},o.entities),o.encounterEntities)})),eo=Object(Ze.a)(Xe,(function(e){return Ye(e).entities})),oo=Object(Ze.a)(eo,(function(e){return Object.values(e).filter((function(e){return!e.duplicate_of}))})),to=Object(Ze.a)(Xe,(function(e){var o=Ye(e),t={};return Object.values(o.entities).forEach((function(e){"hero"===e.typeCode&&(t[e.name]=e)})),t})),ro=Object(Ze.a)(Xe,(function(e){var o=Ye(e),t={};return Object.values(o.entities).forEach((function(e){"hero"!==e.typeCode&&(t[e.name]=e)})),t})),ao=Object(Ze.a)(Xe,(function(e){return Ye(e).encounterEntities})),no=Object(Ze.a)(Xe,(function(e){return Ye(e).setData})),so=Object(Ze.a)(no,ao,(function(e,o){return Object.entries(e).map((function(e){var t=Object(T.a)(e,2),r=t[0],a=t[1];return{setCode:r,setData:a,cards:a.cardsInSet.map((function(e){return o[e.code]}))}}))})),io=Object(Ze.a)(ao,eo,no,(function(e,o,t){var r={},a=Object.values(o).filter((function(e){return"campaign"===e.extraInfo.factionCode})).sort((function(e,o){return e.code<o.code?-1:e.code>o.code?1:0}));return Object.values(e).sort((function(e,o){return e.code<o.code?-1:e.code>o.code?1:0})).concat(a).forEach((function(e){var o=e.extraInfo.setCode||"unknown";r[o]?r[o].push(e):r[o]=[e]})),Object.entries(r).map((function(e){var o=Object(T.a)(e,2),r=o[0],a=o[1];return{setCode:r,setData:t[r],cards:a}})).filter((function(e){return"nemesis"!==e.setData.setTypeCode&&"hero"!==e.setData.setTypeCode})).sort((function(e,o){return e.setData.name>o.setData.name?1:-1}))})),co=function(e){return e.game},lo=(Object(Ze.a)(co,(function(e){return e.stageZoom})),Object(Ze.a)(co,(function(e){return e.playerColors}))),ho=Object(Ze.a)(co,(function(e){return e.playerNumbers})),uo=Object(Ze.a)(co,(function(e){return e.peerId})),po=Object(Ze.a)(co,(function(e){return e.activeGameType})),mo=Object(Ze.a)(co,(function(e){return e.radialMenuPosition})),fo=Object(Ze.a)(co,(function(e){return e.specificCardLoaderPosition})),go=(Object(Ze.a)(co,(function(e){return e.previewCard})),Object(Ze.a)(co,(function(e){return e.menuPreviewCardJsonId?{id:"menu-preview-card",controlledBy:"",exhausted:!1,faceup:!0,fill:"gray",x:0,y:0,statusTokens:{stunned:!1,confused:!1,tough:!1},counterTokens:{damage:0,threat:0,generic:0},selected:!1,dragging:!1,shuffling:!1,cardStack:[{jsonId:e.menuPreviewCardJsonId}],modifiers:{}}:null}))),jo=function(e){return e.liveState.present.cards},bo=function(e){return e.liveState.present.cards.playerHands},vo=Object(Ze.a)(jo,(function(e){return e.cards.reduce((function(e,o){return e[o.id]=o,e}),{})})),Co=function(e){return e.liveState.present.cards.panMode},yo=function(e){return e.liveState.present.cards.multiselectMode},To=Object(Ze.a)(jo,(function(e){var o={};return Object.entries(e.dropTargetCards).forEach((function(e){var t=Object(T.a)(e,2),r=t[0],a=t[1];a&&(o[a.id]={ownerRef:r,card:a})})),o})),wo=function(e){return function(o,t){var r=jo(t());(e?[r.cards.find((function(o){return o.id===e}))]:r.cards.filter((function(e){return e.selected&&e.controlledBy===v}))).filter((function(e){return!!e&&e.cardStack.length>1})).forEach((function(e){o(Ce({id:e.id,shuffling:!0}));var t=Po(e.cardStack);o(ve({id:e.id,newStack:t})),setTimeout((function(){o(Ce({id:e.id,shuffling:!1}))}))}))}},So=function(e){return function(o,t){var r=co(t()).playerNumbers[v],a=co(t()).drawCardsIntoHand,n=Array.from({length:e.numberToDraw}).map((function(e){return Object(b.a)()})),s=Object(N.a)(Object(N.a)({},e),{},{idsToUse:n,drawIntoHand:a,playerNumber:r});o(je(s))}},ko=Object(m.c)("decklist/fetchByIdStatus",function(){var e=Object(Fe.a)(Le.a.mark((function e(o,t){var r,a;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He.a.get("".concat(qe[o.gameType].decklistApi).concat(o.decklistId));case 2:r=e.sent,a=t.getState(),e.t0=o.gameType,e.next=e.t0===h.MarvelChampions?7:e.t0===h.LordOfTheRingsLivingCardGame?8:9;break;case 7:return e.abrupt("return",Oo(r,a,o));case 8:return e.abrupt("return",_o(r,a,o));case 9:case"end":return e.stop()}}),e)})));return function(o,t){return e.apply(this,arguments)}}()),Oo=function(e,o,t){var r,a=eo(o),n=a[e.data.investigator_code].extraInfo.setCode,s=ao(o),i=[];Object.entries(s).filter((function(e){var o=Object(T.a)(e,2),t=(o[0],o[1]);return(t.extraInfo.setCode==="".concat(n)||t.extraInfo.setCode==="".concat(n,"_nemesis")||t.extraInfo.setCode==="".concat(null===n||void 0===n?void 0:n.replace("_hero",""),"_nemesis"))&&"obligation"===t.typeCode})).forEach((function(e){var o=Object(T.a)(e,2),t=o[0],r=o[1];i=i.concat(Array.from({length:r.quantity}).map((function(e){return t})))}));var d=Object.values(s).filter((function(e){return(e.extraInfo.setCode==="".concat(n,"_nemesis")||e.extraInfo.setCode==="".concat(null===n||void 0===n?void 0:n.replace("_hero",""),"_nemesis"))&&"obligation"!==e.typeCode})),c=[];d.forEach((function(e){c=c.concat(Array.from({length:e.quantity}).map((function(o){return e.code})))}));var l=null!==(r=Qe[null!==n&&void 0!==n?n:""])&&void 0!==r?r:[];return{position:t.position,heroId:Object(b.a)(),data:xo(e.data,a),dataId:Object(b.a)(),extraHeroCards:l,relatedEncounterDeck:c,encounterDeckId:Object(b.a)(),relatedObligationDeck:i,obligationDeckId:Object(b.a)()}},xo=function(e,o){var t={};return Object.keys(e.slots).forEach((function(r){var a=o[r];a&&a.duplicate_of?t[a.duplicate_of]=e.slots[r]:t[r]=e.slots[r]})),{investigator_code:e.investigator_code,slots:t}},_o=function(e,o,t){var r=eo(o),a=[];Object.entries(e.data.heroes).forEach((function(e){var o=Object(T.a)(e,2),t=o[0],r=o[1],n=Array.from(Array(r).keys()).map((function(){return{jsonId:t}}));a=a.concat(n)}));var n={};return Object.entries(e.data.slots).forEach((function(e){var o=Object(T.a)(e,2),t=o[0],a=o[1],s=r[t];if(!s)throw new Error("Couldn't find card data for ".concat(t));"Hero"!==s.typeCode&&(n[t]=a)})),e.data.slots=n,{position:t.position,heroId:Object(b.a)(),data:e.data,dataId:Object(b.a)(),extraHeroCards:a,relatedEncounterDeck:[],encounterDeckId:Object(b.a)(),relatedObligationDeck:[],obligationDeckId:Object(b.a)()}},Po=function(e){for(var o,t,r=JSON.parse(JSON.stringify(e)),a=r.length;0!==a;)t=Math.floor(Math.random()*a),o=r[a-=1],r[a]=r[t],r[t]=o;return r},Io=t(67),Mo=function(){return Array(4).fill({cards:[]})},Do=new URLSearchParams(window.location.search).get("cards"),No=(Do?{cards:JSON.parse(Io.a.uncrush(Do))}:null)||(null!==(De=null===(Ne=w("liveState"))||void 0===Ne?void 0:Ne.cards)&&void 0!==De?De:{});No.cards&&No.cards.forEach((function(e){e.controlledBy="",e.selected=!1,e.shuffling=!1,e.modifiers||(e.modifiers={})})),No.attachTargetCards={},No.dropTargetCards={},No.ghostCards=[],No.outOfSyncWithRemote=!1;var Ro,Eo,Ao,Lo={outOfSyncWithRemote:!1,cards:[],ghostCards:[],dropTargetCards:{},attachTargetCards:{},panMode:!0,multiselectMode:!1,playerHands:Mo()},Fo=Object(N.a)(Object(N.a)({},Lo),No),Bo=function(e,o){return e.cards.find((function(e){return e.id===o}))},Ho=function(e,o,t,r){var a=Bo(e,o);!a||""!==a.controlledBy&&a.controlledBy!==t||r(a)},Go=function(e,o,t){e.cards.filter((function(e){return e.selected&&e.controlledBy===o})).forEach((function(e){return t(e)}))},Qo=function(e,o){e.cards.filter((function(e){return!e.selected})).forEach((function(e){return o(e)}))},Wo=function(e,o){var t,r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30,n=[];return Qo(e,(function(e){var t=Re({x:e.x,y:e.y},o);t<a&&n.push({distance:t,card:e})})),null!==(t=null===(r=n.sort((function(e,o){return e.distance-o.distance}))[0])||void 0===r?void 0:r.card)&&void 0!==t?t:null},Uo=function(e,o){Go(e,o.ACTOR_REF,(function(o){var t=e.cards.findIndex((function(e){return e.id===o.id}));-1!==t&&e.cards.splice(t,1)}))},zo=function(e,o){for(var t={x:0,y:0},r=!0,a=function(a){var n=o.x+50*(a+1),s=o.y-50*(a+1);t={x:n,y:s},r=!!e.cards.find((function(e){return e.x===n&&e.y===s}))},n=0;r;n++)a(n);return t},Jo=function(e,o){e.cards.filter((function(e){return""===e.controlledBy||e.controlledBy===o.ACTOR_REF})).forEach((function(e){e.selected=!1,e.controlledBy=""}))},Vo=Object(m.d)({name:"cards",initialState:Fo,reducers:{selectCard:function(e,o){o.payload.unselectOtherCards&&Jo(e,o),Ho(e,o.payload.id,o.ACTOR_REF,(function(e){e.selected=!0,e.controlledBy=o.ACTOR_REF}))},unselectCard:function(e,o){Ho(e,o.payload,o.ACTOR_REF,(function(e){e.selected=!1,e.controlledBy=""}))},toggleSelectCard:function(e,o){Ho(e,o.payload,o.ACTOR_REF,(function(e){e.selected=!e.selected,e.selected?e.controlledBy=o.ACTOR_REF:e.controlledBy=""}))},exhaustCard:function(e,o){e.cards.filter((function(e){var t;return e.controlledBy===o.ACTOR_REF&&(e.id===(null!==(t=o.payload)&&void 0!==t?t:"")||e.selected)})).forEach((function(e){e.exhausted=!e.exhausted}))},deleteCardStack:Uo,cardMove:function(e,o){var t,r,a=[],n=null;e.cards.filter((function(e){return e.id===o.payload.id||e.selected&&e.controlledBy===o.ACTOR_REF})).forEach((function(e){e.id===o.payload.id&&(n=e),e.x+=o.payload.dx,e.y+=o.payload.dy,a.push(e)})),(n=n)&&n.controlledBy===o.ACTOR_REF&&(e.dropTargetCards[o.ACTOR_REF]=Wo(e,n?{x:n.x,y:n.y}:{x:0,y:0}));var s=[];n&&n.controlledBy===o.ACTOR_REF&&Qo(e,(function(e){var o,t,r,a,i=Re(n?{x:n.x,y:n.y}:{x:0,y:0},{x:e.x,y:e.y});i<150&&i>50&&e.x<(null!==(o=null===(t=n)||void 0===t?void 0:t.x)&&void 0!==o?o:0)&&e.y>(null!==(r=null===(a=n)||void 0===a?void 0:a.y)&&void 0!==r?r:0)&&s.push({distance:i,card:e})})),e.attachTargetCards[o.ACTOR_REF]=null!==(t=null===(r=s.sort((function(e,o){return e.distance-o.distance}))[0])||void 0===r?void 0:r.card)&&void 0!==t?t:null;var i=e.attachTargetCards[o.ACTOR_REF];if(i){var d=zo(e,i);if(!e.ghostCards.find((function(e){return e.x===d.x&&e.y===d.y&&e.cardStack.length>0&&"-1"===e.cardStack[0].jsonId}))){var c=JSON.parse(JSON.stringify(i));c.id=Object(b.a)(),c.x=d.x,c.y=d.y,c.cardStack=[{jsonId:"-1"}],e.ghostCards.push(c)}}else e.ghostCards=e.ghostCards.filter((function(e){return e.cardStack.length>0&&"-1"!==e.cardStack[0].jsonId}));a.forEach((function(o){e.cards.push(e.cards.splice(e.cards.indexOf(o),1)[0])}))},endCardMove:function(e,o){var t=[],r=[];e.cards.filter((function(e){return e.id===o.payload||e.selected&&e.controlledBy===o.ACTOR_REF})).forEach((function(a){a.dragging=!1,e.attachTargetCards[o.ACTOR_REF]?r.push(a):e.dropTargetCards[o.ACTOR_REF]&&(t=t.concat(a.cardStack))}));var a=e.attachTargetCards[o.ACTOR_REF];if(a){var n=zo(e,a);r.forEach((function(o,t){o.x=n.x+50*t,o.y=n.y-50*t,e.cards.unshift(e.cards.splice(e.cards.indexOf(o),1)[0])}))}else if(e.dropTargetCards[o.ACTOR_REF]){e.cards=e.cards.filter((function(e){return!(e.id===o.payload||e.selected&&e.controlledBy===o.ACTOR_REF)}));var s=e.cards.find((function(t){var r;return t.id===(null===(r=e.dropTargetCards[o.ACTOR_REF])||void 0===r?void 0:r.id)}));s&&t.length>0&&(s.cardStack=t.concat(s.cardStack))}e.ghostCards=[],e.dropTargetCards[o.ACTOR_REF]=null,e.attachTargetCards[o.ACTOR_REF]=null},cardFromHandMove:function(e,o){e.dropTargetCards[o.ACTOR_REF]=Wo(e,o.payload,60)},selectMultipleCards:function(e,o){o.payload.unselectOtherCards&&Jo(e,o),o.payload.ids.map((function(o){return e.cards.find((function(e){return e.id===o}))})).forEach((function(e){!e||""!==e.controlledBy&&e.controlledBy!==o.ACTOR_REF||(e.selected=!0,e.controlledBy=o.ACTOR_REF)}))},unselectAllCards:Jo,togglePanMode:function(e){e.panMode=!e.panMode},toggleMultiselectMode:function(e){e.multiselectMode=!e.multiselectMode},flipCards:function(e,o){e.cards.filter((function(e){return e.selected&&(""===e.controlledBy||e.controlledBy===o.ACTOR_REF)})).forEach((function(e){e.faceup=!e.faceup,e.cardStack=e.cardStack.reverse()}))},resetCards:function(e){e.cards=[],e.playerHands=Mo()},toggleToken:function(e,o){Go(e,o.ACTOR_REF,(function(e){void 0!==o.payload.value?e.statusTokens[o.payload.tokenType]=o.payload.value:e.statusTokens[o.payload.tokenType]=!e.statusTokens[o.payload.tokenType]}))},adjustCounterToken:function(e,o){e.cards.filter((function(e){return!!o.payload.id&&o.payload.id===e.id||e.selected&&e.controlledBy===o.ACTOR_REF})).forEach((function(e){void 0!==o.payload.value?e.counterTokens[o.payload.tokenType]=o.payload.value:void 0!==o.payload.delta&&(e.counterTokens[o.payload.tokenType]+=o.payload.delta),e.counterTokens[o.payload.tokenType]<0&&(e.counterTokens[o.payload.tokenType]=0)}))},adjustModifier:function(e,o){e.cards.filter((function(e){return!!o.payload.id&&o.payload.id===e.id||e.selected&&e.controlledBy===o.ACTOR_REF})).forEach((function(e){void 0!==o.payload.value?e.modifiers[o.payload.modifierId]=o.payload.value:void 0!==o.payload.delta&&(void 0===e.modifiers[o.payload.modifierId]&&(e.modifiers[o.payload.modifierId]=0),e.modifiers[o.payload.modifierId]+=o.payload.delta)}))},clearAllModifiers:function(e,o){e.cards.filter((function(e){return!!o.payload.id&&o.payload.id===e.id||e.selected&&e.controlledBy===o.ACTOR_REF})).forEach((function(e){e.modifiers={}}))},clearCardTokens:function(e,o){e.cards.filter((function(e){var t;return e.controlledBy===o.ACTOR_REF&&(e.id===(null!==(t=o.payload)&&void 0!==t?t:"")||e.selected)})).forEach((function(e){e.statusTokens={tough:!1,stunned:!1,confused:!1},e.counterTokens={damage:0,threat:0,generic:0},e.modifiers={}}))},reorderPlayerHand:function(e,o){if(e.playerHands.length>=o.payload.playerNumber){var t=e.playerHands[o.payload.playerNumber-1],r=Array.from(t.cards),a=r.splice(o.payload.sourceIndex,1),n=Object(T.a)(a,1)[0];r.splice(o.payload.destinationIndex,0,n),t.cards=r}},removeFromPlayerHand:function(e,o){if(e.playerHands.length>=o.payload.playerNumber){var t=e.playerHands[o.payload.playerNumber-1],r=Array.from(t.cards);r.splice(o.payload.index,1),t.cards=r}},addToPlayerHand:function(e,o){var t=o.payload.playerNumber-1;if(t<0||t>=e.playerHands.length)console.error("Got an invalid playerNumber: ".concat(o.payload.playerNumber,". PlayerHands length is ").concat(e.playerHands.length));else{var r=e.playerHands[t];Go(e,o.ACTOR_REF,(function(o){e.playerHands[t].cards=o.cardStack.concat(r.cards)})),Uo(e,{ACTOR_REF:o.ACTOR_REF,payload:void 0,type:et.type})}},addToExistingCardStack:function(e,o){var t,r=null!==(t=e.cards.filter((function(e){return e.id===o.payload.existingStackId}))[0])&&void 0!==t?t:null;r&&(r.cardStack=o.payload.cardJsonIds.map((function(e){return{jsonId:e}})).concat(r.cardStack)),e.dropTargetCards[o.ACTOR_REF]=null}},extraReducers:function(e){e.addCase(I,(function(e,o){e.cards=o.payload.liveState.present.cards.cards,e.ghostCards=o.payload.liveState.present.cards.ghostCards})),e.addCase(M,(function(e,o){var t;e.outOfSyncWithRemote=!(Se()(null===(t=Object(ke.f)(e.cards))||void 0===t?void 0:t.filter((function(e){return!e.dragging})),o.payload.liveState.present.cards.cards.filter((function(e){return!e.dragging})))&&Se()(Object(ke.f)(e.ghostCards),o.payload.liveState.present.cards.ghostCards)),e.outOfSyncWithRemote?console.error("CARDS state is out of synce with remote!!!",Object(ke.f)(e),o.payload.liveState.present.cards):console.log("CARDS state is in sync")})),e.addCase(ve,(function(e,o){var t=e.cards.find((function(e){return e.id===o.payload.id}));t&&(t.cardStack=o.payload.newStack)})),e.addCase(P,(function(e){e.cards=[],e.playerHands=Mo(),e.dropTargetCards={},e.ghostCards=[],e.panMode=!0})),e.addCase(fe,(function(e,o){var t={controlledBy:"",x:o.payload.position.x,y:o.payload.position.y,dragging:!1,shuffling:!1,exhausted:!1,faceup:!0,fill:"red",id:o.payload.id,cardStack:o.payload.cardJsonIds.map((function(e){return{jsonId:e}})),selected:!1,statusTokens:{stunned:!1,confused:!1,tough:!1},counterTokens:{damage:0,threat:0,generic:0},modifiers:{}};e.cards.push(t)})),e.addCase(ge,(function(e,o){var t=e.cards.find((function(e){return e.id===o.payload.cardStackId}));if(t&&t.cardStack.length>1){var r=[{jsonId:o.payload.jsonId}],a=Object.assign({},t,{cardStack:r});a.id=o.payload.id,a.selected=!0,a.controlledBy=o.ACTOR_REF,a.x=a.x+xe+5;var n=t.cardStack.findIndex((function(e){return e.jsonId===o.payload.jsonId}));-1!==n&&t.cardStack.splice(n,1),t.selected=!1,t.controlledBy="",e.cards.push(a)}})),e.addCase(be,(function(e,o){var t=Bo(e,o.payload.id);if(t&&!t.selected&&(e.cards=e.cards.map((function(e){return""!==e.controlledBy&&e.controlledBy!==o.ACTOR_REF||(e.selected=e.id===o.payload.id,e.selected?e.controlledBy=o.ACTOR_REF:e.controlledBy=""),e}))),o.payload.splitTopCard){var r=e.cards.find((function(e){return e.id===o.payload.id}));if(!r)throw new Error("Expected to find card");r.selected=!1,r.controlledBy="";var a=r.cardStack.shift(),n=Object.assign({},r,{selected:!0,controlledBy:o.ACTOR_REF,dragging:!0,cardStack:[a]});r.id=o.payload.splitCardId,e.cards.push(n)}e.ghostCards=[],o.payload.splitTopCard||Go(e,o.ACTOR_REF,(function(o){o.dragging=!0,e.ghostCards.push(Object.assign({},o))}))})),e.addCase(je,(function(e,o){if(o.payload.numberToDraw!==o.payload.idsToUse.length)throw new Error("Did not receive the expected number of ids");Jo(e,o);var t=e.cards.find((function(e){return e.id===o.payload.cardStackId}));if(!t)throw new Error("Couldn't find card stack with id ".concat(o.payload.cardStackId));for(var r=t.id,a=0;a<o.payload.numberToDraw;a++)if(t){var n=t.cardStack.shift();if(!n)throw new Error("Expected to find a top card, but didn't");if(o.payload.drawIntoHand){var s=o.payload.playerNumber-1;e.playerHands[s].cards.push({jsonId:n.jsonId})}else{var i=[{jsonId:n.jsonId}],d=Object.assign({},t,{cardStack:i});d.id=o.payload.idsToUse[a],d.selected=!0,d.controlledBy=o.ACTOR_REF,d.faceup=!o.payload.facedown,d.x=d.x+(xe+5)*(a+1),d.y+=Oe,e.cards.push(d)}0===t.cardStack.length&&(e.cards=e.cards.filter((function(e){return e.id!==r})),t=void 0)}})),e.addCase(Ce,(function(e,o){var t=e.cards.find((function(e){return e.id===o.payload.id}));t&&(t.shuffling=o.payload.shuffling)})),e.addCase(ye,(function(e,o){return Ko(e,o)})),e.addCase(ko.fulfilled,(function(e,o){return Ko(e,o)})),e.addCase(D,(function(e,o){Jo(e,o)}))}}),Ko=function(e,o){console.log("got decklist"),console.log(o);var t=o.payload.data.investigator_code?[{jsonId:o.payload.data.investigator_code}]:[],r=[].concat(t,Object(Te.a)(o.payload.extraHeroCards)),a={controlledBy:o.ACTOR_REF,selected:!0,x:o.payload.position.x,y:o.payload.position.y,dragging:!1,shuffling:!1,exhausted:!1,faceup:!0,fill:"red",id:o.payload.heroId,cardStack:r,statusTokens:{stunned:!1,confused:!1,tough:!1},counterTokens:{damage:0,threat:0,generic:0},modifiers:{}},n=[];Object.entries(o.payload.data.slots).forEach((function(e){var o=Object(T.a)(e,2),t=o[0],r=o[1],a=Array.from(Array(r).keys()).map((function(){return{jsonId:t}}));n=n.concat(a)}));var s=xe+10,i={controlledBy:o.ACTOR_REF,selected:!0,x:o.payload.position.x+s,y:o.payload.position.y,dragging:!1,shuffling:!1,exhausted:!1,faceup:!0,fill:"red",id:o.payload.dataId,cardStack:n,statusTokens:{stunned:!1,confused:!1,tough:!1},counterTokens:{damage:0,threat:0,generic:0},modifiers:{}},d={controlledBy:o.ACTOR_REF,selected:!0,x:o.payload.position.x+2*s,y:o.payload.position.y,dragging:!1,shuffling:!1,exhausted:!1,faceup:!0,fill:"red",id:o.payload.encounterDeckId,cardStack:o.payload.relatedEncounterDeck.map((function(e){return{jsonId:e}})),statusTokens:{stunned:!1,confused:!1,tough:!1},counterTokens:{damage:0,threat:0,generic:0},modifiers:{}},c={controlledBy:o.ACTOR_REF,selected:!0,x:o.payload.position.x+3*s,y:o.payload.position.y,dragging:!1,shuffling:!1,exhausted:!1,faceup:!0,fill:"red",id:o.payload.obligationDeckId,cardStack:o.payload.relatedObligationDeck.map((function(e){return{jsonId:e}})),statusTokens:{stunned:!1,confused:!1,tough:!1},counterTokens:{damage:0,threat:0,generic:0},modifiers:{}};a.cardStack.length>0&&e.cards.push(a),i.cardStack.length>0&&e.cards.push(i),d.cardStack.length>0&&e.cards.push(d),c.cardStack.length>0&&e.cards.push(c)},qo=Vo.actions,Zo=qo.selectCard,Yo=qo.unselectCard,Xo=qo.toggleSelectCard,$o=qo.exhaustCard,et=qo.deleteCardStack,ot=qo.cardMove,tt=qo.endCardMove,rt=qo.cardFromHandMove,at=qo.selectMultipleCards,nt=qo.unselectAllCards,st=qo.togglePanMode,it=qo.toggleMultiselectMode,dt=qo.flipCards,ct=(qo.resetCards,qo.toggleToken),lt=qo.adjustCounterToken,ht=qo.clearCardTokens,ut=qo.adjustModifier,pt=qo.clearAllModifiers,mt=qo.reorderPlayerHand,ft=qo.removeFromPlayerHand,gt=qo.addToPlayerHand,jt=qo.addToExistingCardStack,bt=Vo.reducer,vt=Object(m.b)("addNewCounterWithId"),Ct=new URLSearchParams(window.location.search).get("counters"),yt=(Ct?JSON.parse(Io.a.uncrush(Ct)):null)||(null!==(Ro=null===(Eo=w("liveState"))||void 0===Eo?void 0:Eo.counters)&&void 0!==Ro?Ro:{}),Tt=Object(N.a)(Object(N.a)({},{counters:[],firstPlayerCounterPosition:{x:0,y:0}}),yt),wt=Object(m.d)({name:"counters",initialState:Tt,reducers:{updateCounterValue:function(e,o){var t=e.counters.find((function(e){return e.id===o.payload.id}));t&&(t.value+=o.payload.delta,t.value<0&&(t.value=0))},removeCounter:function(e,o){e.counters=e.counters.filter((function(e){return e.id!==o.payload}))},moveCounter:function(e,o){var t=e.counters.find((function(e){return e.id===o.payload.id}));t&&(t.position={x:o.payload.newPos.x,y:o.payload.newPos.y})},moveFirstPlayerCounter:function(e,o){e.firstPlayerCounterPosition={x:o.payload.x,y:o.payload.y}},updateCounterColor:function(e,o){var t=e.counters.find((function(e){return e.id===o.payload.id}));t&&(t.color=o.payload.newColor)}},extraReducers:function(e){e.addCase(I,(function(e,o){e.counters=o.payload.liveState.present.counters.counters,e.firstPlayerCounterPosition=o.payload.liveState.present.counters.firstPlayerCounterPosition})),e.addCase(P,(function(e,o){e.counters=[],e.firstPlayerCounterPosition={x:0,y:0}})),e.addCase(vt,(function(e,o){e.counters.push({id:o.payload.id,position:o.payload.pos,value:0,color:"red"})}))}}),St=wt.actions,kt=St.updateCounterValue,Ot=St.removeCounter,xt=St.moveCounter,_t=St.moveFirstPlayerCounter,Pt=St.updateCounterColor,It=wt.reducer,Mt=Object(f.c)({counters:It,cards:bt}),Dt=Object(f.c)({game:ne,cardsData:me,liveState:j()(Mt,{limit:20,groupBy:Object(g.groupByActionTypes)([xt.type]),filter:Object(g.excludeAction)([be.type,ot.type,V.type,K.type])})}),Nt=t(16),Rt=t(169),Et=t.n(Rt),At=t(68),Lt=t.n(At),Ft=(Ao={},Object(Nt.a)(Ao,W.type,!0),Object(Nt.a)(Ao,Q.type,!0),Object(Nt.a)(Ao,G.type,!0),Object(Nt.a)(Ao,V.type,!0),Object(Nt.a)(Ao,K.type,!0),Object(Nt.a)(Ao,q.type,!0),Object(Nt.a)(Ao,Z.type,!0),Object(Nt.a)(Ao,st.type,!0),Object(Nt.a)(Ao,I.type,!0),Object(Nt.a)(Ao,J.type,!0),Object(Nt.a)(Ao,he.type,!0),Object(Nt.a)(Ao,ue.type,!0),Object(Nt.a)(Ao,pe.type,!0),Object(Nt.a)(Ao,D.type,!0),Object(Nt.a)(Ao,re.type,!0),Object(Nt.a)(Ao,rt.type,!0),Ao),Bt=function(){false},Ht=function(e,o){e.on("data",(function(t){t.INITIAL_STATE_MSG?(console.log("going to replace (most of) state with",t.state),setTimeout((function(){o.dispatch(I(t.state))}),0)):t.RESYNC?(Bt("received request for resync"),e.send({INITIAL_STATE_MSG:!0,state:o.getState()})):t.PING?(t.REMOTE_ACTION=!0,o.dispatch(M(t.state))):(Bt("recieved remote action",t),t.REMOTE_ACTION=!0,Bt("dispatching remote action",t),o.dispatch(t))}))},Gt=Object(m.e)({thunk:!0,immutableCheck:!1,serializableCheck:!1}).concat((function(e){var o,t=new Et.a(void 0,{host:"peerjs.middle-earth.house",path:"/cgp",secure:!0,debug:0,config:{iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"turn:numb.viagenie.ca",username:"webrtc@live.com",credential:"muazkh"}]}});return t.on("error",(function(e){console.error("*****************Server error"),console.error(e)})),t.on("disconnected",(function(){console.log("****Peer server connection disconnected")})),t.on("open",(function(r){console.log("My peer ID is: "+r),e.dispatch(z(r));var a=window.location.href.split("remote=");if(a.length>1){var n=a[1].split("&")[0];console.log("FOUND QUERY PARAM. Going to connect to peer "+n),o=t.connect(n,{metadata:{ref:v}}),Ht(o,e)}})),t.on("connection",(function(t){console.log("Connection received!"),Ht(o=t,e),o.on("open",(function(){console.log("connection ready for data");var t=Lt()(e.getState());delete t.cardsData,Bt("going to send initial state",t),o.send({INITIAL_STATE_MSG:!0,state:t});var r=U({ref:o.metadata.ref,color:"blue",playerNumber:2});o.send(r),o.send(U({ref:v,color:"red",playerNumber:1})),e.dispatch(r),setInterval((function(){var t=Lt()(e.getState());delete t.cardsData,o.send({PING:!0,state:t})}),5e3)})),o.on("error",(function(e){console.error("****************Connection error:",e)})),o.on("close",(function(){console.log("******connection closed for ref "+o.metadata.ref)})),o.peerConnection.onconnectionstatechange=function(e){console.log("connection state changed"),console.log(e),console.log(o.peerConnection.connectionState),"closed"!==o.peerConnection.connectionState&&"disconnected"!==o.peerConnection.connectionState||console.log("CLEARING CLIENT OWNED CARDS for "+o.metadata.ref)}})),function(r){return function(a){return Bt("received local action",a),a.REMOTE_ACTION?a.ACTOR_REF||(console.error("Received a REMOTE action without an ACTOR_REF:"),console.log(a)):a.ACTOR_REF=v,a.type===W.type?(console.log("going to connect to peer "+a.payload),o=t.connect(a.payload,{metadata:{ref:v}}),Ht(o,e)):a.type===J.type&&o&&o.send({RESYNC:!0}),a.REMOTE_ACTION||!o||Ft[a.type]||(Bt("going to send action to peer!"),o.send(a)),r(a)}}}));var Qt,Wt=t(8),Ut=t(9),zt=t(10),Jt=t(11),Vt=t(170),Kt=t(111),qt=t(28),Zt=t(91),Yt=47,Xt=47,$t=function(e){Object(zt.a)(t,e);var o=Object(Jt.a)(t);function t(e){var r,a,n,s;Object(Wt.a)(this,t),(s=o.call(this,e)).damageImg=void 0,s.threatImg=void 0,s.genericImg=void 0,s.unmounted=void 0,s.unmounted=!0,s.state={imagesLoaded:{damage:!1,threat:!1,generic:!1}},s.damageImg=new Image,s.threatImg=new Image,s.genericImg=new Image;var i=qe[s.props.currentGameType].tokens;return s.damageImg.onload=function(){s.unmounted||s.setState({imagesLoaded:{damage:!0,threat:s.state.imagesLoaded.threat,generic:s.state.imagesLoaded.generic}})},(null===(r=s.props.card)||void 0===r?void 0:r.counterTokens.damage)&&i.damage&&(s.damageImg.src=i.damage.imagePath),s.threatImg.onload=function(){s.unmounted||s.setState({imagesLoaded:{damage:s.state.imagesLoaded.damage,threat:!0,generic:s.state.imagesLoaded.generic}})},(null===(a=s.props.card)||void 0===a?void 0:a.counterTokens.threat)&&i.threat&&(s.threatImg.src=i.threat.imagePath),s.genericImg.onload=function(){s.unmounted||s.setState({imagesLoaded:{damage:s.state.imagesLoaded.damage,threat:s.state.imagesLoaded.threat,generic:!0}})},(null===(n=s.props.card)||void 0===n?void 0:n.counterTokens.generic)&&i.generic&&(s.genericImg.src=i.generic.imagePath),s}return Object(Ut.a)(t,[{key:"componentDidUpdate",value:function(e,o){var t,r,a,n,s,i,d=qe[this.props.currentGameType].tokens;!this.state.imagesLoaded.damage&&!(null===(t=e.card)||void 0===t?void 0:t.counterTokens.damage)&&(null===(r=this.props.card)||void 0===r?void 0:r.counterTokens.damage)&&d.damage&&(this.damageImg.src=d.damage.imagePath),!this.state.imagesLoaded.threat&&!(null===(a=e.card)||void 0===a?void 0:a.counterTokens.threat)&&(null===(n=this.props.card)||void 0===n?void 0:n.counterTokens.threat)&&d.threat&&(this.threatImg.src=d.threat.imagePath),!this.state.imagesLoaded.generic&&!(null===(s=e.card)||void 0===s?void 0:s.counterTokens.generic)&&(null===(i=this.props.card)||void 0===i?void 0:i.counterTokens.generic)&&d.generic&&(this.genericImg.src=d.generic.imagePath)}},{key:"componentDidMount",value:function(){this.unmounted=!1}},{key:"componentWillUnmount",value:function(){this.unmounted=!0}},{key:"render",value:function(){if(!this.props.card)return null;var e=this.props.x-23.5,o=this.props.y-Oe/2+20,t=this.state.imagesLoaded.damage&&!!this.props.card.counterTokens.damage,a=t?Object(r.jsx)(qt.c,{x:e,y:o,scale:{x:Yt/this.damageImg.naturalWidth,y:Xt/this.damageImg.naturalHeight},width:this.damageImg.naturalWidth,height:this.damageImg.naturalHeight,fillPatternImage:this.damageImg},"".concat(this.props.card.id,"-damageToken")):null,n=t?Object(r.jsx)(qt.e,{x:e,y:o,width:this.damageImg.naturalWidth*(Yt/this.damageImg.naturalWidth),height:this.damageImg.naturalHeight*(Xt/this.damageImg.naturalHeight),text:"".concat(this.props.card.counterTokens.damage),fill:"white",align:"center",verticalAlign:"middle",fontSize:24},"".concat(this.props.card.id,"-damageText")):null,s=this.props.x-23.5,i=o+Xt+5,d=this.state.imagesLoaded.threat&&!!this.props.card.counterTokens.threat,c=d?Object(r.jsx)(qt.c,{x:s,y:i,scale:{x:Yt/this.threatImg.naturalWidth,y:Xt/this.threatImg.naturalHeight},width:this.threatImg.naturalWidth,height:this.threatImg.naturalHeight,fillPatternImage:this.threatImg},"".concat(this.props.card.id,"-threatToken")):null,l=d?Object(r.jsx)(qt.e,{x:s,y:i,width:this.threatImg.naturalWidth*(Yt/this.threatImg.naturalWidth),height:this.threatImg.naturalHeight*(Xt/this.threatImg.naturalHeight),text:"".concat(this.props.card.counterTokens.threat),fill:"white",align:"center",verticalAlign:"middle",fontSize:24},"".concat(this.props.card.id,"-threatText")):null,h=this.props.x-23.5,u=i+Xt+5,p=this.state.imagesLoaded.generic&&!!this.props.card.counterTokens.generic;return[a,n,c,l,p?Object(r.jsx)(qt.c,{x:h,y:u,scale:{x:Yt/this.genericImg.naturalWidth,y:Xt/this.genericImg.naturalHeight},width:this.genericImg.naturalWidth,height:this.genericImg.naturalHeight,fillPatternImage:this.genericImg},"".concat(this.props.card.id,"-genericToken")):null,p?Object(r.jsx)(qt.e,{x:h,y:u,width:this.genericImg.naturalWidth*(Yt/this.genericImg.naturalWidth),height:this.genericImg.naturalHeight*(Xt/this.genericImg.naturalHeight),text:"".concat(this.props.card.counterTokens.generic),fill:"white",align:"center",verticalAlign:"middle",fontSize:24},"".concat(this.props.card.id,"-genericText")):null]}}]),t}(a.Component),er=Object(d.c)((function(e,o){return{card:vo(e)[o.id]}}),{})($t),or={"05026":!0},tr={"02001a":"/images/cards/8665869b-fae4-494e-91d1-1e8c308220c2.jpg","02001b":"/images/cards/8665869b-fae4-494e-91d1-1e8c308220c2.b.jpg","02002a":"/images/cards/cfd051be-4ade-4cf8-b575-4b673cfa9a92.jpg","02002b":"/images/cards/cfd051be-4ade-4cf8-b575-4b673cfa9a92.b.jpg","02003a":"/images/cards/b16187a4-3f29-4a4b-8b66-6e8c7524c402.jpg","02003b":"/images/cards/b16187a4-3f29-4a4b-8b66-6e8c7524c402.b.jpg","02004":"/images/cards/b35084d9-3a2b-418c-b1a4-e4929de16a2c.jpg","02004_double_sided_back":"/images/cards/b35084d9-3a2b-418c-b1a4-e4929de16a2c.b.jpg","02005":"/images/cards/1eae757a-25b2-4b29-a8e7-f43b12c531b0.jpg","02005_double_sided_back":"/images/cards/1eae757a-25b2-4b29-a8e7-f43b12c531b0.b.jpg","02006a":"/images/cards/0a59161d-7db6-4328-9eeb-1906ce8715a5.jpg","02006b":"/images/cards/0a59161d-7db6-4328-9eeb-1906ce8715a5.b.jpg","02017":"https://hallofheroeshome.files.wordpress.com/2019/12/mutagen4a.jpg","02017_double_sided_back":"https://hallofheroeshome.files.wordpress.com/2019/12/mutagen4b.jpg","02018":"https://hallofheroeshome.files.wordpress.com/2019/12/mutagen5a.jpg","02018_double_sided_back":"https://hallofheroeshome.files.wordpress.com/2019/12/mutagen5b.jpg",12020:"https://lcgcdn.s3.amazonaws.com/mc/MC13en_20.jpg","15001a":"https://marvelcdb.com/bundles/cards/15001a.png","15001b":"https://marvelcdb.com/bundles/cards/15001b.png",15002:"https://hallofheroeshome.files.wordpress.com/2021/03/s1.jpg",15003:"https://hallofheroeshome.files.wordpress.com/2021/03/s2.jpg",15004:"https://hallofheroeshome.files.wordpress.com/2021/03/s6.jpg",15005:"https://hallofheroeshome.files.wordpress.com/2021/03/s7.jpg",15006:"https://hallofheroeshome.files.wordpress.com/2021/03/s10.jpg",15007:"https://hallofheroeshome.files.wordpress.com/2021/03/s11.jpg",15008:"https://hallofheroeshome.files.wordpress.com/2021/03/s12.jpg",15009:"https://hallofheroeshome.files.wordpress.com/2021/03/s15.jpg",15010:"https://hallofheroeshome.files.wordpress.com/2021/03/w1.jpg",15011:"https://hallofheroeshome.files.wordpress.com/2021/03/w2.jpg",15012:"https://hallofheroeshome.files.wordpress.com/2021/03/w3.jpg",15013:"https://hallofheroeshome.files.wordpress.com/2021/03/w4.jpg",15014:"https://hallofheroeshome.files.wordpress.com/2021/03/w5.jpg",15015:"https://hallofheroeshome.files.wordpress.com/2021/03/w6.jpg",15019:"https://hallofheroeshome.files.wordpress.com/2021/03/w10.jpg",15023:"https://hallofheroeshome.files.wordpress.com/2021/03/n2.jpg",15024:"https://hallofheroeshome.files.wordpress.com/2021/03/n3.jpg",15025:"https://hallofheroeshome.files.wordpress.com/2021/03/n4.jpg",15026:"https://hallofheroeshome.files.wordpress.com/2021/03/n5.jpg",15027:"https://hallofheroeshome.files.wordpress.com/2021/03/n6.jpg",15028:"https://hallofheroeshome.files.wordpress.com/2021/03/z1.jpg",15029:"https://hallofheroeshome.files.wordpress.com/2021/03/z2.jpg",15030:"https://hallofheroeshome.files.wordpress.com/2021/03/z3.jpg",15031:"https://hallofheroeshome.files.wordpress.com/2021/03/z4.jpg","16001a":"https://marvelcdb.com/bundles/cards/16001a.png","16001b":"https://marvelcdb.com/bundles/cards/16001b.png",16002:"https://hallofheroeshome.files.wordpress.com/2021/04/g1.jpg",16003:"https://hallofheroeshome.files.wordpress.com/2021/04/g3.jpg",16004:"https://hallofheroeshome.files.wordpress.com/2021/04/g5.jpg",16005:"https://hallofheroeshome.files.wordpress.com/2021/04/g7.jpg",16006:"https://hallofheroeshome.files.wordpress.com/2021/04/g10.jpg",16007:"https://hallofheroeshome.files.wordpress.com/2021/04/g11.jpg",16008:"https://hallofheroeshome.files.wordpress.com/2021/04/g12.jpg",16009:"https://hallofheroeshome.files.wordpress.com/2021/04/g13.jpg",16010:"https://hallofheroeshome.files.wordpress.com/2021/04/g14.jpg",16011:"https://hallofheroeshome.files.wordpress.com/2021/04/g15.jpg",16012:"https://hallofheroeshome.files.wordpress.com/2021/04/z1.jpg",16014:"https://hallofheroeshome.files.wordpress.com/2021/04/z3.jpg",16016:"https://hallofheroeshome.files.wordpress.com/2021/04/z5.jpg",16017:"https://hallofheroeshome.files.wordpress.com/2021/04/z6.jpg",16019:"https://hallofheroeshome.files.wordpress.com/2021/04/z8.jpg",16020:"https://hallofheroeshome.files.wordpress.com/2021/04/z9.jpg",16024:"https://hallofheroeshome.files.wordpress.com/2021/04/z13.jpg",16025:"https://hallofheroeshome.files.wordpress.com/2021/04/n1.jpg",16026:"https://hallofheroeshome.files.wordpress.com/2021/04/n2.jpg",16027:"https://hallofheroeshome.files.wordpress.com/2021/04/n3.jpg",16028:"https://hallofheroeshome.files.wordpress.com/2021/04/n4.jpg","16029a":"https://marvelcdb.com/bundles/cards/16029a.png","16029b":"https://hallofheroeshome.files.wordpress.com/2021/04/r0a.jpg",16030:"https://hallofheroeshome.files.wordpress.com/2021/04/r1.jpg",16031:"https://hallofheroeshome.files.wordpress.com/2021/04/r3.jpg",16032:"https://hallofheroeshome.files.wordpress.com/2021/04/r5.jpg",16033:"https://hallofheroeshome.files.wordpress.com/2021/04/r6.jpg",16034:"https://hallofheroeshome.files.wordpress.com/2021/04/r8.jpg",16035:"https://hallofheroeshome.files.wordpress.com/2021/04/r10.jpg",16036:"https://hallofheroeshome.files.wordpress.com/2021/04/r11.jpg",16037:"https://hallofheroeshome.files.wordpress.com/2021/04/r12.jpg",16038:"https://hallofheroeshome.files.wordpress.com/2021/04/r13.jpg",16039:"https://hallofheroeshome.files.wordpress.com/2021/04/r15.jpg",16040:"https://hallofheroeshome.files.wordpress.com/2021/04/z1-1.jpg",16043:"https://hallofheroeshome.files.wordpress.com/2021/04/z4-1.jpg",16045:"https://hallofheroeshome.files.wordpress.com/2021/04/z6-1.jpg",16046:"https://hallofheroeshome.files.wordpress.com/2021/04/z7-1.jpg",16047:"https://hallofheroeshome.files.wordpress.com/2021/04/z8-1.jpg",16048:"https://hallofheroeshome.files.wordpress.com/2021/04/z9-1.jpg",16052:"https://hallofheroeshome.files.wordpress.com/2021/04/z13-1.jpg",16053:"https://hallofheroeshome.files.wordpress.com/2021/04/n0.jpg",16054:"https://hallofheroeshome.files.wordpress.com/2021/04/n1-1.jpg",16055:"https://hallofheroeshome.files.wordpress.com/2021/04/n2-1.jpg",16056:"https://hallofheroeshome.files.wordpress.com/2021/04/n3-1.jpg",16057:"https://hallofheroeshome.files.wordpress.com/2021/04/n4-1.jpg",16058:"https://hallofheroeshome.files.wordpress.com/2021/04/d1.jpg",16059:"https://hallofheroeshome.files.wordpress.com/2021/04/d2.jpg",16060:"https://hallofheroeshome.files.wordpress.com/2021/04/d3.jpg",16061:"https://hallofheroeshome.files.wordpress.com/2021/04/d4a.jpg","16061a":"https://hallofheroeshome.files.wordpress.com/2021/04/d4a.jpg","16061_double_sided_back":"https://hallofheroeshome.files.wordpress.com/2021/04/d4b.jpg","16061b":"https://hallofheroeshome.files.wordpress.com/2021/04/d4b.jpg",16062:"https://hallofheroeshome.files.wordpress.com/2021/04/d5a.jpg","16062a":"https://hallofheroeshome.files.wordpress.com/2021/04/d5a.jpg","16062_double_sided_back":"https://hallofheroeshome.files.wordpress.com/2021/04/d5b.jpg","16062b":"https://hallofheroeshome.files.wordpress.com/2021/04/d5b.jpg",16063:"https://hallofheroeshome.files.wordpress.com/2021/04/d6.jpg",16064:"https://hallofheroeshome.files.wordpress.com/2021/04/d7.jpg",16065:"https://hallofheroeshome.files.wordpress.com/2021/04/d8.jpg",16066:"https://hallofheroeshome.files.wordpress.com/2021/04/d10.jpg",16067:"https://hallofheroeshome.files.wordpress.com/2021/04/d11.jpg",16068:"https://hallofheroeshome.files.wordpress.com/2021/04/d12.jpg",16069:"https://hallofheroeshome.files.wordpress.com/2021/04/d13.jpg",16117:"https://hallofheroeshome.files.wordpress.com/2021/04/bb1.jpg",16118:"https://hallofheroeshome.files.wordpress.com/2021/04/bb3.jpg",16119:"https://hallofheroeshome.files.wordpress.com/2021/04/bb6.jpg",16120:"https://hallofheroeshome.files.wordpress.com/2021/04/bb7.jpg",16121:"https://hallofheroeshome.files.wordpress.com/2021/04/bb9.jpg",16142:"https://hallofheroeshome.files.wordpress.com/2021/04/sc1.jpg",16143:"https://hallofheroeshome.files.wordpress.com/2021/04/sc2.jpg",16144:"https://hallofheroeshome.files.wordpress.com/2021/04/sc3.jpg",16145:"https://hallofheroeshome.files.wordpress.com/2021/04/sc4.jpg",16146:"https://hallofheroeshome.files.wordpress.com/2021/04/sc5.jpg",16147:"https://hallofheroeshome.files.wordpress.com/2021/04/sc6.jpg",16148:"https://hallofheroeshome.files.wordpress.com/2021/04/sc7.jpg","17001a":"https://marvelcdb.com/bundles/cards/17001a.png","17001b":"https://marvelcdb.com/bundles/cards/17001b.png",17002:"https://hallofheroeshome.files.wordpress.com/2021/05/1-1.jpg",17003:"https://hallofheroeshome.files.wordpress.com/2021/05/2-1.jpg",17004:"https://hallofheroeshome.files.wordpress.com/2021/05/5.jpg",17005:"https://hallofheroeshome.files.wordpress.com/2021/05/7.jpg",17006:"https://hallofheroeshome.files.wordpress.com/2021/05/10.jpg",17007:"https://hallofheroeshome.files.wordpress.com/2021/05/11.jpg",17008:"https://hallofheroeshome.files.wordpress.com/2021/05/13.jpg",17009:"https://hallofheroeshome.files.wordpress.com/2021/05/14.jpg",17010:"https://hallofheroeshome.files.wordpress.com/2021/05/15.jpg",17011:"https://hallofheroeshome.files.wordpress.com/2021/05/a1.jpg",17012:"https://hallofheroeshome.files.wordpress.com/2021/05/a2.jpg",17013:"https://hallofheroeshome.files.wordpress.com/2021/05/a3.jpg",17014:"https://hallofheroeshome.files.wordpress.com/2021/05/a4.jpg",17015:"https://hallofheroeshome.files.wordpress.com/2021/05/a5.jpg",17017:"https://hallofheroeshome.files.wordpress.com/2021/05/a7.jpg",17019:"https://hallofheroeshome.files.wordpress.com/2021/05/a9.jpg",17020:"https://hallofheroeshome.files.wordpress.com/2021/05/a10.jpg",17021:"https://hallofheroeshome.files.wordpress.com/2021/05/a11.jpg",17022:"https://hallofheroeshome.files.wordpress.com/2021/05/a12.jpg",17023:"https://hallofheroeshome.files.wordpress.com/2021/05/a13.jpg",17024:"https://hallofheroeshome.files.wordpress.com/2021/05/o0.jpg",17025:"https://hallofheroeshome.files.wordpress.com/2021/05/o1.jpg",17026:"https://hallofheroeshome.files.wordpress.com/2021/05/o2.jpg",17027:"https://hallofheroeshome.files.wordpress.com/2021/05/o3.jpg",17028:"https://hallofheroeshome.files.wordpress.com/2021/05/bb1.jpg",17029:"https://hallofheroeshome.files.wordpress.com/2021/05/bb2.jpg",17030:"https://hallofheroeshome.files.wordpress.com/2021/05/bb3.jpg","18001a":"https://marvelcdb.com/bundles/cards/18001a.png","18001b":"https://marvelcdb.com/bundles/cards/18001b.png",18002:"https://hallofheroeshome.files.wordpress.com/2021/05/g1-1.jpg",18003:"https://hallofheroeshome.files.wordpress.com/2021/05/g2-1.jpg",18004:"https://hallofheroeshome.files.wordpress.com/2021/05/g4-1.jpg",18005:"https://hallofheroeshome.files.wordpress.com/2021/05/g6-1.jpg",18006:"https://hallofheroeshome.files.wordpress.com/2021/05/g8-1.jpg",18007:"https://hallofheroeshome.files.wordpress.com/2021/05/g10-1.jpg",18008:"https://hallofheroeshome.files.wordpress.com/2021/05/g12-1.jpg",18009:"https://hallofheroeshome.files.wordpress.com/2021/05/g13-1.jpg",18010:"https://hallofheroeshome.files.wordpress.com/2021/05/g15-1.jpg",18011:"https://hallofheroeshome.files.wordpress.com/2021/05/z0.png",18012:"https://hallofheroeshome.files.wordpress.com/2021/05/c1.jpg",18013:"https://hallofheroeshome.files.wordpress.com/2021/05/d1.jpg",18015:"https://hallofheroeshome.files.wordpress.com/2021/05/f1.jpg",18016:"https://hallofheroeshome.files.wordpress.com/2021/05/i111.jpg",18018:"https://hallofheroeshome.files.wordpress.com/2021/05/aaa1.jpg",18019:"https://hallofheroeshome.files.wordpress.com/2021/05/gamora-spoilers-41024_1.jpg",18020:"https://hallofheroeshome.files.wordpress.com/2021/05/h1.jpg",18024:"https://hallofheroeshome.files.wordpress.com/2021/05/n1.jpg",18025:"https://hallofheroeshome.files.wordpress.com/2021/05/s1.jpg",18026:"https://hallofheroeshome.files.wordpress.com/2021/05/n3.jpg",18027:"https://hallofheroeshome.files.wordpress.com/2021/05/n4.jpg",18028:"https://hallofheroeshome.files.wordpress.com/2021/05/n5.jpg",18029:"https://hallofheroeshome.files.wordpress.com/2021/05/zzz1.jpg",18030:"https://hallofheroeshome.files.wordpress.com/2021/05/zzz2.jpg",18031:"https://hallofheroeshome.files.wordpress.com/2021/05/zzz3.jpg","19001a":"https://marvelcdb.com/bundles/cards/19001a.png","19001b":"https://marvelcdb.com/bundles/cards/19001b.png",19002:"https://hallofheroeshome.files.wordpress.com/2021/06/d1.jpg",19003:"https://hallofheroeshome.files.wordpress.com/2021/06/d2.jpg",19004:"https://hallofheroeshome.files.wordpress.com/2021/06/d4.jpg",19005:"https://hallofheroeshome.files.wordpress.com/2021/06/d6.jpg",19006:"https://hallofheroeshome.files.wordpress.com/2021/06/d8.jpg",19007:"https://hallofheroeshome.files.wordpress.com/2021/06/d10.jpg",19008:"https://hallofheroeshome.files.wordpress.com/2021/06/d12.jpg",19009:"https://hallofheroeshome.files.wordpress.com/2021/06/d13.jpg",19010:"https://hallofheroeshome.files.wordpress.com/2021/06/d14.jpg",19011:"https://hallofheroeshome.files.wordpress.com/2021/06/d15.jpg",19012:"https://hallofheroeshome.files.wordpress.com/2021/06/z1.jpg",19013:"https://hallofheroeshome.files.wordpress.com/2021/06/z2.jpg",19015:"https://hallofheroeshome.files.wordpress.com/2021/06/z4.jpg",19016:"https://hallofheroeshome.files.wordpress.com/2021/06/z5.jpg",19017:"https://hallofheroeshome.files.wordpress.com/2021/06/z6.jpg",19018:"https://hallofheroeshome.files.wordpress.com/2021/06/z7.jpg",19020:"https://hallofheroeshome.files.wordpress.com/2021/06/z9.jpg",19025:"https://hallofheroeshome.files.wordpress.com/2021/06/n1.jpg",19026:"https://hallofheroeshome.files.wordpress.com/2021/06/n2.jpg",19027:"https://hallofheroeshome.files.wordpress.com/2021/06/n3.jpg",19028:"https://hallofheroeshome.files.wordpress.com/2021/06/n4.jpg",19029:"https://hallofheroeshome.files.wordpress.com/2021/06/n5.jpg",19030:"https://hallofheroeshome.files.wordpress.com/2021/06/zz1.jpg",19031:"https://hallofheroeshome.files.wordpress.com/2021/06/zz2.jpg",19032:"https://hallofheroeshome.files.wordpress.com/2021/06/zz3.jpg","20001a":"https://marvelcdb.com/bundles/cards/20001a.png","20001b":"https://marvelcdb.com/bundles/cards/20001b.png",20002:"https://hallofheroeshome.files.wordpress.com/2021/07/v1.jpg",20003:"https://hallofheroeshome.files.wordpress.com/2021/07/v3.jpg",20004:"https://hallofheroeshome.files.wordpress.com/2021/07/v5.jpg",20005:"https://hallofheroeshome.files.wordpress.com/2021/07/v6.jpg",20006:"https://hallofheroeshome.files.wordpress.com/2021/07/v9.jpg",20007:"https://hallofheroeshome.files.wordpress.com/2021/07/v11.jpg",20008:"https://hallofheroeshome.files.wordpress.com/2021/07/v12.jpg",20009:"https://hallofheroeshome.files.wordpress.com/2021/07/v13.jpg",20010:"https://hallofheroeshome.files.wordpress.com/2021/07/v14.jpg",20011:"https://hallofheroeshome.files.wordpress.com/2021/07/j1.jpg",20012:"https://hallofheroeshome.files.wordpress.com/2021/07/j2.jpg",20013:"https://hallofheroeshome.files.wordpress.com/2021/07/j3.jpg",20014:"https://hallofheroeshome.files.wordpress.com/2021/07/j4.jpg",20015:"https://hallofheroeshome.files.wordpress.com/2021/07/j5.jpg",20016:"https://hallofheroeshome.files.wordpress.com/2021/07/j6.jpg",20017:"https://hallofheroeshome.files.wordpress.com/2021/07/j7.jpg",20018:"https://hallofheroeshome.files.wordpress.com/2021/07/j8.jpg",20019:"https://hallofheroeshome.files.wordpress.com/2021/07/j9.jpg",20020:"https://hallofheroeshome.files.wordpress.com/2021/07/j10.jpg",20021:"https://hallofheroeshome.files.wordpress.com/2021/07/j11.jpg",20022:"https://hallofheroeshome.files.wordpress.com/2021/07/j12.jpg",20023:"https://hallofheroeshome.files.wordpress.com/2021/07/n0.jpg",20024:"https://hallofheroeshome.files.wordpress.com/2021/07/n1.jpg",20025:"https://hallofheroeshome.files.wordpress.com/2021/07/n2.jpg",20026:"https://hallofheroeshome.files.wordpress.com/2021/07/z1.jpg",20027:"https://hallofheroeshome.files.wordpress.com/2021/07/z2.jpg",20028:"https://hallofheroeshome.files.wordpress.com/2021/07/z3.jpg",20029:"https://hallofheroeshome.files.wordpress.com/2021/07/z4.jpg","21001a":"https://hallofheroeshome.files.wordpress.com/2021/08/m0b.jpg","21001b":"https://hallofheroeshome.files.wordpress.com/2021/08/m0a.jpg",21002:"https://hallofheroeshome.files.wordpress.com/2021/08/m1.jpg",21003:"https://hallofheroeshome.files.wordpress.com/2021/08/m2.jpg",21004:"https://hallofheroeshome.files.wordpress.com/2021/08/m3.jpg",21005:"https://hallofheroeshome.files.wordpress.com/2021/08/m4.jpg",21006:"https://hallofheroeshome.files.wordpress.com/2021/08/m5.jpg",21007:"https://hallofheroeshome.files.wordpress.com/2021/08/m7.jpg",21008:"https://hallofheroeshome.files.wordpress.com/2021/08/m10.jpg",21009:"https://hallofheroeshome.files.wordpress.com/2021/08/m13.jpg",21010:"https://hallofheroeshome.files.wordpress.com/2021/08/m16.jpg",21011:"https://hallofheroeshome.files.wordpress.com/2021/08/a1.jpg",21012:"https://hallofheroeshome.files.wordpress.com/2021/08/a2.jpg",21013:"https://hallofheroeshome.files.wordpress.com/2021/08/a3.jpg",21014:"https://hallofheroeshome.files.wordpress.com/2021/08/a4.jpg",21015:"https://hallofheroeshome.files.wordpress.com/2021/08/a5.jpg",21016:"https://hallofheroeshome.files.wordpress.com/2021/08/a6.jpg",21017:"https://hallofheroeshome.files.wordpress.com/2021/08/a7.jpg",21018:"https://hallofheroeshome.files.wordpress.com/2021/08/a8.jpg",21019:"https://hallofheroeshome.files.wordpress.com/2021/08/a9.jpg",21020:"https://hallofheroeshome.files.wordpress.com/2021/08/a10.jpg",21021:"https://hallofheroeshome.files.wordpress.com/2021/08/a11.jpg",21022:"https://hallofheroeshome.files.wordpress.com/2021/08/a12.jpg",21023:"https://hallofheroeshome.files.wordpress.com/2021/08/a13.jpg",21024:"https://hallofheroeshome.files.wordpress.com/2021/08/a14.jpg",21025:"https://hallofheroeshome.files.wordpress.com/2021/08/a15.jpg",21026:"https://hallofheroeshome.files.wordpress.com/2021/08/n00.jpg",21027:"https://hallofheroeshome.files.wordpress.com/2021/08/n2.jpg",21028:"https://hallofheroeshome.files.wordpress.com/2021/08/n3.jpg",21029:"https://hallofheroeshome.files.wordpress.com/2021/08/n5.jpg",21030:"https://hallofheroeshome.files.wordpress.com/2021/08/n6.jpg","21031a":"https://hallofheroeshome.files.wordpress.com/2021/08/a0b.jpg","21031b":"https://hallofheroeshome.files.wordpress.com/2021/08/a0a.jpg",21032:"https://hallofheroeshome.files.wordpress.com/2021/08/a1-1.jpg",21033:"https://hallofheroeshome.files.wordpress.com/2021/08/a2-1.jpg",21034:"https://hallofheroeshome.files.wordpress.com/2021/08/a3-1.jpg",21035:"https://hallofheroeshome.files.wordpress.com/2021/08/a4-1.jpg",21036:"https://hallofheroeshome.files.wordpress.com/2021/08/a5-1.jpg",21037:"https://hallofheroeshome.files.wordpress.com/2021/08/a7-1.jpg",21038:"https://hallofheroeshome.files.wordpress.com/2021/08/a9-1.jpg",21039:"https://hallofheroeshome.files.wordpress.com/2021/08/a12-1.jpg",21040:"https://hallofheroeshome.files.wordpress.com/2021/08/a14-1.jpg",21041:"https://hallofheroeshome.files.wordpress.com/2021/08/b1.jpg",21042:"https://hallofheroeshome.files.wordpress.com/2021/08/b2.jpg",21043:"https://hallofheroeshome.files.wordpress.com/2021/08/b3.jpg",21044:"https://hallofheroeshome.files.wordpress.com/2021/08/b4.jpg",21045:"https://hallofheroeshome.files.wordpress.com/2021/08/b5.jpg",21046:"https://hallofheroeshome.files.wordpress.com/2021/08/b6.jpg",21047:"https://hallofheroeshome.files.wordpress.com/2021/08/b7.jpg",21048:"https://hallofheroeshome.files.wordpress.com/2021/08/b8.jpg",21049:"https://hallofheroeshome.files.wordpress.com/2021/08/b9.jpg",21050:"https://hallofheroeshome.files.wordpress.com/2021/08/b10.jpg",21051:"https://hallofheroeshome.files.wordpress.com/2021/08/b11.jpg",21052:"https://hallofheroeshome.files.wordpress.com/2021/08/b12.jpg",21053:"https://hallofheroeshome.files.wordpress.com/2021/08/b13.jpg",21054:"https://hallofheroeshome.files.wordpress.com/2021/08/b14.jpg",21055:"https://hallofheroeshome.files.wordpress.com/2021/08/b15.jpg",21056:"https://hallofheroeshome.files.wordpress.com/2021/08/b16.jpg",21057:"https://hallofheroeshome.files.wordpress.com/2021/08/b17.jpg",21058:"https://hallofheroeshome.files.wordpress.com/2021/08/b18.jpg",21059:"https://hallofheroeshome.files.wordpress.com/2021/08/b19.jpg",21060:"https://hallofheroeshome.files.wordpress.com/2021/08/b20.jpg",21061:"https://hallofheroeshome.files.wordpress.com/2021/08/b21.jpg",21062:"https://hallofheroeshome.files.wordpress.com/2021/08/b22.jpg",21063:"https://hallofheroeshome.files.wordpress.com/2021/08/b23.jpg",21064:"https://hallofheroeshome.files.wordpress.com/2021/08/b24.jpg",21065:"https://hallofheroeshome.files.wordpress.com/2021/08/b25.jpg",21066:"https://hallofheroeshome.files.wordpress.com/2021/08/n0.jpg",21067:"https://hallofheroeshome.files.wordpress.com/2021/08/n1-1.jpg",21068:"https://hallofheroeshome.files.wordpress.com/2021/08/n2-1.jpg",21069:"https://hallofheroeshome.files.wordpress.com/2021/08/n3-1.jpg",21070:"https://hallofheroeshome.files.wordpress.com/2021/08/n5-1.jpg",21071:"https://hallofheroeshome.files.wordpress.com/2021/08/e1.jpg",21072:"https://hallofheroeshome.files.wordpress.com/2021/08/e2.jpg",21073:"https://hallofheroeshome.files.wordpress.com/2021/08/e3.jpg","21074a":"https://hallofheroeshome.files.wordpress.com/2021/08/e4a.jpg","21074b":"https://hallofheroeshome.files.wordpress.com/2021/08/e4b.jpg","21075a":"https://hallofheroeshome.files.wordpress.com/2021/08/e5a.jpg","21075b":"https://hallofheroeshome.files.wordpress.com/2021/08/e5b.jpg",21076:"https://hallofheroeshome.files.wordpress.com/2021/08/e6.jpg",21077:"https://hallofheroeshome.files.wordpress.com/2021/08/e8.jpg",21078:"https://hallofheroeshome.files.wordpress.com/2021/08/e10.jpg",21079:"https://hallofheroeshome.files.wordpress.com/2021/08/e12.jpg",21080:"https://hallofheroeshome.files.wordpress.com/2021/08/e14.jpg",21081:"https://hallofheroeshome.files.wordpress.com/2021/08/e16.jpg",21082:"https://hallofheroeshome.files.wordpress.com/2021/08/e19.jpg",21083:"https://hallofheroeshome.files.wordpress.com/2021/08/e20.jpg",21084:"https://hallofheroeshome.files.wordpress.com/2021/08/e21.jpg",21085:"https://hallofheroeshome.files.wordpress.com/2021/08/b1-1.jpg",21086:"https://hallofheroeshome.files.wordpress.com/2021/08/b2-1.jpg",21087:"https://hallofheroeshome.files.wordpress.com/2021/08/b3-1.jpg",21088:"https://hallofheroeshome.files.wordpress.com/2021/08/b4-1.jpg",21089:"https://hallofheroeshome.files.wordpress.com/2021/08/a1-2.jpg",21090:"https://hallofheroeshome.files.wordpress.com/2021/08/a3-2.jpg",21091:"https://hallofheroeshome.files.wordpress.com/2021/08/a5-2.jpg",21092:"https://hallofheroeshome.files.wordpress.com/2021/08/t1.jpg",21093:"https://hallofheroeshome.files.wordpress.com/2021/08/t2.jpg",21094:"https://hallofheroeshome.files.wordpress.com/2021/08/t3.jpg",21095:"https://hallofheroeshome.files.wordpress.com/2021/08/t4.jpg",21096:"https://hallofheroeshome.files.wordpress.com/2021/08/t5.jpg",21097:"https://hallofheroeshome.files.wordpress.com/2021/08/t6.jpg","21098a":"https://hallofheroeshome.files.wordpress.com/2021/08/t7a.jpg","21098b":"https://hallofheroeshome.files.wordpress.com/2021/08/t7b.jpg","21099a":"https://hallofheroeshome.files.wordpress.com/2021/08/t8a.jpg","21099b":"https://hallofheroeshome.files.wordpress.com/2021/08/t8b.jpg","21100a":"https://hallofheroeshome.files.wordpress.com/2021/08/t9a.jpg","21100b":"https://hallofheroeshome.files.wordpress.com/2021/08/t9b.jpg",21101:"https://hallofheroeshome.files.wordpress.com/2021/08/t10.jpg",21102:"https://hallofheroeshome.files.wordpress.com/2021/08/t11.jpg",21103:"https://hallofheroeshome.files.wordpress.com/2021/08/t15.jpg",21104:"https://hallofheroeshome.files.wordpress.com/2021/08/t16.jpg",21105:"https://hallofheroeshome.files.wordpress.com/2021/08/t17.jpg",21106:"https://hallofheroeshome.files.wordpress.com/2021/08/t19.jpg",21107:"https://hallofheroeshome.files.wordpress.com/2021/08/t21.jpg",21108:"https://hallofheroeshome.files.wordpress.com/2021/08/t23.jpg",21109:"https://hallofheroeshome.files.wordpress.com/2021/08/t24.jpg",21110:"https://hallofheroeshome.files.wordpress.com/2021/08/t26.jpg",21111:"https://hallofheroeshome.files.wordpress.com/2021/08/t1-1.jpg",21112:"https://hallofheroeshome.files.wordpress.com/2021/08/t2-1.jpg",21113:"https://hallofheroeshome.files.wordpress.com/2021/08/t3-1.jpg","21114a":"https://hallofheroeshome.files.wordpress.com/2021/08/t4a.jpg","21114b":"https://hallofheroeshome.files.wordpress.com/2021/08/t4b.jpg","21115a":"https://hallofheroeshome.files.wordpress.com/2021/08/t5a.jpg","21115b":"https://hallofheroeshome.files.wordpress.com/2021/08/t5b.jpg",21116:"https://hallofheroeshome.files.wordpress.com/2021/08/t6-1.jpg",21117:"https://hallofheroeshome.files.wordpress.com/2021/08/t7.jpg",21118:"https://hallofheroeshome.files.wordpress.com/2021/08/t8.jpg",21119:"https://hallofheroeshome.files.wordpress.com/2021/08/t9.jpg",21120:"https://hallofheroeshome.files.wordpress.com/2021/08/t11-1.jpg",21121:"https://hallofheroeshome.files.wordpress.com/2021/08/t13-1.jpg",21122:"https://hallofheroeshome.files.wordpress.com/2021/08/t15-1.jpg",21123:"https://hallofheroeshome.files.wordpress.com/2021/08/t17-1.jpg",21124:"https://hallofheroeshome.files.wordpress.com/2021/08/t19-1.jpg",21125:"https://hallofheroeshome.files.wordpress.com/2021/08/c1.jpg",21126:"https://hallofheroeshome.files.wordpress.com/2021/08/c2-1.jpg",21127:"https://hallofheroeshome.files.wordpress.com/2021/08/c3.jpg",21128:"https://hallofheroeshome.files.wordpress.com/2021/08/c4-1.jpg",21129:"https://hallofheroeshome.files.wordpress.com/2021/08/i1.jpg",21130:"https://hallofheroeshome.files.wordpress.com/2021/08/i2.jpg",21131:"https://hallofheroeshome.files.wordpress.com/2021/08/i3.jpg",21132:"https://hallofheroeshome.files.wordpress.com/2021/08/i4.jpg",21133:"https://hallofheroeshome.files.wordpress.com/2021/08/i5.jpg",21134:"https://hallofheroeshome.files.wordpress.com/2021/08/i6.jpg",21135:"https://hallofheroeshome.files.wordpress.com/2021/08/i7.jpg","21136a":"https://hallofheroeshome.files.wordpress.com/2021/08/h1a.jpg","21136b":"https://hallofheroeshome.files.wordpress.com/2021/08/h1b.jpg","21137a":"https://hallofheroeshome.files.wordpress.com/2021/08/h2a.jpg","21137b":"https://hallofheroeshome.files.wordpress.com/2021/08/h2b.jpg","21138a":"https://hallofheroeshome.files.wordpress.com/2021/08/h3a.jpg","21138b":"https://hallofheroeshome.files.wordpress.com/2021/08/h3b.jpg","21139a":"https://hallofheroeshome.files.wordpress.com/2021/08/h4a.jpg","21139b":"https://hallofheroeshome.files.wordpress.com/2021/08/h4b.jpg",21140:"https://hallofheroeshome.files.wordpress.com/2021/08/h5.jpg",21141:"https://hallofheroeshome.files.wordpress.com/2021/08/h6.jpg",21142:"https://hallofheroeshome.files.wordpress.com/2021/08/h7.jpg",21143:"https://hallofheroeshome.files.wordpress.com/2021/08/h8.jpg",21144:"https://hallofheroeshome.files.wordpress.com/2021/08/h9.jpg",21145:"https://hallofheroeshome.files.wordpress.com/2021/08/h10.jpg",21146:"https://hallofheroeshome.files.wordpress.com/2021/08/h11.jpg",21147:"https://hallofheroeshome.files.wordpress.com/2021/08/h12.jpg",21148:"https://hallofheroeshome.files.wordpress.com/2021/08/h13.jpg",21149:"https://hallofheroeshome.files.wordpress.com/2021/08/h14.jpg",21150:"https://hallofheroeshome.files.wordpress.com/2021/08/h16.jpg",21151:"https://hallofheroeshome.files.wordpress.com/2021/08/h18.jpg",21152:"https://hallofheroeshome.files.wordpress.com/2021/08/l1-1.jpg",21153:"https://hallofheroeshome.files.wordpress.com/2021/08/l3-1.jpg",21154:"https://hallofheroeshome.files.wordpress.com/2021/08/l5-1.jpg",21155:"https://hallofheroeshome.files.wordpress.com/2021/08/l6.jpg",21156:"https://hallofheroeshome.files.wordpress.com/2021/08/f1.jpg",21157:"https://hallofheroeshome.files.wordpress.com/2021/08/f2.jpg",21158:"https://hallofheroeshome.files.wordpress.com/2021/08/f4.jpg",21159:"https://hallofheroeshome.files.wordpress.com/2021/08/f6.jpg",21160:"https://hallofheroeshome.files.wordpress.com/2021/08/l1.jpg",21161:"https://hallofheroeshome.files.wordpress.com/2021/08/l2.jpg",21162:"https://hallofheroeshome.files.wordpress.com/2021/08/l3.jpg",21163:"https://hallofheroeshome.files.wordpress.com/2021/08/l4.jpg",21164:"https://hallofheroeshome.files.wordpress.com/2021/08/l5.jpg","21165a":"https://hallofheroeshome.files.wordpress.com/2021/08/l6a.jpg","21165b":"https://hallofheroeshome.files.wordpress.com/2021/08/l6b.jpg",21166:"https://hallofheroeshome.files.wordpress.com/2021/08/l7.jpg",21167:"https://hallofheroeshome.files.wordpress.com/2021/08/l8.jpg",21168:"https://hallofheroeshome.files.wordpress.com/2021/08/l9.jpg",21169:"https://hallofheroeshome.files.wordpress.com/2021/08/l10.jpg",21170:"https://hallofheroeshome.files.wordpress.com/2021/08/l11.jpg",21171:"https://hallofheroeshome.files.wordpress.com/2021/08/l12.jpg",21172:"https://hallofheroeshome.files.wordpress.com/2021/08/l13.jpg",21173:"https://hallofheroeshome.files.wordpress.com/2021/08/l14.jpg",21174:"https://hallofheroeshome.files.wordpress.com/2021/08/l15.jpg",21175:"https://hallofheroeshome.files.wordpress.com/2021/08/l17.jpg",21176:"https://hallofheroeshome.files.wordpress.com/2021/08/l19.jpg",21177:"https://hallofheroeshome.files.wordpress.com/2021/08/e1-1.jpg",21178:"https://hallofheroeshome.files.wordpress.com/2021/08/e2-1.jpg",21179:"https://hallofheroeshome.files.wordpress.com/2021/08/e4.jpg","21180a":"https://hallofheroeshome.files.wordpress.com/2021/08/c1a.jpg","21180b":"https://hallofheroeshome.files.wordpress.com/2021/08/c1b.jpg",21181:"https://hallofheroeshome.files.wordpress.com/2021/08/c2.jpg","21182a":"https://hallofheroeshome.files.wordpress.com/2021/08/c3a.jpg","21182b":"https://hallofheroeshome.files.wordpress.com/2021/08/c3b.jpg",21183:"https://hallofheroeshome.files.wordpress.com/2021/08/c4.jpg","21184a":"https://hallofheroeshome.files.wordpress.com/2021/08/c8a.jpg","21184b":"https://hallofheroeshome.files.wordpress.com/2021/08/c8b.jpg",21185:"https://hallofheroeshome.files.wordpress.com/2021/08/c9.jpg","21186a":"https://hallofheroeshome.files.wordpress.com/2021/08/c13a.jpg","21186b":"https://hallofheroeshome.files.wordpress.com/2021/08/c13b.jpg","21187a":"https://hallofheroeshome.files.wordpress.com/2021/08/c14a.jpg","21187b":"https://hallofheroeshome.files.wordpress.com/2021/08/c14b.jpg",21188:"https://hallofheroeshome.files.wordpress.com/2021/08/c18.jpg","21189a":"https://hallofheroeshome.files.wordpress.com/2021/08/c19a.jpg","21189b":"https://hallofheroeshome.files.wordpress.com/2021/08/c19b.jpg",21190:"https://hallofheroeshome.files.wordpress.com/2021/08/c20.jpg",21191:"https://hallofheroeshome.files.wordpress.com/2021/08/c21.jpg",21192:"https://hallofheroeshome.files.wordpress.com/2021/08/c22.jpg",21193:"https://hallofheroeshome.files.wordpress.com/2021/08/c23.jpg","22001a":"https://marvelcdb.com/bundles/cards/22001a.png","22001b":"https://marvelcdb.com/bundles/cards/22001b.png",22002:"https://hallofheroeshome.files.wordpress.com/2021/09/n1.jpg",22003:"https://hallofheroeshome.files.wordpress.com/2021/09/n2.jpg",22004:"https://hallofheroeshome.files.wordpress.com/2021/09/n3.jpg",22005:"https://hallofheroeshome.files.wordpress.com/2021/09/n5.jpg",22006:"https://hallofheroeshome.files.wordpress.com/2021/09/n6.jpg",22007:"https://hallofheroeshome.files.wordpress.com/2021/09/n7.jpg",22008:"https://hallofheroeshome.files.wordpress.com/2021/09/n9.jpg",22009:"https://hallofheroeshome.files.wordpress.com/2021/09/n11.jpg",22010:"https://hallofheroeshome.files.wordpress.com/2021/09/n13.jpg",22011:"https://hallofheroeshome.files.wordpress.com/2021/09/a1.jpg",22012:"https://hallofheroeshome.files.wordpress.com/2021/09/a2.jpg",22013:"https://hallofheroeshome.files.wordpress.com/2021/09/a3.jpg",22014:"https://hallofheroeshome.files.wordpress.com/2021/09/a4.jpg",22015:"https://hallofheroeshome.files.wordpress.com/2021/09/a5.jpg",22018:"https://hallofheroeshome.files.wordpress.com/2021/09/a8.jpg",22022:"https://hallofheroeshome.files.wordpress.com/2021/09/a12.jpg",22027:"https://hallofheroeshome.files.wordpress.com/2021/09/e1.jpg",22028:"https://hallofheroeshome.files.wordpress.com/2021/09/e2.jpg",22029:"https://hallofheroeshome.files.wordpress.com/2021/09/e3.jpg",22030:"https://hallofheroeshome.files.wordpress.com/2021/09/e4.jpg",22031:"https://hallofheroeshome.files.wordpress.com/2021/09/e5.jpg",22032:"https://hallofheroeshome.files.wordpress.com/2021/09/e7.jpg",22033:"https://hallofheroeshome.files.wordpress.com/2021/09/e8.jpg",22034:"https://hallofheroeshome.files.wordpress.com/2021/09/e9.jpg",22035:"https://hallofheroeshome.files.wordpress.com/2021/09/e10.jpg"},rr=function(e){Object(zt.a)(t,e);var o=Object(Jt.a)(t);function t(e){var r;Object(Wt.a)(this,t),(r=o.call(this,e)).imgs=void 0,r.unmounted=void 0,r.unmounted=!0,r.imgs={};var a=qe[r.props.currentGameType].modifiers,n={};return a.forEach((function(e){r.imgs[e.attributeId]=new Image,n[e.attributeId]=!1})),r.state={imagesLoaded:n},a.forEach((function(e){r.imgs[e.attributeId].onload=function(){if(!r.unmounted){var o=Lt()(r.state.imagesLoaded);o[e.attributeId]=!0,r.setState({imagesLoaded:o})}}})),a.forEach((function(e){var o;(null===(o=r.props.card)||void 0===o?void 0:o.modifiers[e.attributeId])&&(r.imgs[e.attributeId].src=e.icon)})),r}return Object(Ut.a)(t,[{key:"componentDidUpdate",value:function(e,o){var t=this;qe[this.props.currentGameType].modifiers.forEach((function(o){var r,a;t.state.imagesLoaded[o.attributeId]||(null===(r=e.card)||void 0===r?void 0:r.modifiers[o.attributeId])||!(null===(a=t.props.card)||void 0===a?void 0:a.modifiers[o.attributeId])||(t.imgs[o.attributeId].src=o.icon)}))}},{key:"componentDidMount",value:function(){this.unmounted=!1}},{key:"componentWillUnmount",value:function(){this.unmounted=!0}},{key:"render",value:function(){var e,o=this;if(!this.props.card)return null;if(!(null===(e=this.props.card)||void 0===e?void 0:e.modifiers))return null;var t=qe[this.props.currentGameType].modifiers,a=[];return t.forEach((function(e){var t,n,s,i,d=o.props.isPreview?o.props.x+(o.props.cardWidth||0)/2-36-40:o.props.x+xe/2-18,c=d+36-2,l=o.props.y-Oe/2+10*(e.slot-1)+36*(e.slot-1),h=o.state.imagesLoaded[e.attributeId]&&!!(null===(t=o.props.card)||void 0===t?void 0:t.modifiers[e.attributeId]),u=o.imgs[e.attributeId],p=null===(n=o.props.card)||void 0===n?void 0:n.modifiers[e.attributeId],m=h?Object(r.jsx)(qt.c,{x:d,y:l,scale:{x:36/u.naturalWidth,y:36/u.naturalHeight},width:u.naturalWidth,height:u.naturalHeight,fillPatternImage:u},"".concat(null===(s=o.props.card)||void 0===s?void 0:s.id,"-").concat(e.attributeId,"-modifier-token")):null,f=h?Object(r.jsxs)(qt.a,{x:c,y:l,width:40,height:36,children:[Object(r.jsx)(qt.c,{width:40,height:36,fill:"white"}),Object(r.jsx)(qt.e,{width:40,height:36,text:"".concat(p&&p>0?"+":"").concat(null!==p&&void 0!==p?p:"?"),fill:"black",background:"white",align:"center",verticalAlign:"middle",fontSize:24})]},"".concat(null===(i=o.props.card)||void 0===i?void 0:i.id,"-").concat(e.attributeId,"-modifier-text")):null;m&&a.push(m),f&&a.push(f)})),a}}]),t}(a.Component),ar=Object(d.c)((function(e,o){return{card:vo(e)[o.id]}}),{})(rr),nr=["main_scheme","side_scheme","quest","player_side_quest"],sr=function(e,o){return e.length===o.length&&e.every((function(e,t){return e===o[t]}))},ir=function(e){Object(zt.a)(t,e);var o=Object(Jt.a)(t);function t(e){var a,n,s,i;Object(Wt.a)(this,t),(i=o.call(this,e)).imgs=[],i.stunnedImg=void 0,i.confusedImg=void 0,i.toughImg=void 0,i.unmounted=void 0,i.touchTimer=null,i.rect=null,i.shuffleToggle=!1,i.initCardImages=function(e){i.imgs=e.imgUrls.map((function(){return new Image})),i.imgs.forEach((function(e){return e.onload=function(){i.unmounted||i.setState({imageLoaded:!0})}})),i.imgs.forEach((function(e){return e.onerror=function(){i.unmounted||i.setState({imageLoadFailed:i.state.imageLoadFailed+1})}})),e.imgUrls.forEach((function(e,o){return i.imgs[o].src=e}))},i.getStrokeColor=function(){return i.props.dropTargetColor?i.props.dropTargetColor:i.props.selected?i.props.selectedColor:""},i.renderUnanimatedCard=function(e,o,t){var a,n,s,d=t?i.imgs.find((function(e){return e.complete&&0!==e.naturalHeight})):void 0,c=i.getScale(d,o,e),l={x:o/2,y:e/2},h=Object(r.jsx)(Zt.Spring,{to:{rotation:i.props.exhausted?90:0},children:function(a){return Object(r.jsx)(Zt.animated.Rect,Object(N.a)(Object(N.a)({},a),{},{ref:function(e){e&&(i.rect=e)},cornerRadius:9,x:i.props.x,y:i.props.y,width:o,height:e,offset:l,stroke:i.getStrokeColor(),strokeWidth:i.getStrokeColor()?4:0,fillPatternRotation:!t||i.shouldRenderImageHorizontal(i.props.code,i.props.typeCode||"",nr)?270:0,fillPatternImage:d,fillPatternScaleX:c.width,fillPatternScaleY:c.height,fill:t?void 0:"gray",shadowForStrokeEnabled:!1,hitStrokeWidth:0,opacity:i.props.isGhost?.5:1,draggable:""===i.props.controlledBy||i.props.controlledBy===v,onDragStart:i.handleDragStart,onDragMove:i.handleDragMove,onDragEnd:i.handleDragEnd,onDblClick:i.handleDoubleClick,onDblTap:i.handleDoubleTap,onClick:i.handleClick,onTap:i.handleTap,onMouseDown:i.handleMouseDown,onTouchStart:i.handleTouchStart,onTouchMove:i.handleTouchMove,onTouchEnd:i.handleTouchEnd,onMouseOver:i.handleMouseOver,onMouseOut:i.handleMouseOut,onContextMenu:i.handleContextMenu}))}},"".concat(i.props.id,"-card")),u={x:l.x+4,y:l.y-4},p=(i.props.numCardsInStack||1)>1?Object(r.jsx)(Zt.Spring,{to:{rotation:i.props.exhausted?90:0},children:function(t){return Object(r.jsx)(Zt.animated.Rect,Object(N.a)(Object(N.a)({},t),{},{cornerRadius:[9,9,9,9],x:i.props.x,y:i.props.y,width:o,height:e,offset:u,opacity:i.props.isGhost?.5:1,fill:"gray",shadowForStrokeEnabled:!1,hitStrokeWidth:0}))}},"".concat(i.props.id,"-cardStack")):null,m=!!(null===(a=i.props.cardState)||void 0===a?void 0:a.stunned)&&i.state.tokenImagesLoaded.stunned,f=i.getTokenInSlot(m,i.stunnedImg,l,0),g=i.getTokenInSlot(!!(null===(n=i.props.cardState)||void 0===n?void 0:n.confused)&&i.state.tokenImagesLoaded.confused,i.confusedImg,l,1),j=i.getTokenInSlot(!!(null===(s=i.props.cardState)||void 0===s?void 0:s.tough)&&i.state.tokenImagesLoaded.tough,i.toughImg,l,2),b=i.props.dragging||i.props.isGhost?null:Object(r.jsx)(er,{currentGameType:i.props.currentGameType,id:i.props.id,x:i.props.x,y:i.props.y},"".concat(i.props.id,"-cardTokens")),C=i.props.dragging||i.props.isGhost?null:Object(r.jsx)(ar,{currentGameType:i.props.currentGameType,id:i.props.id,x:i.props.x,y:i.props.y,cardHeight:i.props.height,cardWidth:i.props.width,isPreview:!!i.props.isPreview},"".concat(i.props.id,"-cardModifiers"));return[p,h,i.renderCardName(l,o,e),f,g,j,b,C]},i.handleContextMenu=function(e){i.props.handleContextMenu&&i.props.handleContextMenu(i.props.id,e)},i.handleDoubleClick=function(e){i.props.handleDoubleClick&&i.props.handleDoubleClick(i.props.id,e)},i.handleDoubleTap=function(e){i.props.handleDoubleTap&&i.props.handleDoubleTap(i.props.id,e)},i.handleDragStart=function(e){i.props.handleDragStart&&i.props.handleDragStart(i.props.id,e)},i.handleDragMove=function(e){i.props.handleDragMove&&i.props.handleDragMove({id:i.props.id,dx:e.target.x()-i.props.x,dy:e.target.y()-i.props.y})},i.handleDragEnd=function(){i.props.handleDragEnd&&i.props.dragging&&i.props.handleDragEnd(i.props.id)},i.handleTap=function(e){i.handleTapOrClick(e,!0)},i.handleClick=function(e){i.handleTapOrClick(e,!1)},i.handleTapOrClick=function(e,o){i.props.handleClick&&(i.props.handleClick(i.props.id,e,o),e.cancelBubble=!0)},i.handleMouseDown=function(e){e.cancelBubble=!0},i.handleTouchStart=function(e){e.cancelBubble=!0,i.touchTimer&&(clearTimeout(i.touchTimer),i.touchTimer=null),i.touchTimer=setTimeout((function(){i.handleContextMenu(e)}),750)},i.handleTouchMove=function(e){i.touchTimer&&(clearTimeout(i.touchTimer),i.touchTimer=null)},i.handleTouchEnd=function(e){i.touchTimer&&(clearTimeout(i.touchTimer),i.touchTimer=null)},i.handleMouseOver=function(){i.props.handleHover&&i.props.handleHover(i.props.id)},i.handleMouseOut=function(){i.props.handleHoverLeave&&i.props.handleHoverLeave(i.props.id)},i.unmounted=!0,i.state={imageLoaded:!1,imageLoadFailed:0,prevImgUrls:i.props.imgUrls,tokenImagesLoaded:{stunned:!1,confused:!1,tough:!1}},i.initCardImages(e),i.stunnedImg=new Image,i.confusedImg=new Image,i.toughImg=new Image,i.stunnedImg.onload=function(){i.unmounted||i.setState({tokenImagesLoaded:{stunned:!0,confused:i.state.tokenImagesLoaded.confused,tough:i.state.tokenImagesLoaded.tough}})};var d=qe[e.currentGameType].tokens;return(null===(a=e.cardState)||void 0===a?void 0:a.stunned)&&d.stunned&&(i.stunnedImg.src=d.stunned.imagePath),i.confusedImg.onload=function(){i.unmounted||i.setState({tokenImagesLoaded:{stunned:i.state.tokenImagesLoaded.stunned,confused:!0,tough:i.state.tokenImagesLoaded.tough}})},(null===(n=e.cardState)||void 0===n?void 0:n.confused)&&d.confused&&(i.confusedImg.src=d.confused.imagePath),i.toughImg.onload=function(){i.unmounted||i.setState({tokenImagesLoaded:{stunned:i.state.tokenImagesLoaded.stunned,confused:i.state.tokenImagesLoaded.confused,tough:!0}})},(null===(s=e.cardState)||void 0===s?void 0:s.tough)&&d.tough&&(i.toughImg.src=d.tough.imagePath),i}return Object(Ut.a)(t,null,[{key:"getDerivedStateFromProps",value:function(e,o){var t;return sr(e.imgUrls,null!==(t=o.prevImgUrls)&&void 0!==t?t:[])?null:{imageLoaded:!1,imageLoadFailed:0,prevImgUrls:e.imgUrls,tokenImagesLoaded:{stunned:o.tokenImagesLoaded.stunned,confused:o.tokenImagesLoaded.confused,tough:o.tokenImagesLoaded.tough}}}}]),Object(Ut.a)(t,[{key:"componentDidUpdate",value:function(e,o){var t,r,a,n,s,i;!e.shuffling&&this.props.shuffling&&this.rect&&(this.shuffleToggle=!this.shuffleToggle,this.rect.to({rotation:this.currentRotation+(this.shuffleToggle?360:-360),duration:.2})),this.state.imageLoaded||sr(e.imgUrls,this.props.imgUrls)||(this.setState({imageLoaded:!1,imageLoadFailed:0}),this.initCardImages(this.props));var d=qe[this.props.currentGameType].tokens;!this.state.tokenImagesLoaded.stunned&&!(null===(t=e.cardState)||void 0===t?void 0:t.stunned)&&(null===(r=this.props.cardState)||void 0===r?void 0:r.stunned)&&d.stunned&&(this.stunnedImg.src=d.stunned.imagePath),!this.state.tokenImagesLoaded.confused&&!(null===(a=e.cardState)||void 0===a?void 0:a.confused)&&(null===(n=this.props.cardState)||void 0===n?void 0:n.confused)&&d.confused&&(this.confusedImg.src=d.confused.imagePath),!this.state.tokenImagesLoaded.tough&&!(null===(s=e.cardState)||void 0===s?void 0:s.tough)&&(null===(i=this.props.cardState)||void 0===i?void 0:i.tough)&&d.tough&&(this.toughImg.src=d.tough.imagePath)}},{key:"componentDidMount",value:function(){this.unmounted=!1}},{key:"componentWillUnmount",value:function(){this.unmounted=!0}},{key:"render",value:function(){return this.renderCard(this.state.imageLoaded)}},{key:"renderCard",value:function(e){var o=this.props.height||Oe,t=this.props.width||xe;return this.renderUnanimatedCard(o,t,e)}},{key:"renderCardName",value:function(e,o,t){var a={x:e.x-10,y:e.y-20};return this.state.imageLoadFailed===this.props.imgUrls.length&&0!==this.state.imageLoadFailed?Object(r.jsx)(qt.e,{offset:a,x:this.props.x,y:this.props.y,width:o-10,height:t-20,fontSize:24,text:"".concat(this.props.name," ").concat(this.props.code),draggable:""===this.props.controlledBy||this.props.controlledBy===v,onDragStart:this.handleDragStart,onDragMove:this.handleDragMove,onDragEnd:this.handleDragEnd,onDblClick:this.handleDoubleClick,onDblTap:this.handleDoubleClick,onClick:this.handleClick,onTap:this.handleClick,onMouseDown:this.handleMouseDown,onTouchStart:this.handleMouseDown,onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onContextMenu:this.handleContextMenu},"".concat(this.props.id,"-cardnametext")):null}},{key:"getTokenInSlot",value:function(e,o,t,a){var n={width:o.naturalWidth/2,height:o.naturalHeight/2},s={x:t.x-xe+n.width/2,y:t.y-n.height*a-5*(a+1)-10};return e?Object(r.jsx)(qt.c,{native:!0,cornerRadius:8,x:this.props.x,y:this.props.y,width:n.width,height:n.height,fillPatternScaleX:.5,fillPatternScaleY:.5,offset:s,fillPatternImage:o},"".concat(this.props.id,"-status").concat(a)):null}},{key:"shouldRenderImageHorizontal",value:function(e,o,t){return t.includes(o.toLocaleLowerCase())&&!this.plainCardBack&&!or[e]}},{key:"getScale",value:function(e,o,t){var r=e?o/e.naturalWidth:o,a=e?t/e.naturalWidth:o,n=e?t/e.naturalHeight:t,s=e?o/e.naturalHeight:t;return this.shouldRenderImageHorizontal(this.props.code,this.props.typeCode||"",nr)?{width:a,height:s}:{width:r,height:n}}},{key:"plainCardBack",get:function(){return this.props.imgUrls.some((function(e){return e.includes("standard")}))&&this.props.imgUrls.some((function(e){return e.includes("_back")}))}},{key:"currentRotation",get:function(){return this.props.exhausted?90:0}}]),t}(a.Component),dr=t(312),cr=t(303),lr=t(315),hr=t(311),ur=t(317),pr=t(173),mr=t.n(pr),fr=(t(258),t(314)),gr=function(e){Object(zt.a)(t,e);var o=Object(Jt.a)(t);function t(e){var a;return Object(Wt.a)(this,t),(a=o.call(this,e)).cardsDataInStack=[],a.renderTouchList=function(){return Object(r.jsx)("div",{className:"card-picker-select",children:Object(r.jsxs)(cr.a,{className:"select",children:[Object(r.jsx)(fr.a,{id:"game-picker-label",children:"Select Card..."}),Object(r.jsx)(dr.a,{id:"touch-cardstack-list",onChange:function(e){if(e.target.value){var o=e.target.value||"";a.handleSelected(e,a.props.cardsDataEntities[o])}},variant:"outlined",children:a.cardsDataInStack.map((function(e,o){return Object(r.jsx)(lr.a,{value:e.code,children:Object(r.jsxs)("div",{className:"card-picker-row",children:[Object(r.jsx)("div",{children:e.name}),Object(r.jsx)("div",{onClick:function(o){o.stopPropagation(),o.preventDefault(),a.props.preview(e.code)},className:"mobile-only",children:Object(r.jsx)(mr.a,{})})]})},"select-item-card-".concat(e.code,"-").concat(o))}))})]})})},a.renderAutocomplete=function(){return Object(r.jsx)(hr.a,{id:"cardstack-card-selector-combobox",options:a.cardsDataInStack,getOptionLabel:function(e){return e.name||"Unknown Card Name"},style:{width:300},onChange:a.handleSelected,onHighlightChange:a.handleHighlightChange,renderInput:function(e){return Object(r.jsx)(ur.a,Object(N.a)(Object(N.a)({},e),{},{label:"Find Card...",variant:"outlined"}))}})},a.handleHighlightChange=function(e,o,t){o?a.props.preview(o.code):a.props.clearPreview()},a.handleSelected=function(e,o){a.props.clearPreview(),o&&a.props.cardSelected&&a.props.cardSelected(o.code)},a.cancelBubble=function(e){e.stopPropagation()},a.cardsDataInStack=e.card.cardStack.map((function(e){return a.props.cardsDataEntities[e.jsonId]})),a}return Object(Ut.a)(t,[{key:"componentWillUnmount",value:function(){this.props.clearPreview()}},{key:"render",value:function(){return Object(r.jsx)("div",{onClick:this.cancelBubble,onKeyPress:this.cancelBubble,children:this.props.touchBased?this.renderTouchList():this.renderAutocomplete()})}}]),t}(a.Component),jr=Object(d.c)((function(e){return{cardsDataEntities:$e(e)}}),{preview:q,clearPreview:Z})(gr),br=t(185),vr=t(186),Cr=function(e){var o=n.a.useRef(null);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(lr.a,{onClick:function(e){if(null===o||void 0===o?void 0:o.current){var t=document.createEvent("MouseEvents");t.initEvent("click",!0,!1),o.current.dispatchEvent(t)}e.stopPropagation()},children:e.label}),Object(r.jsx)("input",{type:"file",ref:o,onChange:function(o){if(o.target.files&&o.target.files.length>0){var t=o.target.files[0];e.handleFile(t)}},style:{display:"none"}})]})},yr=function(e){Object(zt.a)(t,e);var o=Object(Jt.a)(t);function t(e){var a;return Object(Wt.a)(this,t),(a=o.call(this,e)).nestedRef=void 0,a.renderMenuItem=function(e,o){return e.children?Object(r.jsx)(vr.a,{ref:function(e){a.nestedRef=e},parentMenuOpen:a.state.menuOpen,label:e.label,onClick:function(e){a.nestedRef&&(e.stopPropagation(),a.nestedRef.parentElement.focus())},children:e.children.map((function(e,t){return a.renderMenuItem(e,1e3*o+t)}))},"contextMenu-item-".concat(o)):e.fileUploader?Object(r.jsx)(Cr,{label:e.label,handleFile:function(o){var t=new FileReader;t.readAsText(o,"UTF-8"),t.onload=function(o){var t,r=null===(t=o.target)||void 0===t?void 0:t.result;e.fileLoadedAction&&e.fileLoadedAction(r),a.props.hideContextMenu()}}},"contextMenu-item-".concat(o)):Object(r.jsx)(lr.a,{onClick:a.handleContextItemClicked(e),children:e.label},"contextMenu-item-".concat(o))},a.handleMenuClosed=function(){a.setState({menuOpen:!1}),a.props.hideContextMenu()},a.preventDefault=function(e){e.preventDefault()},a.handleContextItemClicked=function(e){return function(o){var t;e.action&&e.action("touch"===(null===o||void 0===o||null===(t=o.nativeEvent)||void 0===t?void 0:t.pointerType));a.props.contextItemClicked&&a.props.contextItemClicked(a.props.items[0]),e.action&&(a.nestedRef&&a.nestedRef.blur(),a.props.hideContextMenu())}},a.state={menuOpen:!0},a}return Object(Ut.a)(t,[{key:"render",value:function(){var e=this;return Object(r.jsx)("div",{id:"context-menu-layer",onContextMenu:this.preventDefault,onClick:function(o){var t;(null===(t=o.target)||void 0===t?void 0:t.files)||e.props.hideContextMenu()},children:Object(r.jsx)(br.a,{keepMounted:!0,open:this.state.menuOpen,onClose:this.handleMenuClosed,anchorReference:this.props.anchorEl?"anchorEl":"anchorPosition",anchorEl:this.props.anchorEl,anchorPosition:this.props.position?{top:this.props.position.y+8,left:this.props.position.x+8}:void 0,children:this.props.items.map((function(o,t){return e.renderMenuItem(o,t)}))})})}}]),t}(a.Component),Tr=function(e){Object(zt.a)(t,e);var o=Object(Jt.a)(t);function t(){var e;Object(Wt.a)(this,t);for(var r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return(e=o.call.apply(o,[this].concat(a))).touchTimer=null,e.cancelBubble=function(e){e.cancelBubble=!0},e.handleDecrement=function(){e.props.updateCounterValueBy(-1)},e.handleIncrement=function(){e.props.updateCounterValueBy(1)},e.handleTouchStart=function(o){o.cancelBubble=!0,e.touchTimer&&(clearTimeout(e.touchTimer),e.touchTimer=null),e.touchTimer=setTimeout((function(){e.props.handleContextMenu(o)}),750)},e.handleTouchMove=function(o){e.touchTimer&&(clearTimeout(e.touchTimer),e.touchTimer=null)},e.handleTouchEnd=function(o){e.touchTimer&&(clearTimeout(e.touchTimer),e.touchTimer=null)},e}return Object(Ut.a)(t,[{key:"render",value:function(){return Object(r.jsxs)(qt.a,{x:this.props.pos.x,y:this.props.pos.y,draggable:!0,onClick:this.cancelBubble,onContextMenu:this.props.handleContextMenu,onDragEnd:this.props.onDragEnd,onTouchStart:this.handleTouchStart,onMouseDown:this.cancelBubble,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd,children:[Object(r.jsx)(qt.c,{cornerRadius:30,width:200,height:100,fill:this.props.color}),Object(r.jsx)(qt.e,{width:200,height:100,fontSize:36,text:"".concat(this.props.value),align:"center",verticalAlign:"middle"}),Object(r.jsx)(qt.e,{x:10,y:25,width:50,height:50,fontSize:36,text:"-",align:"center",verticalAlign:"middle",onClick:this.handleDecrement,onTap:this.handleDecrement}),Object(r.jsx)(qt.e,{x:140,y:25,width:50,height:50,fontSize:36,text:"+",align:"center",verticalAlign:"middle",onClick:this.handleIncrement,onTap:this.handleIncrement})]})}}]),t}(a.Component),wr=function(e){Object(zt.a)(t,e);var o=Object(Jt.a)(t);function t(){var e;Object(Wt.a)(this,t);for(var r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return(e=o.call.apply(o,[this].concat(a))).inputValue="",e.focusInputField=function(e){e&&setTimeout((function(){e.querySelector("input").focus()}),100)},e.cancelBubble=function(e){e.stopPropagation()},e.handleKeyPress=function(o){"enter"===o.key.toLocaleLowerCase()&&e.props.loadDeckId(+e.inputValue)},e}return Object(Ut.a)(t,[{key:"render",value:function(){var e=this;return Object(r.jsxs)("div",{onClick:this.cancelBubble,onKeyPress:this.cancelBubble,className:"token-field-row",children:[Object(r.jsx)(ur.a,{ref:this.focusInputField,onKeyPress:this.handleKeyPress,onClick:this.cancelBubble,onChange:function(o){e.inputValue=o.target.value},type:"number",variant:"outlined"})," "]})}}]),t}(a.Component),Sr=function(e){Object(zt.a)(t,e);var o=Object(Jt.a)(t);function t(){var e;Object(Wt.a)(this,t);for(var r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return(e=o.call.apply(o,[this].concat(a))).handleSelected=function(o,t){if(t){var r=[],a=[],n=t.cards.filter((function(e){return!t.cards.some((function(o){return o.backLink===e.code}))}));n.filter((function(e){return"quest"===e.typeCode.toLocaleLowerCase()})).forEach((function(e){r=r.concat(Array.from({length:e.quantity}).map((function(o){return e.code})))})),n.filter((function(e){return"quest"!==e.typeCode.toLocaleLowerCase()})).forEach((function(e){a=a.concat(Array.from({length:e.quantity}).map((function(o){return e.code})))}));var s=[a];r.length>0&&(s=[r].concat(s)),e.props.loadCards(s)}},e.cancelBubble=function(e){e.stopPropagation()},e}return Object(Ut.a)(t,[{key:"render",value:function(){var e=this;return Object(r.jsx)("div",{onClick:this.cancelBubble,onKeyPress:this.cancelBubble,children:Object(r.jsx)(hr.a,{id:"encounter-loader-combobox",options:this.props.encounterData||[],getOptionLabel:function(e){return e.setData.name},style:{width:300},onChange:this.handleSelected,renderInput:function(o){return Object(r.jsx)(ur.a,Object(N.a)(Object(N.a)({},o),{},{label:qe[e.props.currentGameType].encounterUiName,variant:"outlined"}))}})})}}]),t}(a.Component),kr=Object(d.c)((function(e,o){return{encounterData:o.currentGameType===h.LordOfTheRingsLivingCardGame?so(e):io(e)}}),{})(Sr),Or=function(e){Object(zt.a)(t,e);var o=Object(Jt.a)(t);function t(e){var r;return Object(Wt.a)(this,t),(r=o.call(this,e)).cancelBubble=function(e){e.cancelBubble=!0},r.handleDragEnd=function(e){r.props.updatePos({x:e.target.x(),y:e.target.y()})},r.state={img:null},r}return Object(Ut.a)(t,[{key:"componentDidMount",value:function(){var e=this,o=new Image;o.onload=function(){e.setState({img:o})},o.src="/images/table/first_player_token_"+this.props.currentGameType+".png"}},{key:"render",value:function(){var e,o,t,a,n,s,i,d,c;return Object(r.jsx)(qt.c,{x:this.props.pos.x,y:this.props.pos.y,draggable:!0,onTouchStart:this.cancelBubble,onMouseDown:this.cancelBubble,onDragEnd:this.handleDragEnd,scale:{x:160/(null!==(e=null===(o=this.state.img)||void 0===o?void 0:o.naturalWidth)&&void 0!==e?e:1),y:160/(null!==(t=null===(a=this.state.img)||void 0===a?void 0:a.naturalWidth)&&void 0!==t?t:1)},width:null!==(n=null===(s=this.state.img)||void 0===s?void 0:s.naturalWidth)&&void 0!==n?n:0,height:null!==(i=null===(d=this.state.img)||void 0===d?void 0:d.naturalHeight)&&void 0!==i?i:0,fillPatternImage:null!==(c=this.state.img)&&void 0!==c?c:void 0})}}]),t}(a.Component),xr=function(e){return e.liveState.present.counters},_r=Object(Ze.a)(xr,(function(e){return e.counters})),Pr=Object(Ze.a)(xr,(function(e){return e.firstPlayerCounterPosition})),Ir=Object(d.c)((function(e){return{pos:Pr(e)}}),{updatePos:_t})(Or),Mr=(t(260),function(e){Object(zt.a)(t,e);var o=Object(Jt.a)(t);function t(){var e;Object(Wt.a)(this,t);for(var r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return(e=o.call.apply(o,[this].concat(a))).inputRef=null,e.connect=function(o){var t,r;console.log("connecting with peer id "+(null===(t=e.inputRef)||void 0===t?void 0:t.value)),e.props.connect((null===(r=e.inputRef)||void 0===r?void 0:r.value)||"")},e.cancelBubble=function(e){e.stopPropagation()},e}return Object(Ut.a)(t,[{key:"render",value:function(){var e=this;return Object(r.jsxs)("div",{onClick:this.cancelBubble,onKeyPress:this.cancelBubble,children:[Object(r.jsx)("input",{ref:function(o){o&&(e.inputRef=o)}}),Object(r.jsx)("button",{onClick:this.connect,children:"Connect"})]})}}]),t}(a.Component)),Dr=t(30),Nr=t(92),Rr=(t(261),t(262),function(e){Object(zt.a)(t,e);var o=Object(Jt.a)(t);function t(){var e;Object(Wt.a)(this,t);for(var r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return(e=o.call.apply(o,[this].concat(a))).handleClick=function(o){o.stopPropagation(),e.props.completed()},e.preventDefault=function(e){e.preventDefault()},e}return Object(Ut.a)(t,[{key:"render",value:function(){var e=this.props.offsetContent?8:0,o={top:"".concat(this.props.position.y+e,"px"),left:"".concat(this.props.position.x+e,"px")};return this.props.trasparentBackground||(o.backgroundColor="white"),Object(r.jsx)("div",{id:"top-layer",onClick:this.props.completed,onContextMenu:this.preventDefault,children:Object(r.jsx)("div",{className:"top-layer-content-wrapper",style:o,onContextMenu:this.preventDefault,onClick:this.handleClick,children:this.props.children})})}}]),t}(a.Component)),Er=function(e,o){return o.length>0&&o.some((function(o){return o.statusTokens[e]}))},Ar=function(e){return e.filter((function(e){return e.selected&&e.controlledBy===v}))},Lr=function(e,o){var t,r;if(!e)return"https://lcgcdn.s3.amazonaws.com/mc/NOPE.jpg";var a=e.code;!o&&e.backLink&&(a=e.backLink);for(var n=null!==(t=Ge[null!==(r=e.extraInfo.packCode)&&void 0!==r?r:""])&&void 0!==t?t:a.substring(0,2),s=a.substring(2);"0"===s[0];)s=s.substring(1);s=s.toLocaleUpperCase();var i="";return e.doubleSided&&(i=o?"A":"B"),"https://lcgcdn.s3.amazonaws.com/mc/MC".concat(n,"en_").concat(s).concat(i,".jpg")},Fr=function(e,o,t){if(0===Object.keys(o).length)return[];var r=[],a=o[e.cardStack[0].jsonId];if(!a)return[];var n=a;if(n.images)return e.faceup?[n.images.front]:n.images.back?[n.images.back]:["encounter"===a.extraInfo.factionCode||"side_scheme"===a.typeCode?"/images/standard/encounter_card_back_"+t+".png":"/images/standard/card_back_"+t+".png"];e.faceup||a.backLink||a.doubleSided?r=[Lr(a,e.faceup)]:(n=null,r=["encounter"===a.extraInfo.factionCode||"side_scheme"===a.typeCode?"/images/standard/encounter_card_back_"+t+".png":"/images/standard/card_back_"+t+".png"]);var s="";n&&(e.faceup?s=n.code:n.backLink?s=n.backLink:n.doubleSided&&(s="".concat(n.code,"_double_sided_back")));var i=n?function(e){var o;return null!==(o=tr[e])&&void 0!==o?o:null}(s):null;return i&&r.unshift(i),r},Br=t(110),Hr=t.n(Br),Gr=t(307),Qr=function(e,o){return e.dropAnimation&&"droppable-while-dragging"===e.draggingOver?Object(N.a)(Object(N.a)({},o),{},{visibility:"hidden"}):Object(N.a)({userSelect:"none",margin:"0 ".concat(8,"px 0 0")},o)};!function(e){e[e.NotLoaded=0]="NotLoaded",e[e.Loading=1]="Loading",e[e.LoadingFailed=2]="LoadingFailed",e[e.Loaded=3]="Loaded"}(Qt||(Qt={}));var Wr,Ur,zr=function(e){Object(zt.a)(t,e);var o=Object(Jt.a)(t);function t(e){var r;return Object(Wt.a)(this,t),(r=o.call(this,e)).state={modal:!1,imgUrlToStatusMap:{},showMenu:!1,anchorEl:void 0},r.onDragEnd=r.onDragEnd.bind(Object(Dr.a)(r)),r.onDragStart=r.onDragStart.bind(Object(Dr.a)(r)),r}return Object(Ut.a)(t,[{key:"onDragStart",value:function(){this.props.startDraggingCardFromHand()}},{key:"onDragEnd",value:function(e,o){var t;if(e.destination){if((null===(t=e.destination)||void 0===t?void 0:t.droppableId)!==e.source.droppableId){var r,a;this.props.removeFromPlayerHand({playerNumber:this.props.playerNumber,index:e.source.index});var n=(null!==(r=null===(a=this.props.playerHandData)||void 0===a?void 0:a.cards)&&void 0!==r?r:[])[e.source.index];this.props.droppedOnTable(n.jsonId)}else this.props.reorderPlayerHand({playerNumber:this.props.playerNumber,sourceIndex:e.source.index,destinationIndex:e.destination.index});this.props.stopDraggingCardFromHand()}else this.props.stopDraggingCardFromHand()}},{key:"render",value:function(){var e,o,t=this,a=null!==(e=null===(o=this.props.playerHandData)||void 0===o?void 0:o.cards)&&void 0!==e?e:[];return Object(r.jsxs)("div",{children:[this.renderTopLayer(),this.state.showMenu&&Object(r.jsx)(yr,{anchorEl:this.state.anchorEl,items:[{label:"Drop random card",action:function(e){if(a.length>0){var o=Math.floor(Math.random()*a.length),r=a[o];t.props.removeFromPlayerHand({playerNumber:t.props.playerNumber,index:o});var n=e?{x:100,y:100}:void 0;t.props.droppedOnTable(r.jsonId,n)}}}],hideContextMenu:function(){t.setState({anchorEl:void 0,showMenu:!1})}}),Object(r.jsxs)(Nr.a,{onDragEnd:this.onDragEnd,onBeforeCapture:this.onDragStart,children:[Object(r.jsx)(Nr.c,{droppableId:"droppable",direction:"horizontal",children:function(e,o){return Object(r.jsxs)("div",Object(N.a)(Object(N.a)({onClick:t.props.clearPreviewCardJsonId,ref:e.innerRef,style:(n=o.isDraggingOver,{background:n?"lightblue":"lightgrey",display:"flex",alignItems:"flex-start",padding:8,overflowX:"auto",overflowY:"hidden",position:"absolute",bottom:"0px",width:"100vw",height:"70px",zIndex:99,boxSizing:"border-box"})},e.droppableProps),{},{children:[Object(r.jsx)(Gr.a,{onClick:function(e){t.setState({showMenu:!0,anchorEl:e.nativeEvent.target})},className:"options-menu-button",children:Object(r.jsx)(Hr.a,{fontSize:"large"})}),a.map((function(e,o){return Object(r.jsx)(Nr.b,{draggableId:"player-hand-".concat(t.props.playerNumber,"-").concat(o),index:o,children:function(o,a){return Object(r.jsx)("div",Object(N.a)(Object(N.a)(Object(N.a)({onPointerEnter:function(o){"mouse"===o.pointerType&&t.props.setPreviewCardJsonId(e.jsonId)},onPointerLeave:t.props.clearPreviewCardJsonId,onClick:function(o){"touch"===o.nativeEvent.pointerType&&(t.setState({modal:!0}),t.props.setPreviewCardJsonId(e.jsonId),o.stopPropagation())},className:"player-hand-card",ref:o.innerRef},o.draggableProps),o.dragHandleProps),{},{style:Qr(a,o.draggableProps.style),children:t.renderCardContents(e)}))}},"player-hand-".concat(t.props.playerNumber,"-").concat(o))})),e.placeholder]}));var n}}),this.renderDroppableIfDragging()]})]})}},{key:"renderTopLayer",value:function(){var e=this;return this.state.modal?Object(r.jsx)(Rr,{position:{x:0,y:0},completed:function(){e.props.clearPreviewCardJsonId(),e.setState({modal:!1})}}):null}},{key:"renderCardContents",value:function(e){var o,t,a=this,n=Fr((t=e.jsonId,{controlledBy:v,dragging:!1,shuffling:!1,exhausted:!1,faceup:!0,fill:"anything",id:"fake-id",selected:!1,x:0,y:0,cardStack:[{jsonId:t}],statusTokens:{stunned:!1,confused:!1,tough:!1},counterTokens:{damage:0,threat:0,generic:0},modifiers:{}}),this.props.cardData,null!==(o=this.props.currentGameType)&&void 0!==o?o:h.MarvelChampions),s=n.map((function(e){return{url:e,status:a.state.imgUrlToStatusMap[e]}})).filter((function(e){return e.status===Qt.Loaded})),i=s.length>0?s[0].url:null;return n.map((function(o,t){return Object(r.jsx)("img",{className:o!==i?"hide-img":"show-img",onLoad:function(){a.setState({imgUrlToStatusMap:Object(N.a)(Object(N.a)({},a.state.imgUrlToStatusMap),{},Object(Nt.a)({},o,Qt.Loaded))})},onError:function(){a.setState({imgUrlToStatusMap:Object(N.a)(Object(N.a)({},a.state.imgUrlToStatusMap),{},Object(Nt.a)({},o,Qt.LoadingFailed))})},alt:"card",src:o},"card-".concat(e.jsonId,"-img-").concat(t))}))}},{key:"renderDroppableIfDragging",value:function(){var e=this;return Object(r.jsx)(Nr.c,{droppableId:"droppable-while-dragging",direction:"horizontal",children:function(o,t){return Object(r.jsx)("div",Object(N.a)(Object(N.a)({className:"card-dropzone",ref:o.innerRef,style:(t.isDraggingOver,a=e.props.dragging,{background:"rgb(0,0,0,0)",display:a?"flex":"none",padding:8,overflow:"auto",position:"absolute",top:"0px",height:"",width:"100vw",boxSizing:"border-box",zIndex:100})},o.droppableProps),{},{children:o.placeholder}));var a}})}}]),t}(a.Component),Jr=Object(d.c)((function(e,o){return Object(N.a)({playerHandData:(t=o.playerNumber,Object(Ze.a)(bo,(function(e){var o=t-1;return o>=0&&o<e.length?e[o]:null})))(e),cardData:$e(e),currentGameType:co(e).activeGameType,dragging:co(e).draggingCardFromHand},o);var t}),{reorderPlayerHand:mt,removeFromPlayerHand:ft,setPreviewCardJsonId:q,clearPreviewCardJsonId:Z,startDraggingCardFromHand:D,stopDraggingCardFromHand:re})(zr),Vr=t(263),Kr=Vr.default,qr=Vr.Slice;!function(e){e.TopLevelActions="toplevelactions",e.StatusTokenActions="statustokenactions",e.CounterTokenActions="countertokenactions",e.ModifierActions="modifieractions",e.DrawActions="drawactions",e.DrawNumber="drawnumber",e.ModifierNumber="modifiernumber"}(Wr||(Wr={})),function(e){e.FaceUp="faceup",e.FaceDown="facedown"}(Ur||(Ur={}));var Zr,Yr=function(e,o,t,r,a,n,s){var i=null,d=null;switch(e){case Wr.StatusTokenActions:i=ea(s),d=Wr.TopLevelActions;break;case Wr.CounterTokenActions:i=oa(s),d=Wr.TopLevelActions;break;case Wr.DrawActions:i=ta(s,o,r),d=Wr.TopLevelActions;break;case Wr.DrawNumber:i=ra(s,t),d=Wr.DrawActions;break;case Wr.ModifierActions:i=aa(s,o,n),d=Wr.TopLevelActions;break;case Wr.ModifierNumber:i=na(s,a),d=Wr.ModifierActions;break;case Wr.TopLevelActions:default:i=$r(s,o)}return d&&(i=Xr(i,d,o)),i},Xr=function(e,o,t){return e?[Object(r.jsx)(qr,{onSelect:function(){t(o)},children:"Back"},"back-slice")].concat(e):null},$r=function(e,o){if(!e.currentGameType)return null;var t=qe[e.currentGameType].modifiers,a=[Object(r.jsx)(qr,{onSelect:function(){e.flipCards()},children:Object(r.jsx)("div",{children:Object(r.jsx)("div",{children:"Flip"})})},"flip-slice"),Object(r.jsx)(qr,{onSelect:function(){e.deleteCardStack()},children:Object(r.jsx)("div",{children:Object(r.jsx)("div",{children:"Delete"})})},"delete-slice"),Object(r.jsx)(qr,{onSelect:function(){e.exhaustCard()},children:Object(r.jsx)("div",{children:Object(r.jsx)("div",{children:"Exhaust"})})},"exhaust-slice"),Object(r.jsx)(qr,{onSelect:function(){e.shuffleStack()},children:Object(r.jsx)("div",{children:Object(r.jsx)("div",{children:"Shuffle"})})},"shuffle-slice"),Object(r.jsx)(qr,{onSelect:function(){o(Wr.StatusTokenActions)},children:Object(r.jsx)("div",{children:"Statuses"})},"statuses-slice"),Object(r.jsx)(qr,{onSelect:function(){o(Wr.CounterTokenActions)},children:Object(r.jsx)("div",{children:"Tokens"})},"tokens-slice"),Object(r.jsx)(qr,{onSelect:function(){e.clearCardTokens()},children:Object(r.jsx)("div",{children:"Clear"})},"clear-slice"),Object(r.jsx)(qr,{onSelect:function(){o(Wr.DrawActions)},children:Object(r.jsx)("div",{children:"Draw"})},"draw-menu-slice")];return t.length>0&&a.push(Object(r.jsx)(qr,{onSelect:function(){o(Wr.ModifierActions)},children:Object(r.jsx)("div",{children:"Modifiers"})},"modifiers-menu-slice")),a},ea=function(e){if(!e.currentGameType)return[Object(r.jsx)(qr,{}),Object(r.jsx)(qr,{}),Object(r.jsx)(qr,{})];for(var o=Object.values(qe[e.currentGameType].tokens).filter((function(e){return!!e&&!e.isNumeric})).map((function(o){var t="touch-menu-slice-".concat(o.menuText.replace(/\s/g,"").toLocaleLowerCase());return Object(r.jsx)(qr,{onSelect:function(){e.toggleToken({tokenType:o.tokenType,value:!Er(o.tokenType,e.selectedCardStacks)})},children:Object(r.jsxs)("div",{children:[o.touchMenuIcon?o.touchMenuIcon:null,Object(r.jsx)("div",{children:o.menuText})]})},t)}));o.length<3;)o=o.concat([Object(r.jsx)(qr,{},"extra-slice-".concat(Math.random()))]);return o},oa=function(e){if(!e.currentGameType)return[Object(r.jsx)(qr,{}),Object(r.jsx)(qr,{}),Object(r.jsx)(qr,{})];for(var o=Object.values(qe[e.currentGameType].tokens).filter((function(e){return!!e&&e.isNumeric})).flatMap((function(e){return[Object(N.a)(Object(N.a)({},e),{},{touchMenuLetter:"".concat(e.touchMenuLetter," +")}),Object(N.a)(Object(N.a)({},e),{},{touchMenuLetter:"".concat(e.touchMenuLetter," -")})]})).map((function(o){var t,a="touch-menu-slice-".concat(o.menuText.replace(/\s/g,"").toLocaleLowerCase());return a+=-1!==(null===(t=o.touchMenuLetter)||void 0===t?void 0:t.indexOf("+"))?"-plus":"",Object(r.jsx)(qr,{onSelect:function(){var t;e.adjustCounterToken({tokenType:o.counterTokenType,delta:-1!==(null===(t=o.touchMenuLetter)||void 0===t?void 0:t.indexOf("+"))?1:-1})},children:Object(r.jsxs)("div",{children:[o.touchMenuIcon?o.touchMenuIcon:null,Object(r.jsx)("div",{children:o.touchMenuLetter})]})},a)}));o.length<3;)o=o.concat([Object(r.jsx)(qr,{},"extra-slice-".concat(Math.random()))]);return o},ta=function(e,o,t){return[Object(r.jsx)(qr,{onSelect:function(){1===e.selectedCardStacks.length&&(e.showCardSelector(e.selectedCardStacks[0],!1),e.hideRadialMenu())},children:"Find Card"},"find-card-slice"),Object(r.jsx)(qr,{onSelect:function(){1===e.selectedCardStacks.length&&(e.showCardSelector(e.selectedCardStacks[0],!0),e.hideRadialMenu())},children:"Select Card"},"Select-cards-slice"),Object(r.jsx)(qr,{onSelect:function(){1===e.selectedCardStacks.length&&e.drawCardsOutOfCardStack({cardStackId:e.selectedCardStacks[0].id,numberToDraw:1,facedown:!1})},children:"1 faceup"},"draw-one-faceup-slice"),Object(r.jsx)(qr,{onSelect:function(){1===e.selectedCardStacks.length&&e.drawCardsOutOfCardStack({cardStackId:e.selectedCardStacks[0].id,numberToDraw:1,facedown:!0})},children:"1 facedown"},"draw-one-facedown-slice"),Object(r.jsx)(qr,{onSelect:function(){t(Ur.FaceUp),o(Wr.DrawNumber)},children:"X faceup"},"draw-x-faceup-slice"),Object(r.jsx)(qr,{onSelect:function(){t(Ur.FaceDown),o(Wr.DrawNumber)},children:"X facedown"},"draw-x-facedown-slice"),Object(r.jsx)(qr,{onSelect:function(){e.addToPlayerHand({playerNumber:e.playerNumber})},children:"All to hand"},"add-to-hand-slice")].filter((function(o){return!(o.key&&o.key.toString().includes("facedown")&&e.drawCardsIntoHand)}))},ra=function(e,o){return Array.from({length:10},(function(e,o){return o+1})).map((function(t){return Object(r.jsx)(qr,{onSelect:function(){1===e.selectedCardStacks.length&&e.drawCardsOutOfCardStack({cardStackId:e.selectedCardStacks[0].id,numberToDraw:t,facedown:o===Ur.FaceDown})},children:t},"draw-".concat(t,"-cards-slice"))}))},aa=function(e,o,t){return e.currentGameType?qe[e.currentGameType].modifiers.map((function(e){return Object(r.jsx)(qr,{onSelect:function(){t(e.attributeId),o(Wr.ModifierNumber)},children:e.attributeName},"modifier-slice")})):null},na=function(e,o){return[Object(r.jsx)(qr,{onSelect:function(){e.adjustModifier({modifierId:o,delta:1})},children:"Add 1"},"modifier-plus-one-slice"),Object(r.jsx)(qr,{onSelect:function(){e.adjustModifier({modifierId:o,delta:-1})},children:"Remove 1"},"modifier-minus-one-slice"),Object(r.jsx)(qr,{onSelect:function(){e.adjustModifier({modifierId:o,value:0})},children:"0"},"modifier-zero-slice")].concat(Array.from({length:3},(function(e,o){return o+1})).map((function(t){return Object(r.jsx)(qr,{onSelect:function(){e.adjustModifier({modifierId:o,value:t})},children:t},"modifier-pos-".concat(t,"-cards-slice"))}))).concat(Array.from({length:3},(function(e,o){return o+1})).map((function(t){return Object(r.jsx)(qr,{onSelect:function(){e.adjustModifier({modifierId:o,value:-1*t})},children:-1*t},"modifier-neg-".concat(t,"-cards-slice"))})))},sa=function(e){var o=Object(a.useState)(Wr.TopLevelActions),t=Object(T.a)(o,2),n=t[0],s=t[1],i=Object(a.useState)(Ur.FaceDown),d=Object(T.a)(i,2),c=d[0],l=d[1],h=Object(a.useState)(""),u=Object(T.a)(h,2),p=u[0],m=u[1];return e.position||n===Wr.TopLevelActions||s(Wr.TopLevelActions),e.position?Object(r.jsx)(Rr,{trasparentBackground:!0,offsetContent:!1,position:{x:Math.max(e.position.x-128,0),y:Math.max(e.position.y-128,0)},completed:function(){e.hideRadialMenu()},children:Object(r.jsx)("div",{onClick:function(e){e.stopPropagation(),e.preventDefault()},children:Object(r.jsx)(Kr,{radius:"156px",centerRadius:"30px",children:Yr(n,s,c,l,p,m,e)})})}):null};t(38),t(267);!function(e){e.Normal="normal",e.LeftFan="leftfan",e.RightFan="rightfan",e.TopFan="topfan",e.BottomFan="bottomfan",e.LowerRightFan="lowerrightfan",e.LowerLeftFan="lowerleftfan",e.UpperRightFan="upperrightfan",e.UpperLeftFan="upperleftfan"}(Zr||(Zr={}));var ia;!function(e){e.FaceUp="faceup",e.FaceDown="facedown"}(ia||(ia={}));var da=Object(d.c)((function(e){return{selectedCardStacks:(o=v,Object(Ze.a)(jo,(function(e){return e.cards.filter((function(e){return e.selected&&e.controlledBy===o}))})))(e),currentGameType:co(e).activeGameType,position:mo(e),playerNumber:co(e).playerNumbers[v],drawCardsIntoHand:co(e).drawCardsIntoHand};var o}),{flipCards:dt,exhaustCard:$o,deleteCardStack:et,toggleToken:ct,shuffleStack:wo,adjustCounterToken:lt,hideRadialMenu:ee,clearCardTokens:ht,drawCardsOutOfCardStack:So,adjustModifier:ut,addToPlayerHand:gt})(sa),ca=function(e){return function(o,t,r){t?e.preview(t.code):e.clearPreview()}},la=function(e){return function(o,t){e.clearPreview()}},ha=function(e){return e.position?Object(r.jsx)(Rr,{trasparentBackground:!1,offsetContent:!1,position:e.position,completed:function(){e.hideSpecificCardLoader()},children:Object(r.jsx)("div",{onClick:function(e){e.stopPropagation(),e.preventDefault()},children:Object(r.jsx)(hr.a,{id:"specific-card-loader-combobox",options:e.heroData,getOptionLabel:function(e){return e.name},style:{width:300},onChange:la(e),onHighlightChange:ca(e),renderInput:function(e){return Object(r.jsx)(ur.a,Object(N.a)(Object(N.a)({},e),{},{label:"Find Specific Card",variant:"outlined"}))}})})}):null},ua=Object(d.c)((function(e){return{position:fo(e),heroData:oo(e)}}),{hideSpecificCardLoader:te,preview:q,clearPreview:Z})(ha),pa=t(308),ma=function(e){Object(zt.a)(t,e);var o=Object(Jt.a)(t);function t(){var e;Object(Wt.a)(this,t);for(var r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return(e=o.call.apply(o,[this].concat(a))).inputValue="0",e.focusInputField=function(e){e&&setTimeout((function(){e.querySelector("input").focus()}),100)},e.handleKeyPress=function(o){"enter"===o.key.toLocaleLowerCase()&&e.complete(+e.inputValue)},e.handleClick=function(o){e.complete(+e.inputValue)},e.complete=function(o){e.props.updated({id:e.props.id,tokenType:e.props.tokenType,value:o})},e.cancelBubble=function(e){e.stopPropagation()},e}return Object(Ut.a)(t,[{key:"render",value:function(){var e=this;return Object(r.jsxs)("div",{onClick:this.cancelBubble,onKeyPress:this.cancelBubble,className:"token-field-row",children:[Object(r.jsx)(ur.a,{ref:this.focusInputField,onKeyPress:this.handleKeyPress,variant:"outlined",type:"number",onChange:function(o){e.inputValue=o.target.value}}),Object(r.jsx)(pa.a,{onClick:this.handleClick,style:{height:"56px",marginLeft:"5px"},variant:"outlined",color:"primary",children:"Set"})]})}}]),t}(a.Component),fa=(t(268),t(179)),ga=t.n(fa),ja=t(181),ba=t.n(ja),va=t(182),Ca=t.n(va),ya=t(183),Ta=t.n(ya),wa=t(184),Sa=t.n(wa),ka=t(180),Oa=t.n(ka),xa=t(112),_a=t.n(xa),Pa=t(309),Ia=function(e){Object(zt.a)(t,e);var o=Object(Jt.a)(t);function t(){return Object(Wt.a)(this,t),o.apply(this,arguments)}return Object(Ut.a)(t,[{key:"render",value:function(){var e=this;return Object(r.jsxs)("div",{className:"options-menu",children:[Object(r.jsx)(Gr.a,{className:"render-touch-only",onClick:function(){e.props.showContextMenuAtPosition({x:0,y:0})},children:Object(r.jsx)(Hr.a,{fontSize:"large"})}),Object(r.jsx)(Pa.a,{title:"Toggle Pan Mode",children:Object(r.jsx)(Gr.a,{className:_a()({"toggle-on":this.props.panMode}),onClick:function(){e.props.togglePanMode()},children:Object(r.jsx)(ga.a,{fontSize:"large"})})}),Object(r.jsx)(Pa.a,{title:"Toggle Draw Cards into Hand",children:Object(r.jsx)(Gr.a,{className:_a()({"toggle-on":this.props.drawCardsIntoHand}),onClick:function(){e.props.toggleDrawCardsIntoHand()},children:Object(r.jsx)(Oa.a,{fontSize:"large"})})}),Object(r.jsx)(Gr.a,{className:_a()("render-touch-only",{"toggle-on":this.props.multiselectMode}),onClick:function(){e.props.toggleMultiselectMode()},children:Object(r.jsx)(ba.a,{fontSize:"large"})}),Object(r.jsx)(Gr.a,{className:"render-touch-only",onClick:function(){e.props.anyCardsSelected&&e.props.showRadialMenuAtPosition({x:64,y:window.visualViewport.height/2})},children:Object(r.jsx)(Ca.a,{fontSize:"large"})}),Object(r.jsx)(Pa.a,{title:"Undo",children:Object(r.jsx)(Gr.a,{onClick:function(){e.props.undo&&e.props.undo()},children:Object(r.jsx)(Ta.a,{fontSize:"large"})})}),Object(r.jsx)(Pa.a,{title:"Redo",children:Object(r.jsx)(Gr.a,{onClick:function(){e.props.redo&&e.props.redo()},children:Object(r.jsx)(Sa.a,{fontSize:"large"})})})]})}}]),t}(a.Component),Ma=Object(d.c)((function(e){return{anyCardsSelected:(o=v,Object(Ze.a)(jo,(function(e){return e.cards.some((function(e){return e.selected&&e.controlledBy===o}))})))(e),currentGameType:co(e).activeGameType,panMode:Co(e),multiselectMode:yo(e),drawCardsIntoHand:co(e).drawCardsIntoHand};var o}),{togglePanMode:st,toggleMultiselectMode:it,flipCards:dt,exhaustCard:$o,toggleToken:ct,shuffleStack:wo,adjustCounterToken:lt,showRadialMenuAtPosition:$,undo:g.ActionCreators.undo,redo:g.ActionCreators.redo,toggleDrawCardsIntoHand:ae})(Ia),Da=function(e){navigator.clipboard.writeText(e)},Na=function(e){Object(zt.a)(t,e);var o=Object(Jt.a)(t);function t(e){var a;return Object(Wt.a)(this,t),(a=o.call(this,e)).stage=null,a.touchTimer=null,a.doubleTapTimer=null,a.lastCenter=null,a.lastDist=0,a.lastMousePos={x:0,y:0},a.captureLastMousePos=!0,a.componentWillUnmount=function(){window.removeEventListener("resize",a.handleResize)},a.handleCounterValueUpdate=function(e){return function(o){a.props.updateCounterValue({id:e,delta:o})}},a.handleCounterDrag=function(e){return function(o){a.props.moveCounter({id:e,newPos:{x:o.target.x(),y:o.target.y()}})}},a.noOp=function(){},a.renderEmptyMessage=function(){return a.props.cards.cards.length>0?null:Object(r.jsx)("div",{children:Object(r.jsxs)("span",{children:["Right click and select 'Load Deck ID' to load a deck from"," ",qe[a.props.currentGameType].deckSite]})})},a.renderContextMenu=function(){var e;if(!a.state.showContextMenu)return null;var o=null===(e=a.stage)||void 0===e?void 0:e.container().getBoundingClientRect(),t=a.state.contextMenuPosition;if(!o||!t)throw new Error("Problem computing context menu position");return Object(r.jsx)(yr,{position:{x:o.left+t.x,y:o.top+t.y},items:a.state.contextMenuItems,hideContextMenu:function(){return a.clearContextMenu()}})},a.renderPreviewCardModal=function(){return a.state.previewCardModal?Object(r.jsx)(Rr,{position:{x:0,y:0},completed:function(){a.props.clearPreviewCard(),a.setState({previewCardModal:!1})}}):null},a.renderOptionsMenu=function(){return Object(r.jsx)(Ma,{showContextMenuAtPosition:function(e){a.handleContextMenu(void 0,e)}})},a.renderDeckImporter=function(){var e;if(!a.state.showDeckImporter)return null;var o=null===(e=a.stage)||void 0===e?void 0:e.container().getBoundingClientRect(),t=a.state.deckImporterPosition;if(!o||!t)throw new Error("Problem computing deck importer position");return Object(r.jsx)(Rr,{position:{x:o.left+t.x,y:o.top+t.y},completed:a.clearDeckImporter,children:Object(r.jsx)(wr,{loadDeckId:a.handleImportDeck(a.getRelativePositionFromTarget(a.stage))})})},a.renderEncounterImporter=function(){var e;if(!a.state.showEncounterImporter)return null;var o=null===(e=a.stage)||void 0===e?void 0:e.container().getBoundingClientRect(),t=a.state.encounterImporterPosition;if(!o||!t)throw new Error("Problem computing deck importer position");var n={x:o.left+t.x,y:o.top+t.y};return Object(r.jsx)(Rr,{position:n,completed:a.clearEncounterImporter,children:Object(r.jsx)(kr,{currentGameType:a.props.currentGameType,loadCards:a.handleLoadEncounter(a.getRelativePositionFromTarget(a.stage))})})},a.renderCardSearch=function(){var e;if(!a.state.showCardSearch)return null;var o=null===(e=a.stage)||void 0===e?void 0:e.container().getBoundingClientRect(),t=a.state.cardSearchPosition;if(!o||!t)throw new Error("Problem computing card search position");var n={x:o.left+t.x,y:o.top+t.y};return a.state.cardStackForSearching?Object(r.jsx)(Rr,{position:n,completed:a.clearCardSearch,children:Object(r.jsx)(jr,{touchBased:a.state.cardSearchTouchBased,card:a.state.cardStackForSearching,cardSelected:a.handleCardSelectedFromCardStack(a.state.cardStackForSearching.id,n)})}):null},a.renderPeerConnector=function(){var e;if(!a.state.showPeerConnector)return null;var o=null===(e=a.stage)||void 0===e?void 0:e.container().getBoundingClientRect(),t=a.state.peerConnectorPosition;if(!o||!t)throw new Error("Problem computing peer connector position");var n={x:o.left+t.x,y:o.top+t.y};return a.state.showPeerConnector?Object(r.jsx)(Rr,{position:n,completed:a.clearPeerConnector,children:Object(r.jsx)(Mr,{connect:a.handlePeerConnect})}):null},a.renderTokenModifier=function(){var e;if(!a.state.showTokenValueModifier)return null;var o=null===(e=a.stage)||void 0===e?void 0:e.container().getBoundingClientRect(),t=a.state.tokenValueModifierPosition;if(!o||!t)throw new Error("Problem computing token Modifier position");var n={x:o.left+t.x,y:o.top+t.y};return a.state.showTokenValueModifier&&a.state.tokenValueModifierProps?Object(r.jsx)(Rr,{position:n,completed:a.clearTokenValueModifier,children:Object(r.jsx)(ma,{id:a.state.tokenValueModifierProps.id,tokenType:a.state.tokenValueModifierProps.tokenType,updated:function(e){a.props.adjustCounterToken(e),a.clearTokenValueModifier()}})}):null},a.handleLoadEncounter=function(e){return function(o){a.clearEncounterImporter(),o.forEach((function(o,t){a.props.addCardStack({position:{x:e.x+(xe+10)*t,y:e.y},cardJsonIds:o})}))}},a.handleImportDeck=function(e){return function(o){a.clearDeckImporter(),a.props.fetchDecklistById({gameType:a.props.currentGameType,decklistId:o,position:e})}},a.handlePeerConnect=function(e){a.clearPeerConnector(),a.props.connectToRemoteGame(e)},a.handleCardSelectedFromCardStack=function(e,o){return function(t){a.clearCardSearch(),a.props.pullCardOutOfCardStack({cardStackId:e,jsonId:t,pos:o})}},a.clearContextMenu=function(){a.setState({showContextMenu:!1,contextMenuPosition:null,contextMenuItems:[]})},a.clearDeckImporter=function(){a.setState({showDeckImporter:!1,deckImporterPosition:null})},a.clearTokenValueModifier=function(){a.setState({showTokenValueModifier:!1,tokenValueModifierProps:null,tokenValueModifierPosition:null})},a.clearEncounterImporter=function(){a.setState({showEncounterImporter:!1,encounterImporterPosition:null})},a.clearCardSearch=function(){a.setState({showCardSearch:!1,cardSearchTouchBased:!1,cardSearchPosition:null,cardStackForSearching:null})},a.clearPeerConnector=function(){a.setState({showPeerConnector:!1,peerConnectorPosition:null})},a.handleStageClickOrTap=function(e){if(!a.state.showContextMenu){var o=a.getRelativePositionFromTarget(a.stage);(a.props.panMode||Re(a.state.selectStartPos,o)<30)&&a.props.unselectAllCards()}},a.handleWheel=function(e){var o;if(e.evt.preventDefault(),a.stage){var t=a.props.gameState.stageZoom.x,r=null!==(o=a.stage.getPointerPosition())&&void 0!==o?o:{x:0,y:0},n=(r.x-a.stage.x())/t,s=(r.y-a.stage.y())/t,i=e.evt.deltaY<0?1.02*t:t/1.02;a.props.updateZoom({x:i,y:i});var d={x:r.x-n*i,y:r.y-s*i};a.props.updatePosition(d)}},a.handleCounterContextMenu=function(e){return function(o){var t,r;o.evt.preventDefault(),o.cancelBubble=!0;var n=a.props.counters.find((function(o){return o.id===e})),s=[{label:"Remove",action:function(){a.props.removeCounter(e)}},{label:"Reset",action:function(){var o;a.props.updateCounterValue({id:e,delta:-1*(null!==(o=null===n||void 0===n?void 0:n.value)&&void 0!==o?o:0)})}},{label:"Set Color",children:y.map((function(o){return{label:o,action:function(){a.props.updateCounterColor({id:e,newColor:o})}}}))}];a.setState({showContextMenu:!0,contextMenuPosition:null!==(t=null===(r=a.stage)||void 0===r?void 0:r.getPointerPosition())&&void 0!==t?t:null,contextMenuItems:s})}},a.handleCardContextMenu=function(e,o){var t,r,n;o.evt.preventDefault(),o.cancelBubble=!0;var s=a.props.cards.cards.find((function(o){return o.id===e}));a.props.selectCard({id:e,unselectOtherCards:!s||!s.selected});var i=a.props.cards.cards.find((function(o){return o.id===e})),d=(null===i||void 0===i||null===(t=i.cardStack)||void 0===t?void 0:t.length)||0,c=Ar(a.props.cards.cards),l=[{label:"Add all to hand",action:function(){a.props.addToPlayerHand({playerNumber:a.props.gameState.playerNumbers[v]})}},{label:"Flip",action:function(){a.props.flipCards()}}];d>1&&(l.push({label:"Shuffle",action:function(){a.props.shuffleStack()}}),l.push({label:"Find Specific Card",action:function(){var e,o;i&&a.setState({showCardSearch:!0,cardSearchPosition:null!==(e=null===(o=a.stage)||void 0===o?void 0:o.getPointerPosition())&&void 0!==e?e:null,cardStackForSearching:i})}})),l.push({label:"Delete",action:function(){a.props.deleteCardStack()}}),l.push({label:"Save Deck as json file",action:function(){a.props.saveDeckAsJson(i)}});var h=qe[a.props.currentGameType].tokens;h.stunned&&l.push({label:Er(A.Stunned,c)?h.stunned.menuRemoveText:h.stunned.menuText,action:function(){a.props.toggleToken({id:(null===i||void 0===i?void 0:i.id)||"",tokenType:A.Stunned,value:!Er(A.Stunned,c)})}}),h.confused&&l.push({label:Er(A.Confused,c)?h.confused.menuRemoveText:h.confused.menuText,action:function(){a.props.toggleToken({id:(null===i||void 0===i?void 0:i.id)||"",tokenType:A.Confused,value:!Er(A.Confused,c)})}}),h.tough&&l.push({label:Er(A.Tough,c)?h.tough.menuRemoveText:h.tough.menuText,action:function(){a.props.toggleToken({id:(null===i||void 0===i?void 0:i.id)||"",tokenType:A.Tough,value:!Er(A.Tough,c)})}}),h.damage&&l.push({label:h.damage.menuText,action:function(){var e,o;a.setState({showContextMenu:!1,contextMenuItems:[],contextMenuPosition:null,showTokenValueModifier:!0,tokenValueModifierProps:{id:(null===i||void 0===i?void 0:i.id)||"",tokenType:L.Damage},tokenValueModifierPosition:null!==(e=null===(o=a.stage)||void 0===o?void 0:o.getPointerPosition())&&void 0!==e?e:null})}}),h.threat&&l.push({label:h.threat.menuText,action:function(){var e,o;a.setState({showContextMenu:!1,contextMenuItems:[],contextMenuPosition:null,showTokenValueModifier:!0,tokenValueModifierProps:{id:(null===i||void 0===i?void 0:i.id)||"",tokenType:L.Threat},tokenValueModifierPosition:null!==(e=null===(o=a.stage)||void 0===o?void 0:o.getPointerPosition())&&void 0!==e?e:null})}}),h.generic&&l.push({label:h.generic.menuText,action:function(){var e,o;a.setState({showContextMenu:!1,contextMenuItems:[],contextMenuPosition:null,showTokenValueModifier:!0,tokenValueModifierProps:{id:(null===i||void 0===i?void 0:i.id)||"",tokenType:L.Generic},tokenValueModifierPosition:null!==(e=null===(o=a.stage)||void 0===o?void 0:o.getPointerPosition())&&void 0!==e?e:null})}}),l.push({label:"Remove All Tokens",action:function(){a.props.adjustCounterToken({id:(null===i||void 0===i?void 0:i.id)||"",tokenType:L.Damage,value:0}),a.props.adjustCounterToken({id:(null===i||void 0===i?void 0:i.id)||"",tokenType:L.Threat,value:0}),a.props.adjustCounterToken({id:(null===i||void 0===i?void 0:i.id)||"",tokenType:L.Generic,value:0})}});var u=qe[a.props.currentGameType].modifiers;u.length>0&&l.push({label:"Modifiers",children:u.map((function(e){return{label:e.attributeName,children:[{label:"Add 1",action:function(){a.props.adjustModifier({id:(null===i||void 0===i?void 0:i.id)||"",modifierId:e.attributeId,delta:1})}},{label:"Remove 1",action:function(){a.props.adjustModifier({id:(null===i||void 0===i?void 0:i.id)||"",modifierId:e.attributeId,delta:-1})}},{label:"-3",action:function(){a.props.adjustModifier({id:(null===i||void 0===i?void 0:i.id)||"",modifierId:e.attributeId,value:-3})}},{label:"-2",action:function(){a.props.adjustModifier({id:(null===i||void 0===i?void 0:i.id)||"",modifierId:e.attributeId,value:-2})}},{label:"-1",action:function(){a.props.adjustModifier({id:(null===i||void 0===i?void 0:i.id)||"",modifierId:e.attributeId,value:-1})}},{label:"0",action:function(){a.props.adjustModifier({id:(null===i||void 0===i?void 0:i.id)||"",modifierId:e.attributeId,value:0})}},{label:"1",action:function(){a.props.adjustModifier({id:(null===i||void 0===i?void 0:i.id)||"",modifierId:e.attributeId,value:1})}},{label:"2",action:function(){a.props.adjustModifier({id:(null===i||void 0===i?void 0:i.id)||"",modifierId:e.attributeId,value:2})}},{label:"3",action:function(){a.props.adjustModifier({id:(null===i||void 0===i?void 0:i.id)||"",modifierId:e.attributeId,value:3})}}]}})).concat([{label:"Clear all modifiers",action:function(){a.props.clearAllModifiers({id:(null===i||void 0===i?void 0:i.id)||""})}}])}),a.setState({showContextMenu:!0,contextMenuPosition:null!==(r=null===(n=a.stage)||void 0===n?void 0:n.getPointerPosition())&&void 0!==r?r:null,contextMenuItems:l})},a.handleCardClick=function(e){return function(o,t,r){var n=t.evt.shiftKey||t.evt.metaKey||t.evt.ctrlKey;e.selected&&(n||a.props.multiselectMode)?a.props.toggleSelectCard(o):(a.props.selectCard({id:o,unselectOtherCards:!n&&!a.props.multiselectMode}),!r||n||a.props.multiselectMode||a.doubleTapTimer||a.state.showContextMenu||(a.doubleTapTimer=setTimeout((function(){var e;a.props.showRadialMenuAtPosition((null===(e=a.stage)||void 0===e?void 0:e.getPointerPosition())||{x:0,y:0}),a.doubleTapTimer=null}),200)))}},a.handleSelectAndExhaust=function(e,o){var t=o.evt.shiftKey||o.evt.metaKey||o.evt.ctrlKey;a.props.selectCard({id:e,unselectOtherCards:!t}),a.props.exhaustCard(e)},a.showOrToggleModalPreviewCard=function(e,o){a.doubleTapTimer&&(clearTimeout(a.doubleTapTimer),a.doubleTapTimer=null),a.props.gameState.previewCard&&a.props.gameState.previewCard.id===e?a.props.clearPreviewCard():(a.setState({previewCardModal:!0}),a.props.setPreviewCardId(e))},a.handleCardDragStart=function(e,o){var t=!1;if(!(a.props.cards.cards.filter((function(e){return e.selected&&e.controlledBy===v})).length>1)){var r=a.props.cards.cards.find((function(o){return o.id===e})),n=((null===r||void 0===r?void 0:r.cardStack)||[]).length>1;if(r&&n){var s={x:r.x+(r.exhausted?Oe:xe)/2,y:r.y-(r.exhausted?xe:Oe)/2};Re(s,a.getRelativePositionFromTarget(a.stage))<(o.evt instanceof TouchEvent?Me:Ie)&&(t=!0)}}a.props.startCardMove({id:e,splitTopCard:t})},a.handleKeyPress=function(e){var o=e.ctrlKey||e.metaKey,t=e.key.toLocaleLowerCase(),r=parseInt(t);if("p"===t)a.props.togglePanMode();else if("f"===t)a.props.flipCards();else if("e"===t)a.props.exhaustCard();else if("s"===t)a.props.shuffleStack();else if(!Number.isNaN(r))if(o);else{var n=Ar(a.props.cards.cards);1!==n.length?console.log("will not be drawing any cards because the number of selected stacks is "+n.length):a.props.drawCardsOutOfCardStack({cardStackId:n[0].id,numberToDraw:r})}},a.handleKeyDown=function(e){var o=e.key.toLocaleLowerCase(),t=parseInt(o);if((e.ctrlKey||e.metaKey)&&!Number.isNaN(t)){var r=qe[a.props.currentGameType].tokens;switch(t){case 1:r.damage&&a.props.adjustCounterToken({tokenType:L.Damage,delta:1});break;case 2:r.threat&&a.props.adjustCounterToken({tokenType:L.Threat,delta:1});break;case 3:r.generic&&a.props.adjustCounterToken({tokenType:L.Generic,delta:1});break;case 4:r.damage&&a.props.adjustCounterToken({tokenType:L.Damage,delta:-1});break;case 5:r.threat&&a.props.adjustCounterToken({tokenType:L.Threat,delta:-1});break;case 6:r.generic&&a.props.adjustCounterToken({tokenType:L.Generic,delta:-1})}e.preventDefault()}e.shiftKey&&(e.ctrlKey||e.metaKey)&&"z"===e.key?a.props.redo():(e.ctrlKey||e.metaKey)&&"z"===e.key&&(e.preventDefault(),a.props.undo())},a.getRawPreviewCardPosition=function(e){var o,t,r=null!==(o=null===(t=a.stage)||void 0===t?void 0:t.getPointerPosition())&&void 0!==o?o:{x:0,y:0},n=window.innerWidth/2,s=window.innerHeight/2,i=e?_e:Pe,d=e?Pe:_e;return a.state.previewCardModal?{x:n,y:s}:r.x<n?{x:window.innerWidth-i/2,y:d/2}:{x:i/2,y:d/2}},a.getRelativePositionFromTarget=function(e,o){var t=e.getAbsoluteTransform().copy();t.invert();var r=o||e.getPointerPosition();return t.point(null!==r&&void 0!==r?r:{x:20,y:20})},a.handleMouseDown=function(e){if(e.evt instanceof MouseEvent&&0===e.evt.button||e.evt instanceof TouchEvent){var o=a.getRelativePositionFromTarget(a.stage);a.setState({selectStartPos:{x:o.x,y:o.y},selecting:!0})}return!1},a.getSelectionRectInfo=function(){var e=a.state.selectStartPos,o=a.state.selectRect;return{height:Math.abs(o.height),width:Math.abs(o.width),x:o.width<0?e.x+o.width:e.x,y:o.height<0?e.y+o.height:e.y}},a.handleMouseUp=function(e){if(a.state.drewASelectionRect){var o=a.getSelectionRectInfo(),t=a.props.cards.cards.reduce((function(e,t){return Vt.boxBox(o.x,o.y,o.width,o.height,t.x-50,t.y-75,xe,Oe)&&e.push(t),e}),[]),r=e.evt.shiftKey||e.evt.metaKey||e.evt.ctrlKey;a.props.selectMultipleCards({ids:t.map((function(e){return e.id})),unselectOtherCards:!r})}return a.setState({drewASelectionRect:!1,selectRect:{height:0,width:0},selecting:!1}),!1},a.handleTouchStart=function(e){a.touchTimer&&(clearTimeout(a.touchTimer),a.touchTimer=null),a.touchTimer=setTimeout((function(){a.handleContextMenu(e)}),750),a.props.panMode||a.handleMouseDown(e)},a.handleTouchMove=function(e){e.evt.preventDefault();var o=e.evt.touches[0],t=e.evt.touches[1];a.touchTimer&&(clearTimeout(a.touchTimer),a.touchTimer=null),o&&t?a.handleMultiTouch(o,t):a.handleMouseMove(e)},a.handleMultiTouch=function(e,o){if(a.stage){a.stage.isDragging()&&a.stage.stopDrag();var t={x:e.clientX,y:e.clientY},r={x:o.clientX,y:o.clientY};if(a.lastCenter){var n=Ee(t,r),s=Re(t,r);a.lastDist||(a.lastDist=s);var i=(n.x-a.stage.x())/a.props.gameState.stageZoom.x,d=(n.y-a.stage.y())/a.props.gameState.stageZoom.y,c=a.props.gameState.stageZoom.x*(s/a.lastDist);a.props.updateZoom({x:c,y:c});var l=n.x-a.lastCenter.x,h=n.y-a.lastCenter.y,u={x:n.x-i*c+l,y:n.y-d*c+h};a.props.updatePosition(u),a.lastDist=s,a.lastCenter=n}else a.lastCenter=Ee(t,r)}},a.handleTouchEnd=function(e){a.lastDist=0,a.lastCenter=null,a.touchTimer&&(clearTimeout(a.touchTimer),a.touchTimer=null),a.props.panMode||a.handleMouseUp(e)},a.handleMouseMove=function(e){if(a.state.selecting){var o=a.getRelativePositionFromTarget(e.currentTarget);a.setState({drewASelectionRect:!0,selectRect:{height:o.y-a.state.selectStartPos.y,width:o.x-a.state.selectStartPos.x}})}e.cancelBubble=!0},a.handleContextMenu=function(e,o){var t,r;a.touchTimer&&(clearTimeout(a.touchTimer),a.touchTimer=null),e&&(e.evt.preventDefault(),e.cancelBubble=!0);var n=[{label:"Undo",action:a.props.undo},{label:"Redo",action:a.props.redo},{label:"Load Deck by ID",action:function(){var e,o;a.setState({showDeckImporter:!0,deckImporterPosition:null!==(e=null===(o=a.stage)||void 0===o?void 0:o.getPointerPosition())&&void 0!==e?e:{x:0,y:0}})}},{label:"Load Deck from json file",fileLoadedAction:function(e){var o,t;a.props.createDeckFromJson({gameType:a.props.currentGameType,position:null!==(o=null===(t=a.stage)||void 0===t?void 0:t.getPointerPosition())&&void 0!==o?o:{x:0,y:0},jsonContents:e})},fileUploader:!0},{label:"Load ".concat(qe[a.props.currentGameType].encounterUiName),action:function(){var e,o;a.setState({showEncounterImporter:!0,encounterImporterPosition:null!==(e=null===(o=a.stage)||void 0===o?void 0:o.getPointerPosition())&&void 0!==e?e:null})}},{label:"Load Specific Card",action:function(){var e;a.props.showSpecificCardLoader((null===(e=a.stage)||void 0===e?void 0:e.getPointerPosition())||{x:0,y:0})}},{label:"Create new counter",action:function(){var e;a.props.addNewCounter(null!==(e=a.getRelativePositionFromTarget(a.stage))&&void 0!==e?e:{x:0,y:0})}},{label:"Reset Game",action:a.props.resetApp},{label:"Quit Game",action:function(){a.props.quitGame(),a.props.resetApp()}},{label:"Connect to Remote Game",action:function(){var e,o;a.setState({showPeerConnector:!0,peerConnectorPosition:null!==(e=null===(o=a.stage)||void 0===o?void 0:o.getPointerPosition())&&void 0!==e?e:null})}},{label:"Request resync from Remote Game",action:a.props.requestResync},{label:"Peer id is ".concat(a.props.peerId),action:function(){var e;a.props.peerId&&Da((e=a.props.peerId,"".concat(window.location.origin).concat(window.location.pathname,"?remote=").concat(e)))}},{label:"Copy game state as url",action:function(){a.props.generateGameStateUrl()}},{label:"Version 269",action:function(){}}];a.setState({showContextMenu:!0,contextMenuPosition:null!==(t=null!==o&&void 0!==o?o:null===(r=a.stage)||void 0===r?void 0:r.getPointerPosition())&&void 0!==t?t:null,contextMenuItems:n})},a.getCardType=function(e){var o,t,r;if(0===Object.keys(a.props.cardsData).length)return"";var n=a.props.cardsData[e.cardStack[0].jsonId];return n&&(r=n,!e.faceup&&n.backLink&&(r=a.props.cardsData[n.backLink])),(null!==(o=null===(t=r)||void 0===t?void 0:t.typeCode)&&void 0!==o?o:"").toLocaleLowerCase()},a.getCardName=function(e){var o,t,r=e.faceup?e.cardStack[0]:e.cardStack[e.cardStack.length-1];return null!==(o=null===(t=a.props.cardsData[r.jsonId])||void 0===t?void 0:t.name)&&void 0!==o?o:""},a.getCardCode=function(e){var o,t,r,n=e.faceup?e.cardStack[0]:e.cardStack[e.cardStack.length-1];n||console.error("Could not get card in question for stack:",e);var s=null!==(o=null===n||void 0===n?void 0:n.jsonId)&&void 0!==o?o:"missing-id";return null!==(t=null===(r=a.props.cardsData[s])||void 0===r?void 0:r.code)&&void 0!==t?t:"code missing for ".concat(s)},a.handleResize=function(){a.setState({stageHeight:window.innerHeight,stageWidth:window.innerWidth})},Kt.a&&(Kt.a.hitOnDragEnabled=!0),a.state={drewASelectionRect:!1,selectRect:{height:0,width:0},selectStartPos:{x:0,y:0},selecting:!1,showContextMenu:!1,contextMenuPosition:null,contextMenuItems:[],showDeckImporter:!1,deckImporterPosition:null,showEncounterImporter:!1,encounterImporterPosition:null,showCardSearch:!1,cardSearchTouchBased:!1,cardSearchPosition:null,cardStackForSearching:null,showPeerConnector:!1,peerConnectorPosition:null,showTokenValueModifier:!1,tokenValueModifierProps:null,tokenValueModifierPosition:null,playmatImage:null,playmatImageLoaded:!1,previewCardModal:!1,stageWidth:window.innerWidth,stageHeight:window.innerHeight},a}return Object(Ut.a)(t,[{key:"componentDidMount",value:function(){var e=this,o=new Image;o.onload=function(){e.setState({playmatImage:o,playmatImageLoaded:!0})},o.onerror=function(e){console.error(e)},o.src=qe[this.props.currentGameType].backgroundImageLocation,this.props.loadCardsData(),this.props.allJsonData(""),window.addEventListener("resize",this.handleResize)}},{key:"render",value:function(){var e,o,t,a=this;document.activeElement===document.body&&setTimeout((function(){var e=document.querySelector(".play-area");null===e||void 0===e||e.focus()}),0);var n=this.props.cards.cards.filter((function(e){return!e.dragging})).map((function(e){var o,t,n;return Object(r.jsx)(ir,{currentGameType:a.props.currentGameType,code:a.getCardCode(e),name:a.getCardName(e),selectedColor:null!==(o=a.props.playerColors[e.controlledBy])&&void 0!==o?o:"black",controlledBy:e.controlledBy,id:e.id,x:e.x,y:e.y,exhausted:e.exhausted,fill:e.fill,selected:e.selected,dropTargetColor:null!==(t=a.props.playerColors[null===(n=a.props.dropTargetCardsById[e.id])||void 0===n?void 0:n.ownerRef])&&void 0!==t?t:"",dragging:e.dragging,shuffling:e.shuffling,handleDragStart:a.handleCardDragStart,handleDragMove:a.props.cardMove,handleDragEnd:a.props.endCardMove,handleDoubleClick:a.handleSelectAndExhaust,handleDoubleTap:a.showOrToggleModalPreviewCard,handleClick:a.handleCardClick(e),handleHover:a.props.setPreviewCardId,handleHoverLeave:a.props.clearPreviewCard,handleContextMenu:a.handleCardContextMenu,imgUrls:Fr(e,a.props.cardsData,a.props.currentGameType),typeCode:a.getCardType(e),faceup:e.faceup,numCardsInStack:e.cardStack.length,cardState:{stunned:e.statusTokens.stunned,confused:e.statusTokens.confused,tough:e.statusTokens.tough,tokens:{damage:0,threat:0,generic:0}}},e.id)})),s=this.props.cards.ghostCards.map((function(e){var o;return Object(r.jsx)(ir,{currentGameType:a.props.currentGameType,name:a.getCardName(e),code:a.getCardCode(e),selectedColor:null!==(o=a.props.playerColors[e.controlledBy])&&void 0!==o?o:"black",controlledBy:e.controlledBy,id:e.id,x:e.x,y:e.y,exhausted:e.exhausted,fill:e.fill,selected:!1,dragging:!1,shuffling:!1,imgUrls:Fr(e,a.props.cardsData,a.props.currentGameType),typeCode:a.getCardType(e),faceup:e.faceup,isGhost:!0},"ghost".concat(e.id))})),i=this.props.cards.cards.filter((function(e){return e.dragging})).map((function(e){var o;return Object(r.jsx)(ir,{currentGameType:a.props.currentGameType,name:a.getCardName(e),code:a.getCardCode(e),selectedColor:null!==(o=a.props.playerColors[e.controlledBy])&&void 0!==o?o:"black",controlledBy:e.controlledBy,id:e.id,x:e.x,y:e.y,exhausted:e.exhausted,fill:e.fill,selected:e.selected,dragging:e.dragging,shuffling:e.shuffling,handleDragStart:a.handleCardDragStart,handleDragMove:a.props.cardMove,handleDragEnd:a.props.endCardMove,imgUrls:Fr(e,a.props.cardsData,a.props.currentGameType),typeCode:a.getCardType(e),faceup:e.faceup,numCardsInStack:e.cardStack.length},e.id)})),c=this.props.cards.cards.some((function(e){return e.dragging&&e.controlledBy===v})),l=this.props.menuPreviewCard?[this.props.menuPreviewCard]:this.props.cards.cards.filter((function(e){return!!a.props.gameState.previewCard&&e.id===a.props.gameState.previewCard.id})),h=this.stage?l.filter((function(e){return!a.state.selecting&&!c})).map((function(e){var o,t,n=nr.includes(a.getCardType(e)),s=Fr(e,a.props.cardsData,a.props.currentGameType),i=a.getRawPreviewCardPosition(n),d=a.getRelativePositionFromTarget(a.stage,i),c=Pe;return c*=(t=Math.min(_e,n?window.innerWidth:window.innerHeight))/_e,s.some((function(e){return-1!==e.indexOf("card_back")}))?null:Object(r.jsx)(ir,{currentGameType:a.props.currentGameType,name:a.getCardName(e),code:a.getCardCode(e),selectedColor:null!==(o=a.props.playerColors[e.controlledBy])&&void 0!==o?o:"black",controlledBy:e.controlledBy,id:e.id,x:d.x,y:d.y,exhausted:n,fill:e.fill,selected:!1,dragging:!1,shuffling:!1,imgUrls:s,typeCode:a.getCardType(e),faceup:e.faceup,height:t/a.props.gameState.stageZoom.y,width:c/a.props.gameState.stageZoom.x,isPreview:!0},"preview".concat(e.id))})).filter((function(e){return null!==e})):[],u=this.state.playmatImageLoaded&&(null===(e=this.state.playmatImage)||void 0===e?void 0:e.naturalWidth)?2880/(null===(o=this.state.playmatImage)||void 0===o?void 0:o.naturalWidth):1;return Object(r.jsxs)("div",{className:"play-area",tabIndex:1,onKeyDown:this.handleKeyDown,onKeyPress:this.handleKeyPress,onMouseUp:function(e){a.props.gameState.draggingCardFromHand&&(a.captureLastMousePos=!1)},onTouchEnd:function(e){a.props.gameState.draggingCardFromHand&&(a.captureLastMousePos=!1)},onTouchMove:function(e){e.touches.length>0&&(a.captureLastMousePos&&(a.lastMousePos={x:e.touches.item(0).clientX,y:e.touches.item(0).clientY}),a.props.gameState.draggingCardFromHand&&a.props.cardFromHandMove(a.getRelativePositionFromTarget(a.stage,a.lastMousePos)))},onMouseMove:function(e){a.captureLastMousePos&&(a.lastMousePos={x:e.clientX,y:e.clientY}),a.props.gameState.draggingCardFromHand&&a.props.cardFromHandMove(a.getRelativePositionFromTarget(a.stage,a.lastMousePos))},children:[Object(r.jsx)(Jr,{playerNumber:null!==(t=this.props.playerNumbers[v])&&void 0!==t?t:1,droppedOnTable:function(e,o){var t,r,n,s=null!==(t=Object.values(a.props.dropTargetCardsById).filter((function(e){return e.ownerRef===v}))[0])&&void 0!==t?t:null;s?a.props.addToExistingCardStack({existingStackId:null!==(r=null===(n=s.card)||void 0===n?void 0:n.id)&&void 0!==r?r:"",cardJsonIds:[e]}):a.props.addCardStack({cardJsonIds:[e],position:a.getRelativePositionFromTarget(a.stage,o||a.lastMousePos)});a.captureLastMousePos=!0}}),Object(r.jsx)(da,{showCardSelector:function(e,o){var t,r;a.setState({showCardSearch:!0,cardSearchTouchBased:o,cardSearchPosition:null!==(t=null===(r=a.stage)||void 0===r?void 0:r.getPointerPosition())&&void 0!==t?t:null,cardStackForSearching:e})}}),Object(r.jsx)(ua,{}),this.renderEmptyMessage(),this.renderContextMenu(),this.renderPreviewCardModal(),this.renderOptionsMenu(),this.renderDeckImporter(),this.renderEncounterImporter(),this.renderCardSearch(),this.renderPeerConnector(),this.renderTokenModifier(),Object(r.jsx)(d.b.Consumer,{children:function(e){var o,t,c=e.store;return Object(r.jsx)(qt.d,{ref:function(e){e&&(a.stage=e)},x:a.props.gameState.stagePosition.x,y:a.props.gameState.stagePosition.y,width:a.state.stageWidth,height:a.state.stageHeight,onClick:a.handleStageClickOrTap,onTap:a.handleStageClickOrTap,onMouseDown:a.props.panMode?a.noOp:a.handleMouseDown,onMouseUp:a.props.panMode?a.noOp:a.handleMouseUp,onMouseMove:a.props.panMode?a.noOp:a.handleMouseMove,onTouchStart:a.handleTouchStart,onTouchMove:a.handleTouchMove,onTouchEnd:a.handleTouchEnd,onContextMenu:a.handleContextMenu,scale:a.props.gameState.stageZoom,onWheel:a.handleWheel,draggable:a.props.panMode,onDragMove:a.noOp,onDragEnd:a.noOp,preventDefault:!0,children:Object(r.jsxs)(d.a,{store:c,children:[Object(r.jsx)(qt.b,{children:Object(r.jsx)(qt.c,{fill:a.state.playmatImageLoaded?void 0:"lightgray",scale:{x:u,y:u},width:a.state.playmatImageLoaded?null===(o=a.state.playmatImage)||void 0===o?void 0:o.naturalWidth:2880,height:a.state.playmatImageLoaded?null===(t=a.state.playmatImage)||void 0===t?void 0:t.naturalHeight:1440,fillPatternImage:a.state.playmatImageLoaded&&a.state.playmatImage?a.state.playmatImage:void 0})}),Object(r.jsx)(qt.b,{children:a.props.counters.map((function(e){return Object(r.jsx)(Tr,{id:e.id,pos:e.position,value:e.value,color:e.color,updateCounterValueBy:a.handleCounterValueUpdate(e.id),handleContextMenu:a.handleCounterContextMenu(e.id),onDragEnd:a.handleCounterDrag(e.id)},"".concat(e.id,"-counter"))}))}),Object(r.jsxs)(qt.b,{preventDefault:!0,children:[s.concat(n).concat(i),Object(r.jsx)(Ir,{currentGameType:a.props.currentGameType}),h]}),Object(r.jsx)(qt.b,{children:Object(r.jsx)(qt.c,{x:a.state.selectStartPos.x,y:a.state.selectStartPos.y,width:a.state.selectRect.width,height:a.state.selectRect.height,stroke:"yellow",strokeWidth:4})})]})})}})]})}}]),t}(a.Component),Ra=["ant.json","ant_encounter.json","bkw.json","bkw_encounter.json","cap.json","cap_encounter.json","core.json","core_encounter.json","drax.json","drax_encounter.json","drs.json","drs_encounter.json","gam.json","gam_encounter.json","gmw.json","gmw_encounter.json","gob_encounter.json","hlk.json","hlk_encounter.json","msm.json","msm_encounter.json","mts.json","mts_encounter.json","nebu.json","nebu_encounter.json","qsv.json","qsv_encounter.json","ron_encounter.json","scw.json","scw_encounter.json","stld.json","stld_encounter.json","thor.json","thor_encounter.json","toafk_encounter.json","trors.json","trors_encounter.json","twc_encounter.json","vnm.json","vnm_encounter.json","wsp.json","wsp_encounter.json"],Ea=["A Journey To Rhosgobel.json","A Journey to Rhosgobel Nightmare.json","A Knife in the Dark Nightmare.json","A Shadow in the East.json","A Shadow of the Past Nightmare.json","A Storm on Cobas Haven Nightmare.json","A Storm on Cobas Haven.json","Across the Ettenmoors Nightmare.json","Across the Ettenmoors.json","Among the Outlaws.json","Assault on Osgiliath Nightmare.json","Assault on Osgiliath.json","Attack on Dol Guldur.json","Beneath the Sands.json","Breaking of the Fellowship Nightmare.json","Celebrimbor's Secret Nightmare.json","Celebrimbor's Secret.json","Challenge of the Wainriders.json","Children of Eorl.json","Conflict at the Carrock Nightmare.json","Conflict at the Carrock.json","Core Set.json","Deadmen's Dike Nightmare.json","Dungeons Deep and Caverns Dim Nightmare.json","Encounter at Amon D\xeen Nightmare.json","Encounter at Amon D\xeen.json","Escape From Dol Guldur Nightmare.json","Escape from Khazad-d\xfbm.json","Escape from Mount Gram Nightmare.json","Escape from Mount Gram.json","Fire in the Night.json","Fire on the Eastemnet.json","First Age.json","Flies and Spiders Nightmare.json","Flight from Moria Nightmare.json","Flight of the Stormcaller Nightmare.json","Flight of the Stormcaller.json","Flight to the Ford Nightmare.json","Fog on the Barrow-downs.json","Foundations of Stone Nightmare.json","Foundations of Stone.json","Heirs of N\xfamenor.json","Helm's Deep Nightmare.json","Into Fangorn Nightmare.json","Into Ithilien Nightmare.json","Into the Pit Nightmare.json","Intruders in Chetwood Nightmare.json","Journey Along the Anduin Nightmare.json","Journey in the Dark Nightmare.json","Journey to the Cross-roads Nightmare.json","Khazad-d\xfbm.json","Mount Gundabad.json","Murder at the Prancing Pony.json","Over the Misty Mountains Grim Nightmare.json","Passage Through Mirkwood Nightmare.json","Peril in Pelargir Nightmare.json","Race Across Harad.json","Raid on the Grey Havens Nightmare.json","Return to Mirkwood Nightmare.json","Return to Mirkwood.json","Revised Core Set.json","Road to Rivendell Nightmare.json","Road to Rivendell.json","Roam Across Rhovanion.json","Shadow and Flame Nightmare.json","Shadow and Flame.json","Shelob's Lair Nightmare.json","Temple of the Deceived Nightmare.json","Temple of the Deceived.json","The Aldburg Plot.json","The Antlered Crown Nightmare.json","The Antlered Crown.json","The Battle of Carn D\xfbm Nightmare.json","The Battle of Carn D\xfbm.json","The Battle of Five Armies Nightmare.json","The Battle of Lake-town.json","The Betrayal of M\xeem.json","The Black Riders.json","The Black Serpent.json","The Blood of Gondor Nightmare.json","The Blood of Gondor.json","The City of Corsairs Nightmare.json","The City of Corsairs.json","The City of Ulfast.json","The Crossings of Poros.json","The Dark of Mirkwood.json","The Dead Marshes Nightmare.json","The Dead Marshes.json","The Dread Realm Nightmare.json","The Dread Realm.json","The Drowned Ruins Nightmare.json","The Drowned Ruins.json","The Dr\xfaadan Forest Nightmare.json","The Dr\xfaadan Forest.json","The Dungeons of Cirith Gurat.json","The Dunland Trap Nightmare.json","The Dunland Trap.json","The Fall of Nargothrond.json","The Fate of N\xfamenor Nightmare.json","The Fate of Wilderland.json","The Flame of the West.json","The Fords of Isen Nightmare.json","The Fortress of Nurn.json","The Ghost of Framsburg.json","The Grey Havens.json","The Hills of Emyn Muil Nightmare.json","The Hills of Emyn Muil.json","The Hobbit: On the Doorstep.json","The Hobbit: Over Hill and Under Hill.json","The Hunt for Gollum Nightmare.json","The Hunt for Gollum.json","The Hunt for the Dreadnaught.json","The Land of Shadow.json","The Land of Sorrow.json","The Lonely Mountain Nightmare.json","The Long Dark Nightmare.json","The Long Dark.json","The Lost Realm.json","The Massing at Osgiliath.json","The Mines of Moria.json","The Morgul Vale Nightmare.json","The Morgul Vale.json","The Mountain of Fire.json","The M\xfbmakil.json","The N\xeen-in-Eilph Nightmare.json","The N\xeen-in-Eilph.json","The Old Forest.json","The Passage of the Marshes Nightmare.json","The Redhorn Gate Nightmare.json","The Redhorn Gate.json","The Ring Goes South Nightmare.json","The Road Darkens.json","The Road to Isengard Nightmare.json","The Ruins of Belegost.json","The Sands of Harad.json","The Scouring of the Shire.json","The Seventh Level Nightmare.json","The Siege of Ann\xfaminas.json","The Siege of Cair Andros Nightmare.json","The Steward's Fear Nightmare.json","The Steward's Fear.json","The Stone of Erech.json","The Thing in the Depths Nightmare.json","The Thing in the Depths.json","The Three Trials Nightmare.json","The Three Trials.json","The Treachery of Rhudaur Nightmare.json","The Treachery of Rhudaur.json","The Treason of Saruman.json","The Uruk-hai Nightmare.json","The Voice of Isengard.json","The Wastes of Eriador Nightmare.json","The Wastes of Eriador.json","The Watcher in the Water Nightmare.json","The Watcher in the Water.json","The Weather Hills Nightmare.json","The Wilds of Rhovanion.json","The Withered Heath.json","The Wizard's Quest.json","The Woodland Realm.json","To Catch an Orc Nightmare.json","Trial Upon the Marches.json","Trouble in Tharbad Nightmare.json","Trouble in Tharbad.json","Two-Player Limited Edition Starter.json","Under the Ash Mountains.json","Voyage Across Belegaer Nightmare.json","We Must Away, Ere Break of Day Nightmare.json","Wrath and Ruin.json"],Aa=function(){var e=Object(Fe.a)(Le.a.mark((function e(o){var t;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He.a.get("/json_data/"+o);case 2:return t=e.sent,e.abrupt("return",{res:t,packCode:o.split(".json")[0]});case 4:case"end":return e.stop()}}),e)})));return function(o){return e.apply(this,arguments)}}(),La=function(){var e=Object(Fe.a)(Le.a.mark((function e(o){var t;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He.a.get("/json_data/"+o);case 2:return t=e.sent,e.abrupt("return",{res:t,packCode:o.split(".json")[0]});case 4:case"end":return e.stop()}}),e)})));return function(o){return e.apply(this,arguments)}}(),Fa=function(){var e=Object(Fe.a)(Le.a.mark((function e(o){var t;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He.a.get("/json_data/scenarios/"+o+".json");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(o){return e.apply(this,arguments)}}(),Ba=Object(d.c)((function(e){return{playerColors:lo(e),playerNumbers:ho(e),cards:jo(e),cardsData:$e(e),panMode:Co(e),multiselectMode:yo(e),gameState:co(e),counters:_r(e),peerId:uo(e),dropTargetCardsById:To(e),menuPreviewCard:go(e)}}),{cardMove:ot,endCardMove:tt,cardFromHandMove:rt,exhaustCard:$o,deleteCardStack:et,loadCardsData:he,allJsonData:function(){return function(){var e=Object(Fe.a)(Le.a.mark((function e(o){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(Ra.map((function(e){return Aa(e)})));case 2:return e.sent.forEach((function(e){200===e.res.status?o(ue({packType:h.MarvelChampions,pack:e.res.data,pack_code:e.packCode})):console.error("Failed to load some json data")})),e.next=6,Promise.all(Ea.map((function(e){return La(e)})));case 6:return e.sent.forEach((function(e){200===e.res.status?o(ue({packType:h.LordOfTheRingsLivingCardGame,pack:e.res.data,pack_code:e.packCode})):console.error("Failed to load some json data")})),e.next=10,Promise.all(_.map((function(e){return Fa(e.Title)})));case 10:e.sent.forEach((function(e){200===e.status?o(pe({setCode:e.data.Slug,cards:e.data.AllCards})):console.error("Failed to load some json data")}));case 12:case"end":return e.stop()}}),e)})));return function(o){return e.apply(this,arguments)}}()},selectCard:Zo,unselectCard:Yo,toggleSelectCard:Xo,selectMultipleCards:at,startCardMove:function(e){return function(o){var t=Object(N.a)(Object(N.a)({},e),{},{splitCardId:Object(b.a)()});o(be(t))}},unselectAllCards:nt,togglePanMode:st,flipCards:dt,shuffleStack:wo,fetchDecklistById:ko,updateZoom:G,updatePosition:Q,resetApp:P,addCardStack:function(e){return function(o){var t=Object(N.a)(Object(N.a)({},e),{},{id:Object(b.a)()});o(fe(t))}},toggleToken:ct,adjustCounterToken:lt,pullCardOutOfCardStack:function(e){return function(o){var t=Object(N.a)(Object(N.a)({},e),{},{id:Object(b.a)()});o(ge(t))}},addNewCounter:function(e){return function(o){var t={pos:e,id:Object(b.a)()};o(vt(t))}},updateCounterValue:kt,removeCounter:Ot,moveCounter:xt,connectToRemoteGame:W,requestResync:J,undo:g.ActionCreators.undo,redo:g.ActionCreators.redo,drawCardsOutOfCardStack:So,setPreviewCardId:V,clearPreviewCard:K,quitGame:X,updateCounterColor:Pt,createDeckFromTxt:function(e){return function(o,t){if(e.gameType===h.MarvelChampions){var r=to(t()),a=ro(t());o(ye(Oo(function(e,o,t,r){var a=r.split("\n").map((function(e){return e.trim()})).filter((function(e){return!!e})),n="",s=a.findIndex((function(e){return e.toLocaleLowerCase().startsWith("pack")}));-1!==s&&(n=a[s-1]);var i=e[n];if(!i)throw new Error("Could not find hero with name ".concat(n));var d=/^\dx/,c=a.filter((function(e){var o;return 0===(null===(o=e.match(d))||void 0===o?void 0:o.index)})),l={};return c.forEach((function(e){var t=parseInt(e[0]);if(Number.isNaN(t))throw new Error("Could not get number from txt file for card");var r=e.split(d)[1].split("(")[0].trim(),a=o[r];l[a.code]=t})),console.log(n),{data:{investigator_code:i.code,slots:l}}}(r,a,e.position,e.txtContents),t(),{gameType:e.gameType,decklistId:-1,position:e.position})))}}},createDeckFromJson:function(e){return function(o,t){e.gameType===h.MarvelChampions&&o(ye(Oo(JSON.parse(e.jsonContents),t(),{gameType:e.gameType,decklistId:-1,position:e.position})))}},generateGameStateUrl:function(){return function(e,o){var t=o(),r=t.liveState.present.cards.cards,a=t.liveState.present.counters,n=t.game.activeGameType,s=Io.a.crush(JSON.stringify(r)),i=Io.a.crush(JSON.stringify(a));Da("".concat("".concat(window.location.origin).concat(window.location.pathname),"?gameType=").concat(n,"&cards=").concat(encodeURIComponent(s),"&counters=").concat(encodeURIComponent(i)))}},saveDeckAsJson:function(e){return function(){if(e&&!(e.cardStack.length<1)){var o=e.cardStack[0],t={data:{investigator_code:o.jsonId}},r={};e.cardStack.forEach((function(e,o){0!==o&&(r[e.jsonId]?r[e.jsonId]=r[e.jsonId]+1:r[e.jsonId]=1)})),t.data.slots=r;var a="".concat(o.jsonId,"_deck.json"),n=document.createElement("a");n.style.display="none",n.download=a,n.href="data:application/json;charset=utf-8;,"+encodeURIComponent(JSON.stringify(t,null,2)),n.target="_blank",document.body.appendChild(n),n.click(),document.body.removeChild(n)}}},showRadialMenuAtPosition:$,showSpecificCardLoader:oe,adjustModifier:ut,clearAllModifiers:pt,addToPlayerHand:gt,addToExistingCardStack:jt})(Na),Ha=(t(269),t.p+"static/media/card-table-transparent.c608764a.png"),Ga=function(e){return Object(r.jsxs)("div",{className:"game-picker",children:[Object(r.jsx)("img",{className:"logo",alt:"cardtable",src:Ha}),Object(r.jsxs)(cr.a,{className:"select",children:[Object(r.jsx)(fr.a,{id:"game-picker-label",children:"Select Game"}),Object(r.jsx)(dr.a,{id:"game-picker",labelId:"game-picker-label",onChange:function(o){e.updateActiveGameType(o.target.value)},children:Object.entries(h).map((function(e){var o=Object(T.a)(e,2),t=o[0],a=o[1],n=t.replace(/([A-Z])/g," $1").replace(/^./,(function(e){return e.toUpperCase()}));return Object(r.jsx)(lr.a,{value:a,children:n})}))})]})]})},Qa=function(e){var o=e.clearQueryParams;return Object(a.useEffect)((function(){o()}),[o]),e.activeGameType?Object(r.jsx)(Ba,{currentGameType:e.activeGameType}):Ga(e)},Wa=Object(d.c)((function(e){return{activeGameType:po(e)}}),{updateActiveGameType:Y,clearQueryParams:function(){return function(){new URLSearchParams(window.location.search).get("gameType")&&window.history.replaceState({},document.title,window.location.pathname||"/")}}})(Qa),Ua=function(){console.log("configuring store. NODE_ENV is production");var e=Object(m.a)({reducer:Dt,middleware:Gt,devTools:!1});return e.subscribe(p()((function(){!function(e){var o=["cardsData"];try{Object.entries(e).forEach((function(e){var t=Object(T.a)(e,2),r=t[0],a=t[1];if(!o.includes(r)){var n=JSON.stringify(a);localStorage.setItem(r,n)}}))}catch(t){console.error("Error writing state to local storage")}}(e.getState())}),1e3)),e}();i.a.render(Object(r.jsx)(n.a.StrictMode,{children:Object(r.jsx)(d.a,{store:Ua,children:Object(r.jsx)(Wa,{})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var o="".concat("","/service-worker.js");c?(!function(e,o){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var r=t.headers.get("content-type");404===t.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):l(e,o)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(o,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):l(o,e)}))}}()}},[[270,1,2]]]);
//# sourceMappingURL=main.1d660254.chunk.js.map